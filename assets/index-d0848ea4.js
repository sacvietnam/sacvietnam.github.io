import{aF as Nn,A as $i,aj as st,_ as Te,ac as le,aV as Tt,aN as Pi,ae as ct,ag as Pn,a2 as en,a6 as tn,a5 as St,aW as ko,X as ie,x as Ke,r as C,F as yt,aX as To,H as Hn,I as re,aa as Ie,aH as wr,aI as Tl,aY as Sr,af as Fn,ah as Se,aJ as nt,ak as Vn,ad as Er,S as bi,aZ as yi,aS as Ln,a3 as In,B as At,ab as Zt,a_ as hn,a$ as Ci,b0 as Nl,b1 as No,b2 as Hi,ai as W,aK as Fi,b3 as Ll,b4 as Il,b5 as kr,b6 as Rl,b7 as Kn,b8 as Un,b9 as jn,ba as ne,bb as Wn,bc as Vi,aE as ft,a9 as Ki,bd as Lo,a8 as Rn,be as Io,Z as Ro,bf as Tr,bg as Nr,V as Ui,bh as rn,al as Lr,a1 as Bo,bi as Bl,bj as Ir,G as Oo,j,L as Ft,aU as nn,aT as Ue,bk as Mo,u as Do,bl as Rr,aw as Ao,ax as Br,az as Or,bm as Mr}from"./index-51183d7f.js";import{C as Dr,D as zo,R as $o,I as Bn,S as qn,u as Ar}from"./useMobile-a54becfd.js";import{b as zr,c as Ol,d as $r}from"./index.esm-aac39c94.js";import{b as Pr}from"./index.esm-e7ba8e48.js";import{u as pn,A as Hr}from"./AxiosJWTConfig-54097723.js";import{g as Fr,a as Vr,s as Kr,c as Ur,d as jr,h as Wr,r as qr,u as Zr,e as Xr,b as Gr}from"./articleService-fa1498c6.js";import{f as Po}from"./index.esm-5a656ef8.js";import{F as Nt}from"./Formatter-fb77eadb.js";import{C as Yr,p as gn}from"./pickAttrs-4856a254.js";import{a as wn,g as Ml,I as _i}from"./index-9465b3b4.js";import{D as Ho,C as Jr,L as Fo,a as Qr,u as Vo,b as ea,P as Ko,S as ta}from"./Pagination-67e77464.js";import{T as na,W as ia,B as Je}from"./button-9b5ae836.js";import{F as Uo,i as la,g as Dl,a as oa,b as sa,c as ra,d as aa,e as ca,f as da,h as ua,u as fa,j as ha,k as ga,S as pa}from"./index-f064d780.js";import{E as Al}from"./index-065e50bb.js";import{L as xi,_ as ma,a as zl}from"./compact-item-c1d3c96e.js";import{C as va,m as je}from"./index-677a26b7.js";import{D as ba,P as Xt}from"./DeleteOutlined-886d7e03.js";import{a as jo}from"./index.esm-08ed952b.js";import{b as Wo}from"./authService-57dbc50f.js";import{B as ya,b as Ca,g as _a,F as ut,T as xa}from"./index-8632c68b.js";import{i as wa,E as Sa}from"./EyeOutlined-5f22b75d.js";import{C as Ea,u as ka}from"./CloseCircleFilled-aa26d74b.js";import{P as qo}from"./PlusOutlined-57d49e80.js";import{g as Ta,a as Na,s as La,c as Ia,d as Ra,h as Ba,r as Oa,u as Ma,e as Da,b as Aa}from"./productService-521eee96.js";import{I as si}from"./index-544acc2f.js";import"./RightOutlined-d1bd1910.js";import"./Dropdown-fa716670.js";import"./gapSize-a2278ff3.js";import"./LeftOutlined-9a65a1da.js";import"./index-e5b4e112.js";import"./ActionButton-d7adb534.js";const za=e=>({color:e.colorLink,textDecoration:"none",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"&:focus, &:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive}});function wi(e){return e!=null&&e===e.window}function $a(e,t){var i,n;if(typeof window>"u")return 0;const l=t?"scrollTop":"scrollLeft";let r=0;return wi(e)?r=e[t?"pageYOffset":"pageXOffset"]:e instanceof Document?r=e.documentElement[l]:(e instanceof HTMLElement||e)&&(r=e[l]),e&&!wi(e)&&typeof r!="number"&&(r=(n=((i=e.ownerDocument)!==null&&i!==void 0?i:e).documentElement)===null||n===void 0?void 0:n[l]),r}function Pa(e,t,i,n){const l=i-t;return e/=n/2,e<1?l/2*e*e*e+t:l/2*((e-=2)*e*e+2)+t}function Ha(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:i=()=>window,callback:n,duration:l=450}=t,r=i(),u=$a(r,!0),c=Date.now(),o=()=>{const d=Date.now()-c,g=Pa(d>l?l:d,u,e,l);wi(r)?r.scrollTo(window.pageXOffset,g):r instanceof Document||r.constructor.name==="HTMLDocument"?r.documentElement.scrollTop=g:r.scrollTop=g,d<l?Nn(o):typeof n=="function"&&n()};Nn(o)}var Zo=function(t){if($i()&&window.document.documentElement){var i=Array.isArray(t)?t:[t],n=window.document.documentElement;return i.some(function(l){return l in n.style})}return!1},Fa=function(t,i){if(!Zo(t))return!1;var n=document.createElement("div"),l=n.style[t];return n.style[t]=i,n.style[t]!==l};function Va(e,t){return!Array.isArray(e)&&t!==void 0?Fa(e,t):Zo(e)}function pt(e,t){return e[t]}var Ka=["children"];function Xo(e,t){return"".concat(e,"-").concat(t)}function Ua(e){return e&&e.type&&e.type.isTreeNode}function mn(e,t){return e??t}function Gt(e){var t=e||{},i=t.title,n=t._title,l=t.key,r=t.children,u=i||"title";return{title:u,_title:n||[u],key:l||"key",children:r||"children"}}function Go(e){function t(i){var n=Pi(i);return n.map(function(l){if(!Ua(l))return Tt(!l,"Tree/TreeNode can only accept TreeNode as children."),null;var r=l.key,u=l.props,c=u.children,o=ct(u,Ka),f=le({key:r},o),d=t(c);return d.length&&(f.children=d),f}).filter(function(l){return l})}return t(e)}function ri(e,t,i){var n=Gt(i),l=n._title,r=n.key,u=n.children,c=new Set(t===!0?[]:t),o=[];function f(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return d.map(function(y,_){for(var S=Xo(g?g.pos:"0",_),T=mn(y[r],S),s,a=0;a<l.length;a+=1){var h=l[a];if(y[h]!==void 0){s=y[h];break}}var p=le(le({},Pn(y,[].concat(Te(l),[r,u]))),{},{title:s,key:T,parent:g,pos:S,children:null,data:y,isStart:[].concat(Te(g?g.isStart:[]),[_===0]),isEnd:[].concat(Te(g?g.isEnd:[]),[_===d.length-1])});return o.push(p),t===!0||c.has(T)?p.children=f(y[u]||[],p):p.children=[],p})}return f(e),o}function ja(e,t,i){var n={};st(i)==="object"?n=i:n={externalGetKey:i},n=n||{};var l=n,r=l.childrenPropName,u=l.externalGetKey,c=l.fieldNames,o=Gt(c),f=o.key,d=o.children,g=r||d,y;u?typeof u=="string"?y=function(T){return T[u]}:typeof u=="function"&&(y=function(T){return u(T)}):y=function(T,s){return mn(T[f],s)};function _(S,T,s,a){var h=S?S[g]:e,p=S?Xo(s.pos,T):"0",m=S?[].concat(Te(a),[S]):[];if(S){var v=y(S,p),b={node:S,index:T,pos:p,key:v,parentPos:s.node?s.pos:null,level:s.level+1,nodes:m};t(b)}h&&h.forEach(function(w,E){_(w,E,{node:S,pos:p,level:s?s.level+1:-1},m)})}_(null)}function ji(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.initWrapper,n=t.processEntity,l=t.onProcessFinished,r=t.externalGetKey,u=t.childrenPropName,c=t.fieldNames,o=arguments.length>2?arguments[2]:void 0,f=r||o,d={},g={},y={posEntities:d,keyEntities:g};return i&&(y=i(y)||y),ja(e,function(_){var S=_.node,T=_.index,s=_.pos,a=_.key,h=_.parentPos,p=_.level,m=_.nodes,v={node:S,nodes:m,index:T,key:a,pos:s,level:p},b=mn(a,s);d[s]=v,g[b]=v,v.parent=d[h],v.parent&&(v.parent.children=v.parent.children||[],v.parent.children.push(v)),n&&n(v,y)},{externalGetKey:f,childrenPropName:u,fieldNames:c}),l&&l(y),y}function dn(e,t){var i=t.expandedKeys,n=t.selectedKeys,l=t.loadedKeys,r=t.loadingKeys,u=t.checkedKeys,c=t.halfCheckedKeys,o=t.dragOverNodeKey,f=t.dropPosition,d=t.keyEntities,g=pt(d,e),y={eventKey:e,expanded:i.indexOf(e)!==-1,selected:n.indexOf(e)!==-1,loaded:l.indexOf(e)!==-1,loading:r.indexOf(e)!==-1,checked:u.indexOf(e)!==-1,halfChecked:c.indexOf(e)!==-1,pos:String(g?g.pos:""),dragOver:o===e&&f===0,dragOverGapTop:o===e&&f===-1,dragOverGapBottom:o===e&&f===1};return y}function Ge(e){var t=e.data,i=e.expanded,n=e.selected,l=e.checked,r=e.loaded,u=e.loading,c=e.halfChecked,o=e.dragOver,f=e.dragOverGapTop,d=e.dragOverGapBottom,g=e.pos,y=e.active,_=e.eventKey,S=le(le({},t),{},{expanded:i,selected:n,checked:l,loaded:r,loading:u,halfChecked:c,dragOver:o,dragOverGapTop:f,dragOverGapBottom:d,pos:g,active:y,key:_});return"props"in S||Object.defineProperty(S,"props",{get:function(){return Tt(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),S}function Yo(e,t){var i=new Set;return e.forEach(function(n){t.has(n)||i.add(n)}),i}function Wa(e){var t=e||{},i=t.disabled,n=t.disableCheckbox,l=t.checkable;return!!(i||n)||l===!1}function qa(e,t,i,n){for(var l=new Set(e),r=new Set,u=0;u<=i;u+=1){var c=t.get(u)||new Set;c.forEach(function(g){var y=g.key,_=g.node,S=g.children,T=S===void 0?[]:S;l.has(y)&&!n(_)&&T.filter(function(s){return!n(s.node)}).forEach(function(s){l.add(s.key)})})}for(var o=new Set,f=i;f>=0;f-=1){var d=t.get(f)||new Set;d.forEach(function(g){var y=g.parent,_=g.node;if(!(n(_)||!g.parent||o.has(g.parent.key))){if(n(g.parent.node)){o.add(y.key);return}var S=!0,T=!1;(y.children||[]).filter(function(s){return!n(s.node)}).forEach(function(s){var a=s.key,h=l.has(a);S&&!h&&(S=!1),!T&&(h||r.has(a))&&(T=!0)}),S&&l.add(y.key),T&&r.add(y.key),o.add(y.key)}})}return{checkedKeys:Array.from(l),halfCheckedKeys:Array.from(Yo(r,l))}}function Za(e,t,i,n,l){for(var r=new Set(e),u=new Set(t),c=0;c<=n;c+=1){var o=i.get(c)||new Set;o.forEach(function(y){var _=y.key,S=y.node,T=y.children,s=T===void 0?[]:T;!r.has(_)&&!u.has(_)&&!l(S)&&s.filter(function(a){return!l(a.node)}).forEach(function(a){r.delete(a.key)})})}u=new Set;for(var f=new Set,d=n;d>=0;d-=1){var g=i.get(d)||new Set;g.forEach(function(y){var _=y.parent,S=y.node;if(!(l(S)||!y.parent||f.has(y.parent.key))){if(l(y.parent.node)){f.add(_.key);return}var T=!0,s=!1;(_.children||[]).filter(function(a){return!l(a.node)}).forEach(function(a){var h=a.key,p=r.has(h);T&&!p&&(T=!1),!s&&(p||u.has(h))&&(s=!0)}),T||r.delete(_.key),s&&u.add(_.key),f.add(_.key)}})}return{checkedKeys:Array.from(r),halfCheckedKeys:Array.from(Yo(u,r))}}function Wt(e,t,i,n){var l=[],r;n?r=n:r=Wa;var u=new Set(e.filter(function(d){var g=!!pt(i,d);return g||l.push(d),g})),c=new Map,o=0;Object.keys(i).forEach(function(d){var g=i[d],y=g.level,_=c.get(y);_||(_=new Set,c.set(y,_)),_.add(g),o=Math.max(o,y)}),Tt(!l.length,"Tree missing follow keys: ".concat(l.slice(0,100).map(function(d){return"'".concat(d,"'")}).join(", ")));var f;return t===!0?f=qa(u,c,o,r):f=Za(u,t.halfCheckedKeys,c,o,r),f}const Xa=e=>{const{checkboxCls:t}=e,i=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},St(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[i]:Object.assign(Object.assign({},St(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${i}`]:{marginInlineStart:0},[`&${i}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},St(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},ko(e))},[`${t}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${ie(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${ie(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`
        ${i}:not(${i}-disabled),
        ${t}:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${i}:not(${i}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`
        ${i}-checked:not(${i}-disabled),
        ${t}-checked:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{[`${t}-inner`]:{backgroundColor:e.colorBgContainer,borderColor:e.colorBorder,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${i}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function Jo(e,t){const i=tn(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[Xa(i)]}const Qo=en("Checkbox",(e,t)=>{let{prefixCls:i}=t;return[Jo(i,e)]}),Ga=Ke.createContext(null),es=Ga;var Ya=globalThis&&globalThis.__rest||function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(i[n[l]]=e[n[l]]);return i};const Ja=(e,t)=>{var i;const{prefixCls:n,className:l,rootClassName:r,children:u,indeterminate:c=!1,style:o,onMouseEnter:f,onMouseLeave:d,skipGroup:g=!1,disabled:y}=e,_=Ya(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:S,direction:T,checkbox:s}=C.useContext(yt),a=C.useContext(es),{isFormItemInput:h}=C.useContext(Uo),p=C.useContext(To),m=(i=(a==null?void 0:a.disabled)||y)!==null&&i!==void 0?i:p,v=C.useRef(_.value);C.useEffect(()=>{a==null||a.registerValue(_.value)},[]),C.useEffect(()=>{if(!g)return _.value!==v.current&&(a==null||a.cancelValue(v.current),a==null||a.registerValue(_.value),v.current=_.value),()=>a==null?void 0:a.cancelValue(_.value)},[_.value]);const b=S("checkbox",n),w=Hn(b),[E,x,k]=Qo(b,w),B=Object.assign({},_);a&&!g&&(B.onChange=function(){_.onChange&&_.onChange.apply(_,arguments),a.toggleOption&&a.toggleOption({label:u,value:_.value})},B.name=a.name,B.checked=a.value.includes(_.value));const N=re(`${b}-wrapper`,{[`${b}-rtl`]:T==="rtl",[`${b}-wrapper-checked`]:B.checked,[`${b}-wrapper-disabled`]:m,[`${b}-wrapper-in-form-item`]:h},s==null?void 0:s.className,l,r,k,w,x),L=re({[`${b}-indeterminate`]:c},na,x),I=c?"mixed":void 0;return E(C.createElement(ia,{component:"Checkbox",disabled:m},C.createElement("label",{className:N,style:Object.assign(Object.assign({},s==null?void 0:s.style),o),onMouseEnter:f,onMouseLeave:d},C.createElement(Dr,Object.assign({"aria-checked":I},B,{prefixCls:b,className:L,disabled:m,ref:t})),u!==void 0&&C.createElement("span",null,u))))},Qa=C.forwardRef(Ja),ts=Qa;var ec=globalThis&&globalThis.__rest||function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(i[n[l]]=e[n[l]]);return i};const tc=C.forwardRef((e,t)=>{const{defaultValue:i,children:n,options:l=[],prefixCls:r,className:u,rootClassName:c,style:o,onChange:f}=e,d=ec(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:g,direction:y}=C.useContext(yt),[_,S]=C.useState(d.value||i||[]),[T,s]=C.useState([]);C.useEffect(()=>{"value"in d&&S(d.value||[])},[d.value]);const a=C.useMemo(()=>l.map(O=>typeof O=="string"||typeof O=="number"?{label:O,value:O}:O),[l]),h=O=>{s(P=>P.filter(M=>M!==O))},p=O=>{s(P=>[].concat(Te(P),[O]))},m=O=>{const P=_.indexOf(O.value),M=Te(_);P===-1?M.push(O.value):M.splice(P,1),"value"in d||S(M),f==null||f(M.filter(R=>T.includes(R)).sort((R,$)=>{const A=a.findIndex(z=>z.value===R),F=a.findIndex(z=>z.value===$);return A-F}))},v=g("checkbox",r),b=`${v}-group`,w=Hn(v),[E,x,k]=Qo(v,w),B=Pn(d,["value","disabled"]),N=l.length?a.map(O=>C.createElement(ts,{prefixCls:v,key:O.value.toString(),disabled:"disabled"in O?O.disabled:d.disabled,value:O.value,checked:_.includes(O.value),onChange:O.onChange,className:`${b}-item`,style:O.style,title:O.title,id:O.id,required:O.required},O.label)):n,L={toggleOption:m,value:_,disabled:d.disabled,name:d.name,registerValue:p,cancelValue:h},I=re(b,{[`${b}-rtl`]:y==="rtl"},u,c,k,w,x);return E(C.createElement("div",Object.assign({className:I,style:o},B,{ref:t}),C.createElement(es.Provider,{value:L},N)))}),nc=tc,Wi=ts;Wi.Group=nc;Wi.__ANT_CHECKBOX=!0;const On=Wi,ic=function(){const e=Object.assign({},arguments.length<=0?void 0:arguments[0]);for(let t=1;t<arguments.length;t++){const i=t<0||arguments.length<=t?void 0:arguments[t];i&&Object.keys(i).forEach(n=>{const l=i[n];l!==void 0&&(e[n]=l)})}return e},lc=ic;function oc(){var e=C.useState({id:0,callback:null}),t=Ie(e,2),i=t[0],n=t[1],l=C.useCallback(function(r){n(function(u){var c=u.id;return{id:c+1,callback:r}})},[]);return C.useEffect(function(){var r;(r=i.callback)===null||r===void 0||r.call(i)},[i]),l}var ns=C.createContext(null);function sc(e){var t=C.useContext(ns),i=t.notFoundContent,n=t.activeIndex,l=t.setActiveIndex,r=t.selectOption,u=t.onFocus,c=t.onBlur,o=e.prefixCls,f=e.options,d=f[n]||{};return C.createElement(wr,{prefixCls:"".concat(o,"-menu"),activeKey:d.key,onSelect:function(y){var _=y.key,S=f.find(function(T){var s=T.key;return s===_});r(S)},onFocus:u,onBlur:c},f.map(function(g,y){var _=g.key,S=g.disabled,T=g.className,s=g.style,a=g.label;return C.createElement(Tl,{key:_,disabled:S,className:T,style:s,onMouseEnter:function(){l(y)}},a)}),!f.length&&C.createElement(Tl,{disabled:!0},i))}var rc={bottomRight:{points:["tl","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomLeft:{points:["tr","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topRight:{points:["bl","tr"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["br","tl"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}}},ac=function(t){var i=t.prefixCls,n=t.options,l=t.children,r=t.visible,u=t.transitionName,c=t.getPopupContainer,o=t.dropdownClassName,f=t.direction,d=t.placement,g="".concat(i,"-dropdown"),y=C.createElement(sc,{prefixCls:g,options:n}),_=C.useMemo(function(){var S;return f==="rtl"?S=d==="top"?"topLeft":"bottomLeft":S=d==="top"?"topRight":"bottomRight",S},[f,d]);return C.createElement(Sr,{prefixCls:g,popupVisible:r,popup:y,popupPlacement:_,popupTransitionName:u,builtinPlacements:rc,getPopupContainer:c,popupClassName:o},l)},cc=function(){return null};function dc(e){var t=e.selectionStart;return e.value.slice(0,t)}function uc(e,t){return t.reduce(function(i,n){var l=e.lastIndexOf(n);return l>i.location?{location:l,prefix:n}:i},{location:-1,prefix:""})}function $l(e){return(e||"").toLowerCase()}function fc(e,t,i){var n=e[0];if(!n||n===i)return e;for(var l=e,r=t.length,u=0;u<r;u+=1)if($l(l[u])!==$l(t[u])){l=l.slice(u);break}else u===r-1&&(l=l.slice(r));return l}function hc(e,t){var i=t.measureLocation,n=t.prefix,l=t.targetText,r=t.selectionStart,u=t.split,c=e.slice(0,i);c[c.length-u.length]===u&&(c=c.slice(0,c.length-u.length)),c&&(c="".concat(c).concat(u));var o=fc(e.slice(r),l.slice(r-i-n.length),u);o.slice(0,u.length)===u&&(o=o.slice(u.length));var f="".concat(c).concat(n).concat(l).concat(u);return{text:"".concat(f).concat(o),selectionLocation:f.length}}function gc(e,t){e.setSelectionRange(t,t),e.blur(),e.focus()}function pc(e,t){return!t||e.indexOf(t)===-1}function mc(e,t){var i=t.value,n=i===void 0?"":i,l=e.toLowerCase();return n.toLowerCase().indexOf(l)!==-1}var vc=["prefixCls","className","style","prefix","split","notFoundContent","value","defaultValue","children","options","open","allowClear","validateSearch","filterOption","onChange","onKeyDown","onKeyUp","onPressEnter","onSearch","onSelect","onFocus","onBlur","transitionName","placement","direction","getPopupContainer","dropdownClassName","rows"],bc=["suffix","prefixCls","defaultValue","value","allowClear","onChange","classNames","className","disabled"],yc=C.forwardRef(function(e,t){var i=e.prefixCls,n=e.className,l=e.style,r=e.prefix,u=r===void 0?"@":r,c=e.split,o=c===void 0?" ":c,f=e.notFoundContent,d=f===void 0?"Not Found":f,g=e.value,y=e.defaultValue,_=e.children,S=e.options,T=e.open;e.allowClear;var s=e.validateSearch,a=s===void 0?pc:s,h=e.filterOption,p=h===void 0?mc:h,m=e.onChange,v=e.onKeyDown,b=e.onKeyUp,w=e.onPressEnter,E=e.onSearch,x=e.onSelect,k=e.onFocus,B=e.onBlur,N=e.transitionName,L=e.placement,I=e.direction,O=e.getPopupContainer,P=e.dropdownClassName,M=e.rows,R=M===void 0?1:M,$=ct(e,vc),A=C.useMemo(function(){return Array.isArray(u)?u:[u]},[u]),F=C.useRef(null),z=C.useRef(null),H=function(){var _e;return(_e=F.current)===null||_e===void 0||(_e=_e.resizableTextArea)===null||_e===void 0?void 0:_e.textArea};Ke.useImperativeHandle(t,function(){var Pe;return{focus:function(){var Ne;return(Ne=F.current)===null||Ne===void 0?void 0:Ne.focus()},blur:function(){var Ne;return(Ne=F.current)===null||Ne===void 0?void 0:Ne.blur()},textarea:(Pe=F.current)===null||Pe===void 0||(Pe=Pe.resizableTextArea)===null||Pe===void 0?void 0:Pe.textArea}});var D=C.useState(!1),V=Ie(D,2),q=V[0],K=V[1],Z=C.useState(""),G=Ie(Z,2),U=G[0],Y=G[1],ee=C.useState(""),J=Ie(ee,2),X=J[0],te=J[1],ue=C.useState(0),Q=Ie(ue,2),oe=Q[0],me=Q[1],se=C.useState(0),Ee=Ie(se,2),de=Ee[0],be=Ee[1],ke=C.useState(!1),fe=Ie(ke,2),De=fe[0],Ae=fe[1],ze=Fn("",{defaultValue:y,value:g}),ve=Ie(ze,2),ge=ve[0],ye=ve[1];C.useEffect(function(){q&&z.current&&(z.current.scrollTop=H().scrollTop)},[q]);var Oe=Ke.useMemo(function(){if(T)for(var Pe=0;Pe<A.length;Pe+=1){var _e=A[Pe],Ne=ge.lastIndexOf(_e);if(Ne>=0)return[!0,"",_e,Ne]}return[q,U,X,oe]},[T,q,A,ge,U,X,oe]),ae=Ie(Oe,4),ce=ae[0],he=ae[1],pe=ae[2],Ce=ae[3],Re=Ke.useCallback(function(Pe){var _e;return S&&S.length>0?_e=S.map(function(Ne){var We;return le(le({},Ne),{},{key:(We=Ne==null?void 0:Ne.key)!==null&&We!==void 0?We:Ne.value})}):_e=Pi(_).map(function(Ne){var We=Ne.props,xe=Ne.key;return le(le({},We),{},{label:We.children,key:xe||We.value})}),_e.filter(function(Ne){return p===!1?!0:p(Pe,Ne)})},[_,S,p]),Fe=Ke.useMemo(function(){return Re(he)},[Re,he]),Xe=oc(),it=function(_e,Ne,We){K(!0),Y(_e),te(Ne),me(We),be(0)},$e=function(_e){K(!1),me(0),Y(""),Xe(_e)},It=function(_e){ye(_e),m==null||m(_e)},lt=function(_e){var Ne=_e.target.value;It(Ne)},at=function(_e){var Ne,We=_e.value,xe=We===void 0?"":We,we=hc(ge,{measureLocation:Ce,targetText:xe,prefix:pe,selectionStart:(Ne=H())===null||Ne===void 0?void 0:Ne.selectionStart,split:o}),He=we.text,Ve=we.selectionLocation;It(He),$e(function(){gc(H(),Ve)}),x==null||x(_e,pe)},gt=function(_e){var Ne=_e.which;if(v==null||v(_e),!!ce){if(Ne===nt.UP||Ne===nt.DOWN){var We=Fe.length,xe=Ne===nt.UP?-1:1,we=(de+xe+We)%We;be(we),_e.preventDefault()}else if(Ne===nt.ESC)$e();else if(Ne===nt.ENTER){if(_e.preventDefault(),!Fe.length){$e();return}var He=Fe[de];at(He)}}},Ct=function(_e){var Ne=_e.key,We=_e.which,xe=_e.target,we=dc(xe),He=uc(we,A),Ve=He.location,qe=He.prefix;if(b==null||b(_e),[nt.ESC,nt.UP,nt.DOWN,nt.ENTER].indexOf(We)===-1)if(Ve!==-1){var Ze=we.slice(Ve+qe.length),ot=a(Ze,o),Et=!!Re(Ze).length;ot?(Ne===qe||Ne==="Shift"||ce||Ze!==he&&Et)&&it(Ze,qe,Ve):ce&&$e(),E&&ot&&E(Ze,qe)}else ce&&$e()},Qe=function(_e){!ce&&w&&w(_e)},Ye=C.useRef(),dt=function(_e){window.clearTimeout(Ye.current),!De&&_e&&k&&k(_e),Ae(!0)},_t=function(_e){Ye.current=window.setTimeout(function(){Ae(!1),$e(),B==null||B(_e)},0)},xt=function(){dt()},mt=function(){_t()};return Ke.createElement("div",{className:re(i,n),style:l},Ke.createElement(Ca,Se({ref:F,value:ge},$,{rows:R,onChange:lt,onKeyDown:gt,onKeyUp:Ct,onPressEnter:Qe,onFocus:dt,onBlur:_t})),ce&&Ke.createElement("div",{ref:z,className:"".concat(i,"-measure")},ge.slice(0,Ce),Ke.createElement(ns.Provider,{value:{notFoundContent:d,activeIndex:de,setActiveIndex:be,selectOption:at,onFocus:xt,onBlur:mt}},Ke.createElement(ac,{prefixCls:i,transitionName:N,placement:L,direction:I,options:Fe,visible:!0,getPopupContainer:O,dropdownClassName:P},Ke.createElement("span",null,pe))),ge.slice(Ce+pe.length)))}),qi=C.forwardRef(function(e,t){var i=e.suffix,n=e.prefixCls,l=n===void 0?"rc-mentions":n,r=e.defaultValue,u=e.value,c=e.allowClear,o=e.onChange,f=e.classNames,d=e.className,g=e.disabled,y=ct(e,bc),_=Fn("",{defaultValue:r,value:u}),S=Ie(_,2),T=S[0],s=S[1],a=function(m){s(m),o==null||o(m)},h=function(){a("")};return Ke.createElement(ya,{suffix:i,prefixCls:l,value:T,allowClear:c,handleReset:h,className:d,classNames:f,disabled:g},Ke.createElement(yc,Se({className:f==null?void 0:f.mentions,prefixCls:l,ref:t,onChange:a},y)))});qi.Option=cc;const Cc=e=>{const{componentCls:t,colorTextDisabled:i,controlItemBgHover:n,controlPaddingHorizontal:l,colorText:r,motionDurationSlow:u,lineHeight:c,controlHeight:o,paddingInline:f,paddingBlock:d,fontSize:g,fontSizeIcon:y,colorTextTertiary:_,colorTextQuaternary:S,colorBgElevated:T,paddingXXS:s,paddingLG:a,borderRadius:h,borderRadiusLG:p,boxShadowSecondary:m,itemPaddingVertical:v,calc:b}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},St(e)),Dl(e)),{position:"relative",display:"inline-block",height:"auto",padding:0,overflow:"hidden",lineHeight:c,whiteSpace:"pre-wrap",verticalAlign:"bottom"}),oa(e)),sa(e)),ra(e)),{"&-affix-wrapper":Object.assign(Object.assign({},Dl(e)),{display:"inline-flex",padding:0,"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}-suffix`]:{position:"absolute",top:0,insetInlineEnd:f,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto"},[`&:has(${t}-suffix) > ${t} > textarea`]:{paddingInlineEnd:a},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:0,insetBlockStart:b(g).mul(c).mul(.5).add(d).equal(),transform:"translateY(-50%)",margin:0,color:S,fontSize:y,verticalAlign:-1,cursor:"pointer",transition:`color ${u}`,"&:hover":{color:_},"&:active":{color:r},"&-hidden":{visibility:"hidden"}}}),"&-disabled":{"> textarea":Object.assign({},aa(e))},[`&, &-affix-wrapper > ${t}`]:{[`> textarea, ${t}-measure`]:{color:r,boxSizing:"border-box",minHeight:e.calc(o).sub(2),margin:0,padding:`${ie(d)} ${ie(f)}`,overflow:"inherit",overflowX:"hidden",overflowY:"auto",fontWeight:"inherit",fontSize:"inherit",fontFamily:"inherit",fontStyle:"inherit",fontVariant:"inherit",fontSizeAdjust:"inherit",fontStretch:"inherit",lineHeight:"inherit",direction:"inherit",letterSpacing:"inherit",whiteSpace:"inherit",textAlign:"inherit",verticalAlign:"top",wordWrap:"break-word",wordBreak:"inherit",tabSize:"inherit"},"> textarea":Object.assign({width:"100%",border:"none",outline:"none",resize:"none",backgroundColor:"transparent"},ca(e.colorTextPlaceholder)),[`${t}-measure`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:-1,color:"transparent",pointerEvents:"none","> span":{display:"inline-block",minHeight:"1em"}}},"&-dropdown":Object.assign(Object.assign({},St(e)),{position:"absolute",top:-9999,insetInlineStart:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",fontSize:g,fontVariant:"initial",padding:s,backgroundColor:T,borderRadius:p,outline:"none",boxShadow:m,"&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.dropdownHeight,margin:0,paddingInlineStart:0,overflow:"auto",listStyle:"none",outline:"none","&-item":Object.assign(Object.assign({},Vn),{position:"relative",display:"block",minWidth:e.controlItemWidth,padding:`${ie(v)} ${ie(l)}`,color:r,borderRadius:h,fontWeight:"normal",lineHeight:c,cursor:"pointer",transition:`background ${u} ease`,"&:hover":{backgroundColor:n},"&-disabled":{color:i,cursor:"not-allowed","&:hover":{color:i,backgroundColor:n,cursor:"not-allowed"}},"&-selected":{color:r,fontWeight:e.fontWeightStrong,backgroundColor:n},"&-active":{backgroundColor:n}})}})})}},_c=e=>Object.assign(Object.assign({},da(e)),{dropdownHeight:250,controlItemWidth:100,zIndexPopup:e.zIndexPopupBase+50,itemPaddingVertical:(e.controlHeight-e.fontHeight)/2}),xc=en("Mentions",e=>{const t=tn(e,la(e));return[Cc(t)]},_c);var wc=globalThis&&globalThis.__rest||function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(i[n[l]]=e[n[l]]);return i};const{Option:Mn}=qi;function Sc(){return!0}const Ec=C.forwardRef((e,t)=>{const{prefixCls:i,className:n,rootClassName:l,disabled:r,loading:u,filterOption:c,children:o,notFoundContent:f,options:d,status:g,allowClear:y=!1,popupClassName:_,style:S,variant:T}=e,s=wc(e,["prefixCls","className","rootClassName","disabled","loading","filterOption","children","notFoundContent","options","status","allowClear","popupClassName","style","variant"]),[a,h]=C.useState(!1),p=C.useRef(null),m=Er(t,p),{getPrefixCls:v,renderEmpty:b,direction:w,mentions:E}=C.useContext(yt),{status:x,hasFeedback:k,feedbackIcon:B}=C.useContext(Uo),N=ga(x,g),L=function(){s.onFocus&&s.onFocus.apply(s,arguments),h(!0)},I=function(){s.onBlur&&s.onBlur.apply(s,arguments),h(!1)},O=C.useMemo(()=>f!==void 0?f:(b==null?void 0:b("Select"))||C.createElement(Ho,{componentName:"Select"}),[f,b]),P=C.useMemo(()=>u?C.createElement(Mn,{value:"ANTD_SEARCHING",disabled:!0},C.createElement(bi,{size:"small"})):o,[u,o]),M=u?[{value:"ANTD_SEARCHING",disabled:!0,label:C.createElement(bi,{size:"small"})}]:d,R=u?Sc:c,$=v("mentions",i),A=_a(y),F=Hn($),[z,H,D]=xc($,F),[V,q]=fa(T),K=k&&C.createElement(C.Fragment,null,B),Z=re(E==null?void 0:E.className,n,l,D,F),G=C.createElement(qi,Object.assign({prefixCls:$,notFoundContent:O,className:Z,disabled:r,allowClear:A,direction:w,style:Object.assign(Object.assign({},E==null?void 0:E.style),S)},s,{filterOption:R,onFocus:L,onBlur:I,dropdownClassName:re(_,l,H,D,F),ref:m,options:M,suffix:K,classNames:{mentions:re({[`${$}-disabled`]:r,[`${$}-focused`]:a,[`${$}-rtl`]:w==="rtl"},H),variant:re({[`${$}-${V}`]:q},ha($,N)),affixWrapper:H}}),P);return z(G)}),Zn=Ec;Zn.Option=Mn;const kc=ua(Zn,"mentions");Zn._InternalPanelDoNotUseOrYouWillBeFired=kc;Zn.getMentions=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{prefix:i="@",split:n=" "}=t,l=Array.isArray(i)?i:[i];return e.split(n).map(function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",u=null;return l.some(c=>r.slice(0,c.length)===c?(u=c,!0):!1),u!==null?{prefix:u,value:r.slice(u.length)}:null}).filter(r=>!!r&&!!r.value)};var Tc={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},Nc=function(){var t=C.useRef([]),i=C.useRef(null);return C.useEffect(function(){var n=Date.now(),l=!1;t.current.forEach(function(r){if(r){l=!0;var u=r.style;u.transitionDuration=".3s, .3s, .3s, .06s",i.current&&n-i.current<100&&(u.transitionDuration="0s, 0s")}}),l&&(i.current=Date.now())}),t.current},Pl=0,Lc=$i();function Ic(){var e;return Lc?(e=Pl,Pl+=1):e="TEST_OR_SSR",e}const Rc=function(e){var t=C.useState(),i=Ie(t,2),n=i[0],l=i[1];return C.useEffect(function(){l("rc_progress_".concat(Ic()))},[]),e||n};var Hl=function(t){var i=t.bg,n=t.children;return C.createElement("div",{style:{width:"100%",height:"100%",background:i}},n)};function Fl(e,t){return Object.keys(e).map(function(i){var n=parseFloat(i),l="".concat(Math.floor(n*t),"%");return"".concat(e[i]," ").concat(l)})}var Bc=C.forwardRef(function(e,t){var i=e.prefixCls,n=e.color,l=e.gradientId,r=e.radius,u=e.style,c=e.ptg,o=e.strokeLinecap,f=e.strokeWidth,d=e.size,g=e.gapDegree,y=n&&st(n)==="object",_=y?"#FFF":void 0,S=d/2,T=C.createElement("circle",{className:"".concat(i,"-circle-path"),r,cx:S,cy:S,stroke:_,strokeLinecap:o,strokeWidth:f,opacity:c===0?0:1,style:u,ref:t});if(!y)return T;var s="".concat(l,"-conic"),a=g?"".concat(180+g/2,"deg"):"0deg",h=Fl(n,(360-g)/360),p=Fl(n,1),m="conic-gradient(from ".concat(a,", ").concat(h.join(", "),")"),v="linear-gradient(to ".concat(g?"bottom":"top",", ").concat(p.join(", "),")");return C.createElement(C.Fragment,null,C.createElement("mask",{id:s},T),C.createElement("foreignObject",{x:0,y:0,width:d,height:d,mask:"url(#".concat(s,")")},C.createElement(Hl,{bg:v},C.createElement(Hl,{bg:m}))))}),an=100,ai=function(t,i,n,l,r,u,c,o,f,d){var g=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,y=n/100*360*((360-u)/360),_=u===0?0:{bottom:0,top:180,left:90,right:-90}[c],S=(100-l)/100*i;f==="round"&&l!==100&&(S+=d/2,S>=i&&(S=i-.01));var T=an/2;return{stroke:typeof o=="string"?o:void 0,strokeDasharray:"".concat(i,"px ").concat(t),strokeDashoffset:S+g,transform:"rotate(".concat(r+y+_,"deg)"),transformOrigin:"".concat(T,"px ").concat(T,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},Oc=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function Vl(e){var t=e??[];return Array.isArray(t)?t:[t]}var Mc=function(t){var i=le(le({},Tc),t),n=i.id,l=i.prefixCls,r=i.steps,u=i.strokeWidth,c=i.trailWidth,o=i.gapDegree,f=o===void 0?0:o,d=i.gapPosition,g=i.trailColor,y=i.strokeLinecap,_=i.style,S=i.className,T=i.strokeColor,s=i.percent,a=ct(i,Oc),h=an/2,p=Rc(n),m="".concat(p,"-gradient"),v=h-u/2,b=Math.PI*2*v,w=f>0?90+f/2:-90,E=b*((360-f)/360),x=st(r)==="object"?r:{count:r,gap:2},k=x.count,B=x.gap,N=Vl(s),L=Vl(T),I=L.find(function(F){return F&&st(F)==="object"}),O=I&&st(I)==="object",P=O?"butt":y,M=ai(b,E,0,100,w,f,d,g,P,u),R=Nc(),$=function(){var z=0;return N.map(function(H,D){var V=L[D]||L[L.length-1],q=ai(b,E,z,H,w,f,d,V,P,u);return z+=H,C.createElement(Bc,{key:D,color:V,ptg:H,radius:v,prefixCls:l,gradientId:m,style:q,strokeLinecap:P,strokeWidth:u,gapDegree:f,ref:function(Z){R[D]=Z},size:an})}).reverse()},A=function(){var z=Math.round(k*(N[0]/100)),H=100/k,D=0;return new Array(k).fill(null).map(function(V,q){var K=q<=z-1?L[0]:g,Z=K&&st(K)==="object"?"url(#".concat(m,")"):void 0,G=ai(b,E,D,H,w,f,d,K,"butt",u,B);return D+=(E-G.strokeDashoffset+B)*100/E,C.createElement("circle",{key:q,className:"".concat(l,"-circle-path"),r:v,cx:h,cy:h,stroke:Z,strokeWidth:u,opacity:1,style:G,ref:function(Y){R[q]=Y}})})};return C.createElement("svg",Se({className:re("".concat(l,"-circle"),S),viewBox:"0 0 ".concat(an," ").concat(an),style:_,id:n,role:"presentation"},a),!k&&C.createElement("circle",{className:"".concat(l,"-circle-trail"),r:v,cx:h,cy:h,stroke:g,strokeLinecap:P,strokeWidth:c||u,style:M}),k?A():$())};function Mt(e){return!e||e<0?0:e>100?100:e}function Dn(e){let{success:t,successPercent:i}=e,n=i;return t&&"progress"in t&&(n=t.progress),t&&"percent"in t&&(n=t.percent),n}const Dc=e=>{let{percent:t,success:i,successPercent:n}=e;const l=Mt(Dn({success:i,successPercent:n}));return[l,Mt(Mt(t)-l)]},Ac=e=>{let{success:t={},strokeColor:i}=e;const{strokeColor:n}=t;return[n||yi.green,i||null]},Xn=(e,t,i)=>{var n,l,r,u;let c=-1,o=-1;if(t==="step"){const f=i.steps,d=i.strokeWidth;typeof e=="string"||typeof e>"u"?(c=e==="small"?2:14,o=d??8):typeof e=="number"?[c,o]=[e,e]:[c=14,o=8]=e,c*=f}else if(t==="line"){const f=i==null?void 0:i.strokeWidth;typeof e=="string"||typeof e>"u"?o=f||(e==="small"?6:8):typeof e=="number"?[c,o]=[e,e]:[c=-1,o=8]=e}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e>"u"?[c,o]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[c,o]=[e,e]:(c=(l=(n=e[0])!==null&&n!==void 0?n:e[1])!==null&&l!==void 0?l:120,o=(u=(r=e[0])!==null&&r!==void 0?r:e[1])!==null&&u!==void 0?u:120));return[c,o]},zc=3,$c=e=>zc/e*100,Pc=e=>{const{prefixCls:t,trailColor:i=null,strokeLinecap:n="round",gapPosition:l,gapDegree:r,width:u=120,type:c,children:o,success:f,size:d=u,steps:g}=e,[y,_]=Xn(d,"circle");let{strokeWidth:S}=e;S===void 0&&(S=Math.max($c(y),6));const T={width:y,height:_,fontSize:y*.15+6},s=C.useMemo(()=>{if(r||r===0)return r;if(c==="dashboard")return 75},[r,c]),a=Dc(e),h=l||c==="dashboard"&&"bottom"||void 0,p=Object.prototype.toString.call(e.strokeColor)==="[object Object]",m=Ac({success:f,strokeColor:e.strokeColor}),v=re(`${t}-inner`,{[`${t}-circle-gradient`]:p}),b=C.createElement(Mc,{steps:g,percent:g?a[1]:a,strokeWidth:S,trailWidth:S,strokeColor:g?m[1]:m,strokeLinecap:n,trailColor:i,prefixCls:t,gapDegree:s,gapPosition:h});return C.createElement("div",{className:v,style:T},y<=20?C.createElement(Ln,{title:o},b):C.createElement(C.Fragment,null,b,o))},Hc=Pc,An="--progress-line-stroke-color",is="--progress-percent",Kl=e=>{const t=e?"100%":"-100%";return new In(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},Fc=e=>{const{componentCls:t,iconCls:i}=e;return{[t]:Object.assign(Object.assign({},St(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-block",width:"100%"},[`&${t}-show-info`]:{[`${t}-outer`]:{marginInlineEnd:`calc(-2em - ${ie(e.marginXS)})`,paddingInlineEnd:`calc(2em + ${ie(e.paddingXS)})`}},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${An})`]},height:"100%",width:`calc(1 / var(${is}) * 100%)`,display:"block"}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",width:"2em",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[i]:{fontSize:e.fontSize}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:Kl(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:Kl(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},Vc=e=>{const{componentCls:t,iconCls:i}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[i]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},Kc=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},Uc=e=>{const{componentCls:t,iconCls:i}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${i}`]:{fontSize:e.fontSizeSM}}}},jc=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`}),Wc=en("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),i=tn(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[Fc(i),Vc(i),Kc(i),Uc(i)]},jc);var qc=globalThis&&globalThis.__rest||function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(i[n[l]]=e[n[l]]);return i};const Zc=e=>{let t=[];return Object.keys(e).forEach(i=>{const n=parseFloat(i.replace(/%/g,""));isNaN(n)||t.push({key:n,value:e[i]})}),t=t.sort((i,n)=>i.key-n.key),t.map(i=>{let{key:n,value:l}=i;return`${l} ${n}%`}).join(", ")},Xc=(e,t)=>{const{from:i=yi.blue,to:n=yi.blue,direction:l=t==="rtl"?"to left":"to right"}=e,r=qc(e,["from","to","direction"]);if(Object.keys(r).length!==0){const c=Zc(r),o=`linear-gradient(${l}, ${c})`;return{background:o,[An]:o}}const u=`linear-gradient(${l}, ${i}, ${n})`;return{background:u,[An]:u}},Gc=e=>{const{prefixCls:t,direction:i,percent:n,size:l,strokeWidth:r,strokeColor:u,strokeLinecap:c="round",children:o,trailColor:f=null,success:d}=e,g=u&&typeof u!="string"?Xc(u,i):{[An]:u,background:u},y=c==="square"||c==="butt"?0:void 0,_=l??[-1,r||(l==="small"?6:8)],[S,T]=Xn(_,"line",{strokeWidth:r}),s={backgroundColor:f||void 0,borderRadius:y},a=Object.assign(Object.assign({width:`${Mt(n)}%`,height:T,borderRadius:y},g),{[is]:Mt(n)/100}),h=Dn(e),p={width:`${Mt(h)}%`,height:T,borderRadius:y,backgroundColor:d==null?void 0:d.strokeColor},m={width:S<0?"100%":S,height:T};return C.createElement(C.Fragment,null,C.createElement("div",{className:`${t}-outer`,style:m},C.createElement("div",{className:`${t}-inner`,style:s},C.createElement("div",{className:`${t}-bg`,style:a}),h!==void 0?C.createElement("div",{className:`${t}-success-bg`,style:p}):null)),o)},Yc=Gc,Jc=e=>{const{size:t,steps:i,percent:n=0,strokeWidth:l=8,strokeColor:r,trailColor:u=null,prefixCls:c,children:o}=e,f=Math.round(i*(n/100)),g=t??[t==="small"?2:14,l],[y,_]=Xn(g,"step",{steps:i,strokeWidth:l}),S=y/i,T=new Array(i);for(let s=0;s<i;s++){const a=Array.isArray(r)?r[s]:r;T[s]=C.createElement("div",{key:s,className:re(`${c}-steps-item`,{[`${c}-steps-item-active`]:s<=f-1}),style:{backgroundColor:s<=f-1?a:u,width:S,height:_}})}return C.createElement("div",{className:`${c}-steps-outer`},T,o)},Qc=Jc;var ed=globalThis&&globalThis.__rest||function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(i[n[l]]=e[n[l]]);return i};const td=["normal","exception","active","success"],nd=C.forwardRef((e,t)=>{const{prefixCls:i,className:n,rootClassName:l,steps:r,strokeColor:u,percent:c=0,size:o="default",showInfo:f=!0,type:d="line",status:g,format:y,style:_}=e,S=ed(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style"]),T=C.useMemo(()=>{var L,I;const O=Dn(e);return parseInt(O!==void 0?(L=O??0)===null||L===void 0?void 0:L.toString():(I=c??0)===null||I===void 0?void 0:I.toString(),10)},[c,e.success,e.successPercent]),s=C.useMemo(()=>!td.includes(g)&&T>=100?"success":g||"normal",[g,T]),{getPrefixCls:a,direction:h,progress:p}=C.useContext(yt),m=a("progress",i),[v,b,w]=Wc(m),E=C.useMemo(()=>{if(!f)return null;const L=Dn(e);let I;const O=y||(M=>`${M}%`),P=d==="line";return y||s!=="exception"&&s!=="success"?I=O(Mt(c),Mt(L)):s==="exception"?I=P?C.createElement(Ea,null):C.createElement(Yr,null):s==="success"&&(I=P?C.createElement(va,null):C.createElement(Jr,null)),C.createElement("span",{className:`${m}-text`,title:typeof I=="string"?I:void 0},I)},[f,c,T,s,d,m,y]),x=Array.isArray(u)?u[0]:u,k=typeof u=="string"||Array.isArray(u)?u:void 0;let B;d==="line"?B=r?C.createElement(Qc,Object.assign({},e,{strokeColor:k,prefixCls:m,steps:typeof r=="object"?r.count:r}),E):C.createElement(Yc,Object.assign({},e,{strokeColor:x,prefixCls:m,direction:h}),E):(d==="circle"||d==="dashboard")&&(B=C.createElement(Hc,Object.assign({},e,{strokeColor:x,prefixCls:m,progressStatus:s}),E));const N=re(m,`${m}-status-${s}`,{[`${m}-${d==="dashboard"&&"circle"||d}`]:d!=="line",[`${m}-inline-circle`]:d==="circle"&&Xn(o,"circle")[0]<=20,[`${m}-line`]:!r&&d==="line",[`${m}-steps`]:r,[`${m}-show-info`]:f,[`${m}-${o}`]:typeof o=="string",[`${m}-rtl`]:h==="rtl"},p==null?void 0:p.className,n,l,b,w);return v(C.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},p==null?void 0:p.style),_),className:N,role:"progressbar","aria-valuenow":T},Pn(S,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),B))}),id=nd;var Ot={},vn="rc-table-internal-hook";function Zi(e){var t=C.createContext(void 0),i=function(l){var r=l.value,u=l.children,c=C.useRef(r);c.current=r;var o=C.useState(function(){return{getValue:function(){return c.current},listeners:new Set}}),f=Ie(o,1),d=f[0];return Zt(function(){Ci.unstable_batchedUpdates(function(){d.listeners.forEach(function(g){g(r)})})},[r]),C.createElement(t.Provider,{value:d},u)};return{Context:t,Provider:i,defaultValue:e}}function rt(e,t){var i=At(typeof t=="function"?t:function(g){if(t===void 0)return g;if(!Array.isArray(t))return g[t];var y={};return t.forEach(function(_){y[_]=g[_]}),y}),n=C.useContext(e==null?void 0:e.Context),l=n||{},r=l.listeners,u=l.getValue,c=C.useRef();c.current=i(n?u():e==null?void 0:e.defaultValue);var o=C.useState({}),f=Ie(o,2),d=f[1];return Zt(function(){if(!n)return;function g(y){var _=i(y);hn(c.current,_,!0)||d({})}return r.add(g),function(){r.delete(g)}},[n]),c.current}function ld(){var e=C.createContext(null);function t(){return C.useContext(e)}function i(l,r){var u=Nl(l),c=function(f,d){var g=u?{ref:d}:{},y=C.useRef(0),_=C.useRef(f),S=t();return S!==null?C.createElement(l,Se({},f,g)):((!r||r(_.current,f))&&(y.current+=1),_.current=f,C.createElement(e.Provider,{value:y.current},C.createElement(l,Se({},f,g))))};return u?C.forwardRef(c):c}function n(l,r){var u=Nl(l),c=function(f,d){var g=u?{ref:d}:{};return t(),C.createElement(l,Se({},f,g))};return u?C.memo(C.forwardRef(c),r):C.memo(c,r)}return{makeImmutable:i,responseImmutable:n,useImmutableMark:t}}var Xi=ld(),ls=Xi.makeImmutable,ln=Xi.responseImmutable,od=Xi.useImmutableMark,ht=Zi(),os=C.createContext({renderWithProps:!1}),sd="RC_TABLE_KEY";function rd(e){return e==null?[]:Array.isArray(e)?e:[e]}function Gn(e){var t=[],i={};return e.forEach(function(n){for(var l=n||{},r=l.key,u=l.dataIndex,c=r||rd(u).join("-")||sd;i[c];)c="".concat(c,"_next");i[c]=!0,t.push(c)}),t}function Si(e){return e!=null}function ad(e){return e&&st(e)==="object"&&!Array.isArray(e)&&!C.isValidElement(e)}function cd(e,t,i,n,l,r){var u=C.useContext(os),c=od(),o=No(function(){if(Si(n))return[n];var f=t==null||t===""?[]:Array.isArray(t)?t:[t],d=Hi(e,f),g=d,y=void 0;if(l){var _=l(d,e,i);ad(_)?(g=_.children,y=_.props,u.renderWithProps=!0):g=_}return[g,y]},[c,e,n,t,l,i],function(f,d){if(r){var g=Ie(f,2),y=g[1],_=Ie(d,2),S=_[1];return r(S,y)}return u.renderWithProps?!0:!hn(f,d,!0)});return o}function dd(e,t,i,n){var l=e+t-1;return e<=n&&l>=i}function ud(e,t){return rt(ht,function(i){var n=dd(e,t||1,i.hoverStartRow,i.hoverEndRow);return[n,i.onHover]})}var fd=function(t){var i=t.ellipsis,n=t.rowType,l=t.children,r,u=i===!0?{showTitle:!0}:i;return u&&(u.showTitle||n==="header")&&(typeof l=="string"||typeof l=="number"?r=l.toString():C.isValidElement(l)&&typeof l.props.children=="string"&&(r=l.props.children)),r};function hd(e){var t,i,n,l,r,u,c,o,f=e.component,d=e.children,g=e.ellipsis,y=e.scope,_=e.prefixCls,S=e.className,T=e.align,s=e.record,a=e.render,h=e.dataIndex,p=e.renderIndex,m=e.shouldCellUpdate,v=e.index,b=e.rowType,w=e.colSpan,E=e.rowSpan,x=e.fixLeft,k=e.fixRight,B=e.firstFixLeft,N=e.lastFixLeft,L=e.firstFixRight,I=e.lastFixRight,O=e.appendNode,P=e.additionalProps,M=P===void 0?{}:P,R=e.isSticky,$="".concat(_,"-cell"),A=rt(ht,["supportSticky","allColumnsFixedLeft","rowHoverable"]),F=A.supportSticky,z=A.allColumnsFixedLeft,H=A.rowHoverable,D=cd(s,h,p,d,a,m),V=Ie(D,2),q=V[0],K=V[1],Z={},G=typeof x=="number"&&F,U=typeof k=="number"&&F;G&&(Z.position="sticky",Z.left=x),U&&(Z.position="sticky",Z.right=k);var Y=(t=(i=(n=K==null?void 0:K.colSpan)!==null&&n!==void 0?n:M.colSpan)!==null&&i!==void 0?i:w)!==null&&t!==void 0?t:1,ee=(l=(r=(u=K==null?void 0:K.rowSpan)!==null&&u!==void 0?u:M.rowSpan)!==null&&r!==void 0?r:E)!==null&&l!==void 0?l:1,J=ud(v,ee),X=Ie(J,2),te=X[0],ue=X[1],Q=At(function(ke){var fe;s&&ue(v,v+ee-1),M==null||(fe=M.onMouseEnter)===null||fe===void 0||fe.call(M,ke)}),oe=At(function(ke){var fe;s&&ue(-1,-1),M==null||(fe=M.onMouseLeave)===null||fe===void 0||fe.call(M,ke)});if(Y===0||ee===0)return null;var me=(c=M.title)!==null&&c!==void 0?c:fd({rowType:b,ellipsis:g,children:q}),se=re($,S,(o={},W(W(W(W(W(W(W(W(W(W(o,"".concat($,"-fix-left"),G&&F),"".concat($,"-fix-left-first"),B&&F),"".concat($,"-fix-left-last"),N&&F),"".concat($,"-fix-left-all"),N&&z&&F),"".concat($,"-fix-right"),U&&F),"".concat($,"-fix-right-first"),L&&F),"".concat($,"-fix-right-last"),I&&F),"".concat($,"-ellipsis"),g),"".concat($,"-with-append"),O),"".concat($,"-fix-sticky"),(G||U)&&R&&F),W(o,"".concat($,"-row-hover"),!K&&te)),M.className,K==null?void 0:K.className),Ee={};T&&(Ee.textAlign=T);var de=le(le(le(le({},Z),M.style),Ee),K==null?void 0:K.style),be=q;return st(be)==="object"&&!Array.isArray(be)&&!C.isValidElement(be)&&(be=null),g&&(N||L)&&(be=C.createElement("span",{className:"".concat($,"-content")},be)),C.createElement(f,Se({},K,M,{className:se,style:de,title:me,scope:y,onMouseEnter:H?Q:void 0,onMouseLeave:H?oe:void 0,colSpan:Y!==1?Y:null,rowSpan:ee!==1?ee:null}),O,be)}const Vt=C.memo(hd);function Gi(e,t,i,n,l){var r=i[e]||{},u=i[t]||{},c,o;r.fixed==="left"?c=n.left[l==="rtl"?t:e]:u.fixed==="right"&&(o=n.right[l==="rtl"?e:t]);var f=!1,d=!1,g=!1,y=!1,_=i[t+1],S=i[e-1],T=_&&!_.fixed||S&&!S.fixed||i.every(function(m){return m.fixed==="left"});if(l==="rtl"){if(c!==void 0){var s=S&&S.fixed==="left";y=!s&&T}else if(o!==void 0){var a=_&&_.fixed==="right";g=!a&&T}}else if(c!==void 0){var h=_&&_.fixed==="left";f=!h&&T}else if(o!==void 0){var p=S&&S.fixed==="right";d=!p&&T}return{fixLeft:c,fixRight:o,lastFixLeft:f,firstFixRight:d,lastFixRight:g,firstFixLeft:y,isSticky:n.isSticky}}var ss=C.createContext({});function gd(e){var t=e.className,i=e.index,n=e.children,l=e.colSpan,r=l===void 0?1:l,u=e.rowSpan,c=e.align,o=rt(ht,["prefixCls","direction"]),f=o.prefixCls,d=o.direction,g=C.useContext(ss),y=g.scrollColumnIndex,_=g.stickyOffsets,S=g.flattenColumns,T=i+r-1,s=T+1===y?r+1:r,a=Gi(i,i+s-1,S,_,d);return C.createElement(Vt,Se({className:t,index:i,component:"td",prefixCls:f,record:null,dataIndex:null,align:c,colSpan:s,rowSpan:u,render:function(){return n}},a))}var pd=["children"];function md(e){var t=e.children,i=ct(e,pd);return C.createElement("tr",i,t)}function Yn(e){var t=e.children;return t}Yn.Row=md;Yn.Cell=gd;function vd(e){var t=e.children,i=e.stickyOffsets,n=e.flattenColumns,l=rt(ht,"prefixCls"),r=n.length-1,u=n[r],c=C.useMemo(function(){return{stickyOffsets:i,flattenColumns:n,scrollColumnIndex:u!=null&&u.scrollbar?r:null}},[u,n,r,i]);return C.createElement(ss.Provider,{value:c},C.createElement("tfoot",{className:"".concat(l,"-summary")},t))}const Sn=ln(vd);var rs=Yn;function bd(e){return null}function yd(e){return null}function as(e,t,i,n,l,r,u){e.push({record:t,indent:i,index:u});var c=r(t),o=l==null?void 0:l.has(c);if(t&&Array.isArray(t[n])&&o)for(var f=0;f<t[n].length;f+=1)as(e,t[n][f],i+1,n,l,r,f)}function cs(e,t,i,n){var l=C.useMemo(function(){if(i!=null&&i.size){for(var r=[],u=0;u<(e==null?void 0:e.length);u+=1){var c=e[u];as(r,c,0,t,i,n,u)}return r}return e==null?void 0:e.map(function(o,f){return{record:o,indent:0,index:f}})},[e,t,i,n]);return l}function ds(e,t,i,n){var l=rt(ht,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),r=l.flattenColumns,u=l.expandableType,c=l.expandedKeys,o=l.childrenColumnName,f=l.onTriggerExpand,d=l.rowExpandable,g=l.onRow,y=l.expandRowByClick,_=l.rowClassName,S=u==="nest",T=u==="row"&&(!d||d(e)),s=T||S,a=c&&c.has(t),h=o&&e&&e[o],p=At(f),m=g==null?void 0:g(e,i),v=m==null?void 0:m.onClick,b=function(k){y&&s&&f(e,k);for(var B=arguments.length,N=new Array(B>1?B-1:0),L=1;L<B;L++)N[L-1]=arguments[L];v==null||v.apply(void 0,[k].concat(N))},w;typeof _=="string"?w=_:typeof _=="function"&&(w=_(e,i,n));var E=Gn(r);return le(le({},l),{},{columnsKey:E,nestExpandable:S,expanded:a,hasNestChildren:h,record:e,onTriggerExpand:p,rowSupportExpand:T,expandable:s,rowProps:le(le({},m),{},{className:re(w,m==null?void 0:m.className),onClick:b})})}function us(e){var t=e.prefixCls,i=e.children,n=e.component,l=e.cellComponent,r=e.className,u=e.expanded,c=e.colSpan,o=e.isEmpty,f=rt(ht,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),d=f.scrollbarSize,g=f.fixHeader,y=f.fixColumn,_=f.componentWidth,S=f.horizonScroll,T=i;return(o?S&&_:y)&&(T=C.createElement("div",{style:{width:_-(g?d:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},T)),C.createElement(n,{className:r,style:{display:u?null:"none"}},C.createElement(Vt,{component:l,prefixCls:t,colSpan:c},T))}function fs(e,t,i,n,l){var r=e.record,u=e.prefixCls,c=e.columnsKey,o=e.fixedInfoList,f=e.expandIconColumnIndex,d=e.nestExpandable,g=e.indentSize,y=e.expandIcon,_=e.expanded,S=e.hasNestChildren,T=e.onTriggerExpand,s=c[i],a=o[i],h;i===(f||0)&&d&&(h=C.createElement(C.Fragment,null,C.createElement("span",{style:{paddingLeft:"".concat(g*n,"px")},className:"".concat(u,"-row-indent indent-level-").concat(n)}),y({prefixCls:u,expanded:_,expandable:S,record:r,onExpand:T})));var p;return t.onCell&&(p=t.onCell(r,l)),{key:s,fixedInfo:a,appendCellNode:h,additionalCellProps:p||{}}}function Cd(e){var t=e.className,i=e.style,n=e.record,l=e.index,r=e.renderIndex,u=e.rowKey,c=e.indent,o=c===void 0?0:c,f=e.rowComponent,d=e.cellComponent,g=e.scopeCellComponent,y=ds(n,u,l,o),_=y.prefixCls,S=y.flattenColumns,T=y.expandedRowClassName,s=y.expandedRowRender,a=y.rowProps,h=y.expanded,p=y.rowSupportExpand,m=C.useRef(!1);m.current||(m.current=h);var v=T&&T(n,l,o),b=C.createElement(f,Se({},a,{"data-row-key":u,className:re(t,"".concat(_,"-row"),"".concat(_,"-row-level-").concat(o),a==null?void 0:a.className,o>=1?v:""),style:le(le({},i),a==null?void 0:a.style)}),S.map(function(x,k){var B=x.render,N=x.dataIndex,L=x.className,I=fs(y,x,k,o,l),O=I.key,P=I.fixedInfo,M=I.appendCellNode,R=I.additionalCellProps;return C.createElement(Vt,Se({className:L,ellipsis:x.ellipsis,align:x.align,scope:x.rowScope,component:x.rowScope?g:d,prefixCls:_,key:O,record:n,index:l,renderIndex:r,dataIndex:N,render:B,shouldCellUpdate:x.shouldCellUpdate},P,{appendNode:M,additionalProps:R}))})),w;if(p&&(m.current||h)){var E=s(n,l,o+1,h);w=C.createElement(us,{expanded:h,className:re("".concat(_,"-expanded-row"),"".concat(_,"-expanded-row-level-").concat(o+1),v),prefixCls:_,component:f,cellComponent:d,colSpan:S.length,isEmpty:!1},E)}return C.createElement(C.Fragment,null,b,w)}const _d=ln(Cd);function xd(e){var t=e.columnKey,i=e.onColumnResize,n=C.useRef();return C.useEffect(function(){n.current&&i(t,n.current.offsetWidth)},[]),C.createElement(Fi,{data:t},C.createElement("td",{ref:n,style:{padding:0,border:0,height:0}},C.createElement("div",{style:{height:0,overflow:"hidden"}},"")))}function wd(e){var t=e.prefixCls,i=e.columnsKey,n=e.onColumnResize;return C.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0,fontSize:0}},C.createElement(Fi.Collection,{onBatchResize:function(r){r.forEach(function(u){var c=u.data,o=u.size;n(c,o.offsetWidth)})}},i.map(function(l){return C.createElement(xd,{key:l,columnKey:l,onColumnResize:n})})))}function Sd(e){var t=e.data,i=e.measureColumnWidth,n=rt(ht,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode"]),l=n.prefixCls,r=n.getComponent,u=n.onColumnResize,c=n.flattenColumns,o=n.getRowKey,f=n.expandedKeys,d=n.childrenColumnName,g=n.emptyNode,y=cs(t,d,f,o),_=C.useRef({renderWithProps:!1}),S=r(["body","wrapper"],"tbody"),T=r(["body","row"],"tr"),s=r(["body","cell"],"td"),a=r(["body","cell"],"th"),h;t.length?h=y.map(function(m,v){var b=m.record,w=m.indent,E=m.index,x=o(b,v);return C.createElement(_d,{key:x,rowKey:x,record:b,index:v,renderIndex:E,rowComponent:T,cellComponent:s,scopeCellComponent:a,getRowKey:o,indent:w})}):h=C.createElement(us,{expanded:!0,className:"".concat(l,"-placeholder"),prefixCls:l,component:T,cellComponent:s,colSpan:c.length,isEmpty:!0},g);var p=Gn(c);return C.createElement(os.Provider,{value:_.current},C.createElement(S,{className:"".concat(l,"-tbody")},i&&C.createElement(wd,{prefixCls:l,columnsKey:p,onColumnResize:u}),h))}const Ed=ln(Sd);var kd=["expandable"],un="RC_TABLE_INTERNAL_COL_DEFINE";function Td(e){var t=e.expandable,i=ct(e,kd),n;return"expandable"in e?n=le(le({},i),t):n=i,n.showExpandColumn===!1&&(n.expandIconColumnIndex=-1),n}var Nd=["columnType"];function hs(e){for(var t=e.colWidths,i=e.columns,n=e.columCount,l=[],r=n||i.length,u=!1,c=r-1;c>=0;c-=1){var o=t[c],f=i&&i[c],d=f&&f[un];if(o||d||u){var g=d||{};g.columnType;var y=ct(g,Nd);l.unshift(C.createElement("col",Se({key:c,style:{width:o}},y))),u=!0}}return C.createElement("colgroup",null,l)}var Ld=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function Id(e,t){return C.useMemo(function(){for(var i=[],n=0;n<t;n+=1){var l=e[n];if(l!==void 0)i[n]=l;else return null}return i},[e.join("_"),t])}var Rd=C.forwardRef(function(e,t){var i=e.className,n=e.noData,l=e.columns,r=e.flattenColumns,u=e.colWidths,c=e.columCount,o=e.stickyOffsets,f=e.direction,d=e.fixHeader,g=e.stickyTopOffset,y=e.stickyBottomOffset,_=e.stickyClassName,S=e.onScroll,T=e.maxContentScroll,s=e.children,a=ct(e,Ld),h=rt(ht,["prefixCls","scrollbarSize","isSticky","getComponent"]),p=h.prefixCls,m=h.scrollbarSize,v=h.isSticky,b=h.getComponent,w=b(["header","table"],"table"),E=v&&!d?0:m,x=C.useRef(null),k=C.useCallback(function(R){Ll(t,R),Ll(x,R)},[]);C.useEffect(function(){var R;function $(A){var F=A,z=F.currentTarget,H=F.deltaX;H&&(S({currentTarget:z,scrollLeft:z.scrollLeft+H}),A.preventDefault())}return(R=x.current)===null||R===void 0||R.addEventListener("wheel",$),function(){var A;(A=x.current)===null||A===void 0||A.removeEventListener("wheel",$)}},[]);var B=C.useMemo(function(){return r.every(function(R){return R.width})},[r]),N=r[r.length-1],L={fixed:N?N.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(p,"-cell-scrollbar")}}},I=C.useMemo(function(){return E?[].concat(Te(l),[L]):l},[E,l]),O=C.useMemo(function(){return E?[].concat(Te(r),[L]):r},[E,r]),P=C.useMemo(function(){var R=o.right,$=o.left;return le(le({},o),{},{left:f==="rtl"?[].concat(Te($.map(function(A){return A+E})),[0]):$,right:f==="rtl"?R:[].concat(Te(R.map(function(A){return A+E})),[0]),isSticky:v})},[E,o,v]),M=Id(u,c);return C.createElement("div",{style:le({overflow:"hidden"},v?{top:g,bottom:y}:{}),ref:k,className:re(i,W({},_,!!_))},C.createElement(w,{style:{tableLayout:"fixed",visibility:n||M?null:"hidden"}},(!n||!T||B)&&C.createElement(hs,{colWidths:M?[].concat(Te(M),[E]):[],columCount:c+1,columns:O}),s(le(le({},a),{},{stickyOffsets:P,columns:I,flattenColumns:O}))))});const Ul=C.memo(Rd);var Bd=function(t){var i=t.cells,n=t.stickyOffsets,l=t.flattenColumns,r=t.rowComponent,u=t.cellComponent,c=t.onHeaderRow,o=t.index,f=rt(ht,["prefixCls","direction"]),d=f.prefixCls,g=f.direction,y;c&&(y=c(i.map(function(S){return S.column}),o));var _=Gn(i.map(function(S){return S.column}));return C.createElement(r,y,i.map(function(S,T){var s=S.column,a=Gi(S.colStart,S.colEnd,l,n,g),h;return s&&s.onHeaderCell&&(h=S.column.onHeaderCell(s)),C.createElement(Vt,Se({},S,{scope:s.title?S.colSpan>1?"colgroup":"col":null,ellipsis:s.ellipsis,align:s.align,component:u,prefixCls:d,key:_[T]},a,{additionalProps:h,rowType:"header"}))}))};function Od(e){var t=[];function i(u,c){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;t[o]=t[o]||[];var f=c,d=u.filter(Boolean).map(function(g){var y={key:g.key,className:g.className||"",children:g.title,column:g,colStart:f},_=1,S=g.children;return S&&S.length>0&&(_=i(S,f,o+1).reduce(function(T,s){return T+s},0),y.hasSubColumns=!0),"colSpan"in g&&(_=g.colSpan),"rowSpan"in g&&(y.rowSpan=g.rowSpan),y.colSpan=_,y.colEnd=y.colStart+_-1,t[o].push(y),f+=_,_});return d}i(e,0);for(var n=t.length,l=function(c){t[c].forEach(function(o){!("rowSpan"in o)&&!o.hasSubColumns&&(o.rowSpan=n-c)})},r=0;r<n;r+=1)l(r);return t}var Md=function(t){var i=t.stickyOffsets,n=t.columns,l=t.flattenColumns,r=t.onHeaderRow,u=rt(ht,["prefixCls","getComponent"]),c=u.prefixCls,o=u.getComponent,f=C.useMemo(function(){return Od(n)},[n]),d=o(["header","wrapper"],"thead"),g=o(["header","row"],"tr"),y=o(["header","cell"],"th");return C.createElement(d,{className:"".concat(c,"-thead")},f.map(function(_,S){var T=C.createElement(Bd,{key:S,flattenColumns:l,cells:_,stickyOffsets:i,rowComponent:g,cellComponent:y,onHeaderRow:r,index:S});return T}))};const jl=ln(Md);function Wl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return typeof t=="number"?t:t.endsWith("%")?e*parseFloat(t)/100:null}function Dd(e,t,i){return C.useMemo(function(){if(t&&t>0){var n=0,l=0;e.forEach(function(y){var _=Wl(t,y.width);_?n+=_:l+=1});var r=Math.max(t,i),u=Math.max(r-n,l),c=l,o=u/l,f=0,d=e.map(function(y){var _=le({},y),S=Wl(t,_.width);if(S)_.width=S;else{var T=Math.floor(o);_.width=c===1?u:T,u-=T,c-=1}return f+=_.width,_});if(f<r){var g=r/f;u=r,d.forEach(function(y,_){var S=Math.floor(y.width*g);y.width=_===d.length-1?u:S,u-=S})}return[d,Math.max(f,r)]}return[e,t]},[e,t,i])}var Ad=["children"],zd=["fixed"];function Yi(e){return Pi(e).filter(function(t){return C.isValidElement(t)}).map(function(t){var i=t.key,n=t.props,l=n.children,r=ct(n,Ad),u=le({key:i},r);return l&&(u.children=Yi(l)),u})}function gs(e){return e.filter(function(t){return t&&st(t)==="object"&&!t.hidden}).map(function(t){var i=t.children;return i&&i.length>0?le(le({},t),{},{children:gs(i)}):t})}function Ei(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key";return e.filter(function(i){return i&&st(i)==="object"}).reduce(function(i,n,l){var r=n.fixed,u=r===!0?"left":r,c="".concat(t,"-").concat(l),o=n.children;return o&&o.length>0?[].concat(Te(i),Te(Ei(o,c).map(function(f){return le({fixed:u},f)}))):[].concat(Te(i),[le(le({key:c},n),{},{fixed:u})])},[])}function $d(e){return e.map(function(t){var i=t.fixed,n=ct(t,zd),l=i;return i==="left"?l="right":i==="right"&&(l="left"),le({fixed:l},n)})}function Pd(e,t){var i=e.prefixCls,n=e.columns,l=e.children,r=e.expandable,u=e.expandedKeys,c=e.columnTitle,o=e.getRowKey,f=e.onTriggerExpand,d=e.expandIcon,g=e.rowExpandable,y=e.expandIconColumnIndex,_=e.direction,S=e.expandRowByClick,T=e.columnWidth,s=e.fixed,a=e.scrollWidth,h=e.clientWidth,p=C.useMemo(function(){var N=n||Yi(l)||[];return gs(N.slice())},[n,l]),m=C.useMemo(function(){if(r){var N=p.slice();if(!N.includes(Ot)){var L=y||0;L>=0&&N.splice(L,0,Ot)}var I=N.indexOf(Ot);N=N.filter(function(R,$){return R!==Ot||$===I});var O=p[I],P;(s==="left"||s)&&!y?P="left":(s==="right"||s)&&y===p.length?P="right":P=O?O.fixed:null;var M=W(W(W(W(W(W({},un,{className:"".concat(i,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),"title",c),"fixed",P),"className","".concat(i,"-row-expand-icon-cell")),"width",T),"render",function($,A,F){var z=o(A,F),H=u.has(z),D=g?g(A):!0,V=d({prefixCls:i,expanded:H,expandable:D,record:A,onExpand:f});return S?C.createElement("span",{onClick:function(K){return K.stopPropagation()}},V):V});return N.map(function(R){return R===Ot?M:R})}return p.filter(function(R){return R!==Ot})},[r,p,o,u,d,_]),v=C.useMemo(function(){var N=m;return t&&(N=t(N)),N.length||(N=[{render:function(){return null}}]),N},[t,m,_]),b=C.useMemo(function(){return _==="rtl"?$d(Ei(v)):Ei(v)},[v,_,a]),w=C.useMemo(function(){for(var N=-1,L=b.length-1;L>=0;L-=1){var I=b[L].fixed;if(I==="left"||I===!0){N=L;break}}if(N>=0)for(var O=0;O<=N;O+=1){var P=b[O].fixed;if(P!=="left"&&P!==!0)return!0}var M=b.findIndex(function(A){var F=A.fixed;return F==="right"});if(M>=0)for(var R=M;R<b.length;R+=1){var $=b[R].fixed;if($!=="right")return!0}return!1},[b]),E=Dd(b,a,h),x=Ie(E,2),k=x[0],B=x[1];return[v,k,B,w]}function Hd(e){var t=e.prefixCls,i=e.record,n=e.onExpand,l=e.expanded,r=e.expandable,u="".concat(t,"-row-expand-icon");if(!r)return C.createElement("span",{className:re(u,"".concat(t,"-row-spaced"))});var c=function(f){n(i,f),f.stopPropagation()};return C.createElement("span",{className:re(u,W(W({},"".concat(t,"-row-expanded"),l),"".concat(t,"-row-collapsed"),!l)),onClick:c})}function Fd(e,t,i){var n=[];function l(r){(r||[]).forEach(function(u,c){n.push(t(u,c)),l(u[i])})}return l(e),n}function Vd(e,t,i){var n=Td(e),l=n.expandIcon,r=n.expandedRowKeys,u=n.defaultExpandedRowKeys,c=n.defaultExpandAllRows,o=n.expandedRowRender,f=n.onExpand,d=n.onExpandedRowsChange,g=n.childrenColumnName,y=l||Hd,_=g||"children",S=C.useMemo(function(){return o?"row":e.expandable&&e.internalHooks===vn&&e.expandable.__PARENT_RENDER_ICON__||t.some(function(v){return v&&st(v)==="object"&&v[_]})?"nest":!1},[!!o,t]),T=C.useState(function(){return u||(c?Fd(t,i,_):[])}),s=Ie(T,2),a=s[0],h=s[1],p=C.useMemo(function(){return new Set(r||a||[])},[r,a]),m=C.useCallback(function(v){var b=i(v,t.indexOf(v)),w,E=p.has(b);E?(p.delete(b),w=Te(p)):w=[].concat(Te(p),[b]),h(w),f&&f(!E,v),d&&d(w)},[i,p,t,f,d]);return[n,S,p,y,_,m]}function Kd(e,t,i){var n=e.map(function(l,r){return Gi(r,r,e,t,i)});return No(function(){return n},[n],function(l,r){return!hn(l,r)})}function ps(e){var t=C.useRef(e),i=C.useState({}),n=Ie(i,2),l=n[1],r=C.useRef(null),u=C.useRef([]);function c(o){u.current.push(o);var f=Promise.resolve();r.current=f,f.then(function(){if(r.current===f){var d=u.current,g=t.current;u.current=[],d.forEach(function(y){t.current=y(t.current)}),r.current=null,g!==t.current&&l({})}})}return C.useEffect(function(){return function(){r.current=null}},[]),[t.current,c]}function Ud(e){var t=C.useRef(e||null),i=C.useRef();function n(){window.clearTimeout(i.current)}function l(u){t.current=u,n(),i.current=window.setTimeout(function(){t.current=null,i.current=void 0},100)}function r(){return t.current}return C.useEffect(function(){return n},[]),[l,r]}function jd(){var e=C.useState(-1),t=Ie(e,2),i=t[0],n=t[1],l=C.useState(-1),r=Ie(l,2),u=r[0],c=r[1],o=C.useCallback(function(f,d){n(f),c(d)},[]);return[i,u,o]}var ql=$i()?window:null;function Wd(e,t){var i=st(e)==="object"?e:{},n=i.offsetHeader,l=n===void 0?0:n,r=i.offsetSummary,u=r===void 0?0:r,c=i.offsetScroll,o=c===void 0?0:c,f=i.getContainer,d=f===void 0?function(){return ql}:f,g=d()||ql;return C.useMemo(function(){var y=!!e;return{isSticky:y,stickyClassName:y?"".concat(t,"-sticky-holder"):"",offsetHeader:l,offsetSummary:u,offsetScroll:o,container:g}},[o,l,u,t,g])}function qd(e,t,i){var n=C.useMemo(function(){var l=t.length,r=function(f,d,g){for(var y=[],_=0,S=f;S!==d;S+=g)y.push(_),t[S].fixed&&(_+=e[S]||0);return y},u=r(0,l,1),c=r(l-1,-1,-1).reverse();return i==="rtl"?{left:c,right:u}:{left:u,right:c}},[e,t,i]);return n}function Zl(e){var t=e.className,i=e.children;return C.createElement("div",{className:t},i)}var Zd=function(t,i){var n,l,r=t.scrollBodyRef,u=t.onScroll,c=t.offsetScroll,o=t.container,f=rt(ht,"prefixCls"),d=((n=r.current)===null||n===void 0?void 0:n.scrollWidth)||0,g=((l=r.current)===null||l===void 0?void 0:l.clientWidth)||0,y=d&&g*(g/d),_=C.useRef(),S=ps({scrollLeft:0,isHiddenScrollBar:!1}),T=Ie(S,2),s=T[0],a=T[1],h=C.useRef({delta:0,x:0}),p=C.useState(!1),m=Ie(p,2),v=m[0],b=m[1],w=C.useRef(null);C.useEffect(function(){return function(){Nn.cancel(w.current)}},[]);var E=function(){b(!1)},x=function(I){I.persist(),h.current.delta=I.pageX-s.scrollLeft,h.current.x=0,b(!0),I.preventDefault()},k=function(I){var O,P=I||((O=window)===null||O===void 0?void 0:O.event),M=P.buttons;if(!v||M===0){v&&b(!1);return}var R=h.current.x+I.pageX-h.current.x-h.current.delta;R<=0&&(R=0),R+y>=g&&(R=g-y),u({scrollLeft:R/g*(d+2)}),h.current.x=I.pageX},B=function(){w.current=Nn(function(){if(r.current){var I=Ml(r.current).top,O=I+r.current.offsetHeight,P=o===window?document.documentElement.scrollTop+window.innerHeight:Ml(o).top+o.clientHeight;O-Il()<=P||I>=P-c?a(function(M){return le(le({},M),{},{isHiddenScrollBar:!0})}):a(function(M){return le(le({},M),{},{isHiddenScrollBar:!1})})}})},N=function(I){a(function(O){return le(le({},O),{},{scrollLeft:I/d*g||0})})};return C.useImperativeHandle(i,function(){return{setScrollLeft:N,checkScrollBarVisible:B}}),C.useEffect(function(){var L=wn(document.body,"mouseup",E,!1),I=wn(document.body,"mousemove",k,!1);return B(),function(){L.remove(),I.remove()}},[y,v]),C.useEffect(function(){var L=wn(o,"scroll",B,!1),I=wn(window,"resize",B,!1);return function(){L.remove(),I.remove()}},[o]),C.useEffect(function(){s.isHiddenScrollBar||a(function(L){var I=r.current;return I?le(le({},L),{},{scrollLeft:I.scrollLeft/I.scrollWidth*I.clientWidth}):L})},[s.isHiddenScrollBar]),d<=g||!y||s.isHiddenScrollBar?null:C.createElement("div",{style:{height:Il(),width:g,bottom:c},className:"".concat(f,"-sticky-scroll")},C.createElement("div",{onMouseDown:x,ref:_,className:re("".concat(f,"-sticky-scroll-bar"),W({},"".concat(f,"-sticky-scroll-bar-active"),v)),style:{width:"".concat(y,"px"),transform:"translate3d(".concat(s.scrollLeft,"px, 0, 0)")}}))};const Xd=C.forwardRef(Zd);var ms="rc-table",Gd=[],Yd={};function Jd(){return"No Data"}function Qd(e,t){var i=le({rowKey:"key",prefixCls:ms,emptyText:Jd},e),n=i.prefixCls,l=i.className,r=i.rowClassName,u=i.style,c=i.data,o=i.rowKey,f=i.scroll,d=i.tableLayout,g=i.direction,y=i.title,_=i.footer,S=i.summary,T=i.caption,s=i.id,a=i.showHeader,h=i.components,p=i.emptyText,m=i.onRow,v=i.onHeaderRow,b=i.onScroll,w=i.internalHooks,E=i.transformColumns,x=i.internalRefs,k=i.tailor,B=i.getContainerWidth,N=i.sticky,L=i.rowHoverable,I=L===void 0?!0:L,O=c||Gd,P=!!O.length,M=w===vn,R=C.useCallback(function(Be,Me){return Hi(h,Be)||Me},[h]),$=C.useMemo(function(){return typeof o=="function"?o:function(Be){var Me=Be&&Be[o];return Me}},[o]),A=R(["body"]),F=jd(),z=Ie(F,3),H=z[0],D=z[1],V=z[2],q=Vd(i,O,$),K=Ie(q,6),Z=K[0],G=K[1],U=K[2],Y=K[3],ee=K[4],J=K[5],X=f==null?void 0:f.x,te=C.useState(0),ue=Ie(te,2),Q=ue[0],oe=ue[1],me=Pd(le(le(le({},i),Z),{},{expandable:!!Z.expandedRowRender,columnTitle:Z.columnTitle,expandedKeys:U,getRowKey:$,onTriggerExpand:J,expandIcon:Y,expandIconColumnIndex:Z.expandIconColumnIndex,direction:g,scrollWidth:M&&k&&typeof X=="number"?X:null,clientWidth:Q}),M?E:null),se=Ie(me,4),Ee=se[0],de=se[1],be=se[2],ke=se[3],fe=be??X,De=C.useMemo(function(){return{columns:Ee,flattenColumns:de}},[Ee,de]),Ae=C.useRef(),ze=C.useRef(),ve=C.useRef(),ge=C.useRef();C.useImperativeHandle(t,function(){return{nativeElement:Ae.current,scrollTo:function(Me){var et;if(ve.current instanceof HTMLElement){var vt=Me.index,tt=Me.top,Ut=Me.key;if(tt){var zt;(zt=ve.current)===null||zt===void 0||zt.scrollTo({top:tt})}else{var $t,sn=Ut??$(O[vt]);($t=ve.current.querySelector('[data-row-key="'.concat(sn,'"]')))===null||$t===void 0||$t.scrollIntoView()}}else(et=ve.current)!==null&&et!==void 0&&et.scrollTo&&ve.current.scrollTo(Me)}}});var ye=C.useRef(),Oe=C.useState(!1),ae=Ie(Oe,2),ce=ae[0],he=ae[1],pe=C.useState(!1),Ce=Ie(pe,2),Re=Ce[0],Fe=Ce[1],Xe=ps(new Map),it=Ie(Xe,2),$e=it[0],It=it[1],lt=Gn(de),at=lt.map(function(Be){return $e.get(Be)}),gt=C.useMemo(function(){return at},[at.join("_")]),Ct=qd(gt,de,g),Qe=f&&Si(f.y),Ye=f&&Si(fe)||!!Z.fixed,dt=Ye&&de.some(function(Be){var Me=Be.fixed;return Me}),_t=C.useRef(),xt=Wd(N,n),mt=xt.isSticky,Pe=xt.offsetHeader,_e=xt.offsetSummary,Ne=xt.offsetScroll,We=xt.stickyClassName,xe=xt.container,we=C.useMemo(function(){return S==null?void 0:S(O)},[S,O]),He=(Qe||mt)&&C.isValidElement(we)&&we.type===Yn&&we.props.fixed,Ve,qe,Ze;Qe&&(qe={overflowY:"scroll",maxHeight:f.y}),Ye&&(Ve={overflowX:"auto"},Qe||(qe={overflowY:"hidden"}),Ze={width:fe===!0?"auto":fe,minWidth:"100%"});var ot=C.useCallback(function(Be,Me){kr(Ae.current)&&It(function(et){if(et.get(Be)!==Me){var vt=new Map(et);return vt.set(Be,Me),vt}return et})},[]),Et=Ud(null),ul=Ie(Et,2),hr=ul[0],fl=ul[1];function Cn(Be,Me){Me&&(typeof Me=="function"?Me(Be):Me.scrollLeft!==Be&&(Me.scrollLeft=Be,Me.scrollLeft!==Be&&setTimeout(function(){Me.scrollLeft=Be},0)))}var Kt=At(function(Be){var Me=Be.currentTarget,et=Be.scrollLeft,vt=g==="rtl",tt=typeof et=="number"?et:Me.scrollLeft,Ut=Me||Yd;if(!fl()||fl()===Ut){var zt;hr(Ut),Cn(tt,ze.current),Cn(tt,ve.current),Cn(tt,ye.current),Cn(tt,(zt=_t.current)===null||zt===void 0?void 0:zt.setScrollLeft)}var $t=Me||ze.current;if($t){var sn=$t.scrollWidth,oi=$t.clientWidth;if(sn===oi){he(!1),Fe(!1);return}vt?(he(-tt<sn-oi),Fe(-tt>0)):(he(tt>0),Fe(tt<sn-oi))}}),gr=At(function(Be){Kt(Be),b==null||b(Be)}),hl=function(){Ye&&ve.current?Kt({currentTarget:ve.current}):(he(!1),Fe(!1))},pr=function(Me){var et,vt=Me.width;(et=_t.current)===null||et===void 0||et.checkScrollBarVisible();var tt=Ae.current?Ae.current.offsetWidth:vt;M&&B&&Ae.current&&(tt=B(Ae.current,tt)||tt),tt!==Q&&(hl(),oe(tt))},gl=C.useRef(!1);C.useEffect(function(){gl.current&&hl()},[Ye,c,Ee.length]),C.useEffect(function(){gl.current=!0},[]);var mr=C.useState(0),pl=Ie(mr,2),_n=pl[0],ml=pl[1],vr=C.useState(!0),vl=Ie(vr,2),bl=vl[0],br=vl[1];C.useEffect(function(){(!k||!M)&&(ve.current instanceof Element?ml(Rl(ve.current).width):ml(Rl(ge.current).width)),br(Va("position","sticky"))},[]),C.useEffect(function(){M&&x&&(x.body.current=ve.current)});var yr=C.useCallback(function(Be){return C.createElement(C.Fragment,null,C.createElement(jl,Be),He==="top"&&C.createElement(Sn,Be,we))},[He,we]),Cr=C.useCallback(function(Be){return C.createElement(Sn,Be,we)},[we]),yl=R(["table"],"table"),xn=C.useMemo(function(){return d||(dt?fe==="max-content"?"auto":"fixed":Qe||mt||de.some(function(Be){var Me=Be.ellipsis;return Me})?"fixed":"auto")},[Qe,dt,de,d,mt]),ti,ni={colWidths:gt,columCount:de.length,stickyOffsets:Ct,onHeaderRow:v,fixHeader:Qe,scroll:f},Cl=C.useMemo(function(){return P?null:typeof p=="function"?p():p},[P,p]),_l=C.createElement(Ed,{data:O,measureColumnWidth:Qe||Ye||mt}),xl=C.createElement(hs,{colWidths:de.map(function(Be){var Me=Be.width;return Me}),columns:de}),wl=T!=null?C.createElement("caption",{className:"".concat(n,"-caption")},T):void 0,_r=gn(i,{data:!0}),Sl=gn(i,{aria:!0});if(Qe||mt){var ii;typeof A=="function"?(ii=A(O,{scrollbarSize:_n,ref:ve,onScroll:Kt}),ni.colWidths=de.map(function(Be,Me){var et=Be.width,vt=Me===de.length-1?et-_n:et;return typeof vt=="number"&&!Number.isNaN(vt)?vt:0})):ii=C.createElement("div",{style:le(le({},Ve),qe),onScroll:gr,ref:ve,className:re("".concat(n,"-body"))},C.createElement(yl,Se({style:le(le({},Ze),{},{tableLayout:xn})},Sl),wl,xl,_l,!He&&we&&C.createElement(Sn,{stickyOffsets:Ct,flattenColumns:de},we)));var El=le(le(le({noData:!O.length,maxContentScroll:Ye&&fe==="max-content"},ni),De),{},{direction:g,stickyClassName:We,onScroll:Kt});ti=C.createElement(C.Fragment,null,a!==!1&&C.createElement(Ul,Se({},El,{stickyTopOffset:Pe,className:"".concat(n,"-header"),ref:ze}),yr),ii,He&&He!=="top"&&C.createElement(Ul,Se({},El,{stickyBottomOffset:_e,className:"".concat(n,"-summary"),ref:ye}),Cr),mt&&ve.current&&ve.current instanceof Element&&C.createElement(Xd,{ref:_t,offsetScroll:Ne,scrollBodyRef:ve,onScroll:Kt,container:xe}))}else ti=C.createElement("div",{style:le(le({},Ve),qe),className:re("".concat(n,"-content")),onScroll:Kt,ref:ve},C.createElement(yl,Se({style:le(le({},Ze),{},{tableLayout:xn})},Sl),wl,xl,a!==!1&&C.createElement(jl,Se({},ni,De)),_l,we&&C.createElement(Sn,{stickyOffsets:Ct,flattenColumns:de},we)));var li=C.createElement("div",Se({className:re(n,l,W(W(W(W(W(W(W(W(W(W({},"".concat(n,"-rtl"),g==="rtl"),"".concat(n,"-ping-left"),ce),"".concat(n,"-ping-right"),Re),"".concat(n,"-layout-fixed"),d==="fixed"),"".concat(n,"-fixed-header"),Qe),"".concat(n,"-fixed-column"),dt),"".concat(n,"-fixed-column-gapped"),dt&&ke),"".concat(n,"-scroll-horizontal"),Ye),"".concat(n,"-has-fix-left"),de[0]&&de[0].fixed),"".concat(n,"-has-fix-right"),de[de.length-1]&&de[de.length-1].fixed==="right")),style:u,id:s,ref:Ae},_r),y&&C.createElement(Zl,{className:"".concat(n,"-title")},y(O)),C.createElement("div",{ref:ge,className:"".concat(n,"-container")},ti),_&&C.createElement(Zl,{className:"".concat(n,"-footer")},_(O)));Ye&&(li=C.createElement(Fi,{onResize:pr},li));var kl=Kd(de,Ct,g),xr=C.useMemo(function(){return{scrollX:fe,prefixCls:n,getComponent:R,scrollbarSize:_n,direction:g,fixedInfoList:kl,isSticky:mt,supportSticky:bl,componentWidth:Q,fixHeader:Qe,fixColumn:dt,horizonScroll:Ye,tableLayout:xn,rowClassName:r,expandedRowClassName:Z.expandedRowClassName,expandIcon:Y,expandableType:G,expandRowByClick:Z.expandRowByClick,expandedRowRender:Z.expandedRowRender,onTriggerExpand:J,expandIconColumnIndex:Z.expandIconColumnIndex,indentSize:Z.indentSize,allColumnsFixedLeft:de.every(function(Be){return Be.fixed==="left"}),emptyNode:Cl,columns:Ee,flattenColumns:de,onColumnResize:ot,hoverStartRow:H,hoverEndRow:D,onHover:V,rowExpandable:Z.rowExpandable,onRow:m,getRowKey:$,expandedKeys:U,childrenColumnName:ee,rowHoverable:I}},[fe,n,R,_n,g,kl,mt,bl,Q,Qe,dt,Ye,xn,r,Z.expandedRowClassName,Y,G,Z.expandRowByClick,Z.expandedRowRender,J,Z.expandIconColumnIndex,Z.indentSize,Cl,Ee,de,ot,H,D,V,Z.rowExpandable,m,$,U,ee,I]);return C.createElement(ht.Provider,{value:xr},li)}var eu=C.forwardRef(Qd);function vs(e){return ls(eu,e)}var on=vs();on.EXPAND_COLUMN=Ot;on.INTERNAL_HOOKS=vn;on.Column=bd;on.ColumnGroup=yd;on.Summary=rs;var Ji=Zi(null),bs=Zi(null);function tu(e,t,i){var n=t||1;return i[e+n]-(i[e]||0)}function nu(e){var t=e.rowInfo,i=e.column,n=e.colIndex,l=e.indent,r=e.index,u=e.component,c=e.renderIndex,o=e.record,f=e.style,d=e.className,g=e.inverse,y=e.getHeight,_=i.render,S=i.dataIndex,T=i.className,s=i.width,a=rt(bs,["columnsOffset"]),h=a.columnsOffset,p=fs(t,i,n,l,r),m=p.key,v=p.fixedInfo,b=p.appendCellNode,w=p.additionalCellProps,E=w.style,x=w.colSpan,k=x===void 0?1:x,B=w.rowSpan,N=B===void 0?1:B,L=n-1,I=tu(L,k,h),O=k>1?s-I:0,P=le(le(le({},E),f),{},{flex:"0 0 ".concat(I,"px"),width:"".concat(I,"px"),marginRight:O,pointerEvents:"auto"}),M=C.useMemo(function(){return g?N<=1:k===0||N===0||N>1},[N,k,g]);M?P.visibility="hidden":g&&(P.height=y==null?void 0:y(N));var R=M?function(){return null}:_,$={};return(N===0||k===0)&&($.rowSpan=1,$.colSpan=1),C.createElement(Vt,Se({className:re(T,d),ellipsis:i.ellipsis,align:i.align,scope:i.rowScope,component:u,prefixCls:t.prefixCls,key:m,record:o,index:r,renderIndex:c,dataIndex:S,render:R,shouldCellUpdate:i.shouldCellUpdate},v,{appendNode:b,additionalProps:le(le({},w),{},{style:P},$)}))}var iu=["data","index","className","rowKey","style","extra","getHeight"],lu=C.forwardRef(function(e,t){var i=e.data,n=e.index,l=e.className,r=e.rowKey,u=e.style,c=e.extra,o=e.getHeight,f=ct(e,iu),d=i.record,g=i.indent,y=i.index,_=rt(ht,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),S=_.scrollX,T=_.flattenColumns,s=_.prefixCls,a=_.fixColumn,h=_.componentWidth,p=rt(Ji,["getComponent"]),m=p.getComponent,v=ds(d,r,n,g),b=m(["body","row"],"div"),w=m(["body","cell"],"div"),E=v.rowSupportExpand,x=v.expanded,k=v.rowProps,B=v.expandedRowRender,N=v.expandedRowClassName,L;if(E&&x){var I=B(d,n,g+1,x),O=N==null?void 0:N(d,n,g),P={};a&&(P={style:W({},"--virtual-width","".concat(h,"px"))});var M="".concat(s,"-expanded-row-cell");L=C.createElement(b,{className:re("".concat(s,"-expanded-row"),"".concat(s,"-expanded-row-level-").concat(g+1),O)},C.createElement(Vt,{component:w,prefixCls:s,className:re(M,W({},"".concat(M,"-fixed"),a)),additionalProps:P},I))}var R=le(le({},u),{},{width:S});c&&(R.position="absolute",R.pointerEvents="none");var $=C.createElement(b,Se({},k,f,{"data-row-key":r,ref:E?null:t,className:re(l,"".concat(s,"-row"),k==null?void 0:k.className,W({},"".concat(s,"-row-extra"),c)),style:le(le({},R),k==null?void 0:k.style)}),T.map(function(A,F){return C.createElement(nu,{key:F,component:w,rowInfo:v,column:A,colIndex:F,indent:g,index:n,renderIndex:y,record:d,inverse:c,getHeight:o})}));return E?C.createElement("div",{ref:t},$,L):$}),Xl=ln(lu),ou=C.forwardRef(function(e,t){var i=e.data,n=e.onScroll,l=rt(ht,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","emptyNode","scrollX"]),r=l.flattenColumns,u=l.onColumnResize,c=l.getRowKey,o=l.expandedKeys,f=l.prefixCls,d=l.childrenColumnName,g=l.emptyNode,y=l.scrollX,_=rt(Ji),S=_.sticky,T=_.scrollY,s=_.listItemHeight,a=_.getComponent,h=_.onScroll,p=C.useRef(),m=cs(i,d,o,c),v=C.useMemo(function(){var P=0;return r.map(function(M){var R=M.width,$=M.key;return P+=R,[$,R,P]})},[r]),b=C.useMemo(function(){return v.map(function(P){return P[2]})},[v]);C.useEffect(function(){v.forEach(function(P){var M=Ie(P,2),R=M[0],$=M[1];u(R,$)})},[v]),C.useImperativeHandle(t,function(){var P={scrollTo:function(R){var $;($=p.current)===null||$===void 0||$.scrollTo(R)}};return Object.defineProperty(P,"scrollLeft",{get:function(){var R;return((R=p.current)===null||R===void 0?void 0:R.getScrollInfo().x)||0},set:function(R){var $;($=p.current)===null||$===void 0||$.scrollTo({left:R})}}),P});var w=function(M,R){var $,A=($=m[R])===null||$===void 0?void 0:$.record,F=M.onCell;if(F){var z,H=F(A,R);return(z=H==null?void 0:H.rowSpan)!==null&&z!==void 0?z:1}return 1},E=function(M){var R=M.start,$=M.end,A=M.getSize,F=M.offsetY;if($<0)return null;for(var z=r.filter(function(X){return w(X,R)===0}),H=R,D=function(te){if(z=z.filter(function(ue){return w(ue,te)===0}),!z.length)return H=te,1},V=R;V>=0&&!D(V);V-=1);for(var q=r.filter(function(X){return w(X,$)!==1}),K=$,Z=function(te){if(q=q.filter(function(ue){return w(ue,te)!==1}),!q.length)return K=Math.max(te-1,$),1},G=$;G<m.length&&!Z(G);G+=1);for(var U=[],Y=function(te){var ue=m[te];if(!ue)return 1;r.some(function(Q){return w(Q,te)>1})&&U.push(te)},ee=H;ee<=K;ee+=1)Y(ee);var J=U.map(function(X){var te=m[X],ue=c(te.record,X),Q=function(se){var Ee=X+se-1,de=c(m[Ee].record,Ee),be=A(ue,de);return be.bottom-be.top},oe=A(ue);return C.createElement(Xl,{key:X,data:te,rowKey:ue,index:X,style:{top:-F+oe.top},extra:!0,getHeight:Q})});return J},x=C.useMemo(function(){return{columnsOffset:b}},[b]),k="".concat(f,"-tbody"),B=a(["body","wrapper"]),N=a(["body","row"],"div"),L=a(["body","cell"],"div"),I;if(m.length){var O={};S&&(O.position="sticky",O.bottom=0,st(S)==="object"&&S.offsetScroll&&(O.bottom=S.offsetScroll)),I=C.createElement(Fo,{fullHeight:!1,ref:p,prefixCls:"".concat(k,"-virtual"),styles:{horizontalScrollBar:O},className:k,height:T,itemHeight:s||24,data:m,itemKey:function(M){return c(M.record)},component:B,scrollWidth:y,onVirtualScroll:function(M){var R=M.x;n({scrollLeft:R})},onScroll:h,extraRender:E},function(P,M,R){var $=c(P.record,M);return C.createElement(Xl,Se({data:P,rowKey:$,index:M},R))})}else I=C.createElement(N,{className:re("".concat(f,"-placeholder"))},C.createElement(Vt,{component:L,prefixCls:f},g));return C.createElement(bs.Provider,{value:x},I)}),su=ln(ou),ru=function(t,i){var n=i.ref,l=i.onScroll;return C.createElement(su,{ref:n,data:t,onScroll:l})};function au(e,t){var i=e.columns,n=e.scroll,l=e.sticky,r=e.prefixCls,u=r===void 0?ms:r,c=e.className,o=e.listItemHeight,f=e.components,d=e.onScroll,g=n||{},y=g.x,_=g.y;typeof y!="number"&&(y=1),typeof _!="number"&&(_=500);var S=At(function(a,h){return Hi(f,a)||h}),T=At(d),s=C.useMemo(function(){return{sticky:l,scrollY:_,listItemHeight:o,getComponent:S,onScroll:T}},[l,_,o,S,T]);return C.createElement(Ji.Provider,{value:s},C.createElement(on,Se({},e,{className:re(c,"".concat(u,"-virtual")),scroll:le(le({},n),{},{x:y}),components:le(le({},f),{},{body:ru}),columns:i,internalHooks:vn,tailor:!0,ref:t})))}var cu=C.forwardRef(au);function ys(e){return ls(cu,e)}ys();function du(e){return null}function uu(e){return null}var Qi=C.createContext(null),fu=function(t){for(var i=t.prefixCls,n=t.level,l=t.isStart,r=t.isEnd,u="".concat(i,"-indent-unit"),c=[],o=0;o<n;o+=1)c.push(C.createElement("span",{key:o,className:re(u,W(W({},"".concat(u,"-start"),l[o]),"".concat(u,"-end"),r[o]))}));return C.createElement("span",{"aria-hidden":"true",className:"".concat(i,"-indent")},c)};const hu=C.memo(fu);var gu=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],Gl="open",Yl="close",pu="---",mu=function(e){Kn(i,e);var t=Un(i);function i(){var n;jn(this,i);for(var l=arguments.length,r=new Array(l),u=0;u<l;u++)r[u]=arguments[u];return n=t.call.apply(t,[this].concat(r)),W(ne(n),"state",{dragNodeHighlight:!1}),W(ne(n),"selectHandle",void 0),W(ne(n),"cacheIndent",void 0),W(ne(n),"onSelectorClick",function(c){var o=n.props.context.onNodeClick;o(c,Ge(n.props)),n.isSelectable()?n.onSelect(c):n.onCheck(c)}),W(ne(n),"onSelectorDoubleClick",function(c){var o=n.props.context.onNodeDoubleClick;o(c,Ge(n.props))}),W(ne(n),"onSelect",function(c){if(!n.isDisabled()){var o=n.props.context.onNodeSelect;o(c,Ge(n.props))}}),W(ne(n),"onCheck",function(c){if(!n.isDisabled()){var o=n.props,f=o.disableCheckbox,d=o.checked,g=n.props.context.onNodeCheck;if(!(!n.isCheckable()||f)){var y=!d;g(c,Ge(n.props),y)}}}),W(ne(n),"onMouseEnter",function(c){var o=n.props.context.onNodeMouseEnter;o(c,Ge(n.props))}),W(ne(n),"onMouseLeave",function(c){var o=n.props.context.onNodeMouseLeave;o(c,Ge(n.props))}),W(ne(n),"onContextMenu",function(c){var o=n.props.context.onNodeContextMenu;o(c,Ge(n.props))}),W(ne(n),"onDragStart",function(c){var o=n.props.context.onNodeDragStart;c.stopPropagation(),n.setState({dragNodeHighlight:!0}),o(c,ne(n));try{c.dataTransfer.setData("text/plain","")}catch{}}),W(ne(n),"onDragEnter",function(c){var o=n.props.context.onNodeDragEnter;c.preventDefault(),c.stopPropagation(),o(c,ne(n))}),W(ne(n),"onDragOver",function(c){var o=n.props.context.onNodeDragOver;c.preventDefault(),c.stopPropagation(),o(c,ne(n))}),W(ne(n),"onDragLeave",function(c){var o=n.props.context.onNodeDragLeave;c.stopPropagation(),o(c,ne(n))}),W(ne(n),"onDragEnd",function(c){var o=n.props.context.onNodeDragEnd;c.stopPropagation(),n.setState({dragNodeHighlight:!1}),o(c,ne(n))}),W(ne(n),"onDrop",function(c){var o=n.props.context.onNodeDrop;c.preventDefault(),c.stopPropagation(),n.setState({dragNodeHighlight:!1}),o(c,ne(n))}),W(ne(n),"onExpand",function(c){var o=n.props,f=o.loading,d=o.context.onNodeExpand;f||d(c,Ge(n.props))}),W(ne(n),"setSelectHandle",function(c){n.selectHandle=c}),W(ne(n),"getNodeState",function(){var c=n.props.expanded;return n.isLeaf()?null:c?Gl:Yl}),W(ne(n),"hasChildren",function(){var c=n.props.eventKey,o=n.props.context.keyEntities,f=pt(o,c)||{},d=f.children;return!!(d||[]).length}),W(ne(n),"isLeaf",function(){var c=n.props,o=c.isLeaf,f=c.loaded,d=n.props.context.loadData,g=n.hasChildren();return o===!1?!1:o||!d&&!g||d&&f&&!g}),W(ne(n),"isDisabled",function(){var c=n.props.disabled,o=n.props.context.disabled;return!!(o||c)}),W(ne(n),"isCheckable",function(){var c=n.props.checkable,o=n.props.context.checkable;return!o||c===!1?!1:o}),W(ne(n),"syncLoadData",function(c){var o=c.expanded,f=c.loading,d=c.loaded,g=n.props.context,y=g.loadData,_=g.onNodeLoad;f||y&&o&&!n.isLeaf()&&!n.hasChildren()&&!d&&_(Ge(n.props))}),W(ne(n),"isDraggable",function(){var c=n.props,o=c.data,f=c.context.draggable;return!!(f&&(!f.nodeDraggable||f.nodeDraggable(o)))}),W(ne(n),"renderDragHandler",function(){var c=n.props.context,o=c.draggable,f=c.prefixCls;return o!=null&&o.icon?C.createElement("span",{className:"".concat(f,"-draggable-icon")},o.icon):null}),W(ne(n),"renderSwitcherIconDom",function(c){var o=n.props.switcherIcon,f=n.props.context.switcherIcon,d=o||f;return typeof d=="function"?d(le(le({},n.props),{},{isLeaf:c})):d}),W(ne(n),"renderSwitcher",function(){var c=n.props.expanded,o=n.props.context.prefixCls;if(n.isLeaf()){var f=n.renderSwitcherIconDom(!0);return f!==!1?C.createElement("span",{className:re("".concat(o,"-switcher"),"".concat(o,"-switcher-noop"))},f):null}var d=re("".concat(o,"-switcher"),"".concat(o,"-switcher_").concat(c?Gl:Yl)),g=n.renderSwitcherIconDom(!1);return g!==!1?C.createElement("span",{onClick:n.onExpand,className:d},g):null}),W(ne(n),"renderCheckbox",function(){var c=n.props,o=c.checked,f=c.halfChecked,d=c.disableCheckbox,g=n.props.context.prefixCls,y=n.isDisabled(),_=n.isCheckable();if(!_)return null;var S=typeof _!="boolean"?_:null;return C.createElement("span",{className:re("".concat(g,"-checkbox"),o&&"".concat(g,"-checkbox-checked"),!o&&f&&"".concat(g,"-checkbox-indeterminate"),(y||d)&&"".concat(g,"-checkbox-disabled")),onClick:n.onCheck},S)}),W(ne(n),"renderIcon",function(){var c=n.props.loading,o=n.props.context.prefixCls;return C.createElement("span",{className:re("".concat(o,"-iconEle"),"".concat(o,"-icon__").concat(n.getNodeState()||"docu"),c&&"".concat(o,"-icon_loading"))})}),W(ne(n),"renderSelector",function(){var c=n.state.dragNodeHighlight,o=n.props,f=o.title,d=f===void 0?pu:f,g=o.selected,y=o.icon,_=o.loading,S=o.data,T=n.props.context,s=T.prefixCls,a=T.showIcon,h=T.icon,p=T.loadData,m=T.titleRender,v=n.isDisabled(),b="".concat(s,"-node-content-wrapper"),w;if(a){var E=y||h;w=E?C.createElement("span",{className:re("".concat(s,"-iconEle"),"".concat(s,"-icon__customize"))},typeof E=="function"?E(n.props):E):n.renderIcon()}else p&&_&&(w=n.renderIcon());var x;typeof d=="function"?x=d(S):m?x=m(S):x=d;var k=C.createElement("span",{className:"".concat(s,"-title")},x);return C.createElement("span",{ref:n.setSelectHandle,title:typeof d=="string"?d:"",className:re("".concat(b),"".concat(b,"-").concat(n.getNodeState()||"normal"),!v&&(g||c)&&"".concat(s,"-node-selected")),onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave,onContextMenu:n.onContextMenu,onClick:n.onSelectorClick,onDoubleClick:n.onSelectorDoubleClick},w,k,n.renderDropIndicator())}),W(ne(n),"renderDropIndicator",function(){var c=n.props,o=c.disabled,f=c.eventKey,d=n.props.context,g=d.draggable,y=d.dropLevelOffset,_=d.dropPosition,S=d.prefixCls,T=d.indent,s=d.dropIndicatorRender,a=d.dragOverNodeKey,h=d.direction,p=!!g,m=!o&&p&&a===f,v=T??n.cacheIndent;return n.cacheIndent=T,m?s({dropPosition:_,dropLevelOffset:y,indent:v,prefixCls:S,direction:h}):null}),n}return Wn(i,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var l=this.props.selectable,r=this.props.context.selectable;return typeof l=="boolean"?l:r}},{key:"render",value:function(){var l,r=this.props,u=r.eventKey,c=r.className,o=r.style,f=r.dragOver,d=r.dragOverGapTop,g=r.dragOverGapBottom,y=r.isLeaf,_=r.isStart,S=r.isEnd,T=r.expanded,s=r.selected,a=r.checked,h=r.halfChecked,p=r.loading,m=r.domRef,v=r.active;r.data;var b=r.onMouseMove,w=r.selectable,E=ct(r,gu),x=this.props.context,k=x.prefixCls,B=x.filterTreeNode,N=x.keyEntities,L=x.dropContainerKey,I=x.dropTargetKey,O=x.draggingNodeKey,P=this.isDisabled(),M=gn(E,{aria:!0,data:!0}),R=pt(N,u)||{},$=R.level,A=S[S.length-1],F=this.isDraggable(),z=!P&&F,H=O===u,D=w!==void 0?{"aria-selected":!!w}:void 0;return C.createElement("div",Se({ref:m,className:re(c,"".concat(k,"-treenode"),(l={},W(W(W(W(W(W(W(W(W(W(l,"".concat(k,"-treenode-disabled"),P),"".concat(k,"-treenode-switcher-").concat(T?"open":"close"),!y),"".concat(k,"-treenode-checkbox-checked"),a),"".concat(k,"-treenode-checkbox-indeterminate"),h),"".concat(k,"-treenode-selected"),s),"".concat(k,"-treenode-loading"),p),"".concat(k,"-treenode-active"),v),"".concat(k,"-treenode-leaf-last"),A),"".concat(k,"-treenode-draggable"),F),"dragging",H),W(W(W(W(W(W(l,"drop-target",I===u),"drop-container",L===u),"drag-over",!P&&f),"drag-over-gap-top",!P&&d),"drag-over-gap-bottom",!P&&g),"filter-node",B&&B(Ge(this.props))))),style:o,draggable:z,"aria-grabbed":H,onDragStart:z?this.onDragStart:void 0,onDragEnter:F?this.onDragEnter:void 0,onDragOver:F?this.onDragOver:void 0,onDragLeave:F?this.onDragLeave:void 0,onDrop:F?this.onDrop:void 0,onDragEnd:F?this.onDragEnd:void 0,onMouseMove:b},D,M),C.createElement(hu,{prefixCls:k,level:$,isStart:_,isEnd:S}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),i}(C.Component),Yt=function(t){return C.createElement(Qi.Consumer,null,function(i){return C.createElement(mu,Se({},t,{context:i}))})};Yt.displayName="TreeNode";Yt.isTreeNode=1;function wt(e,t){if(!e)return[];var i=e.slice(),n=i.indexOf(t);return n>=0&&i.splice(n,1),i}function kt(e,t){var i=(e||[]).slice();return i.indexOf(t)===-1&&i.push(t),i}function el(e){return e.split("-")}function vu(e,t){var i=[],n=pt(t,e);function l(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];r.forEach(function(u){var c=u.key,o=u.children;i.push(c),l(o)})}return l(n.children),i}function bu(e){if(e.parent){var t=el(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function yu(e){var t=el(e.pos);return Number(t[t.length-1])===0}function Jl(e,t,i,n,l,r,u,c,o,f){var d,g=e.clientX,y=e.clientY,_=e.target.getBoundingClientRect(),S=_.top,T=_.height,s=(f==="rtl"?-1:1)*(((l==null?void 0:l.x)||0)-g),a=(s-12)/n,h=o.filter(function(P){var M;return(M=c[P])===null||M===void 0||(M=M.children)===null||M===void 0?void 0:M.length}),p=pt(c,i.props.eventKey);if(y<S+T/2){var m=u.findIndex(function(P){return P.key===p.key}),v=m<=0?0:m-1,b=u[v].key;p=pt(c,b)}var w=p.key,E=p,x=p.key,k=0,B=0;if(!h.includes(w))for(var N=0;N<a&&bu(p);N+=1)p=p.parent,B+=1;var L=t.props.data,I=p.node,O=!0;return yu(p)&&p.level===0&&y<S+T/2&&r({dragNode:L,dropNode:I,dropPosition:-1})&&p.key===i.props.eventKey?k=-1:(E.children||[]).length&&h.includes(x)?r({dragNode:L,dropNode:I,dropPosition:0})?k=0:O=!1:B===0?a>-1.5?r({dragNode:L,dropNode:I,dropPosition:1})?k=1:O=!1:r({dragNode:L,dropNode:I,dropPosition:0})?k=0:r({dragNode:L,dropNode:I,dropPosition:1})?k=1:O=!1:r({dragNode:L,dropNode:I,dropPosition:1})?k=1:O=!1,{dropPosition:k,dropLevelOffset:B,dropTargetKey:p.key,dropTargetPos:p.pos,dragOverNodeKey:x,dropContainerKey:k===0?null:((d=p.parent)===null||d===void 0?void 0:d.key)||null,dropAllowed:O}}function Ql(e,t){if(e){var i=t.multiple;return i?e.slice():e.length?[e[0]]:e}}function ci(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else if(st(e)==="object")t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0};else return Tt(!1,"`checkedKeys` is not an array or an object"),null;return t}function ki(e,t){var i=new Set;function n(l){if(!i.has(l)){var r=pt(t,l);if(r){i.add(l);var u=r.parent,c=r.node;c.disabled||u&&n(u.key)}}}return(e||[]).forEach(function(l){n(l)}),Te(i)}function Cu(e){const[t,i]=C.useState(null);return[C.useCallback((r,u,c)=>{const o=t??r,f=Math.min(o||0,r),d=Math.max(o||0,r),g=u.slice(f,d+1).map(S=>e(S)),y=g.some(S=>!c.has(S)),_=[];return g.forEach(S=>{y?(c.has(S)||_.push(S),c.add(S)):(c.delete(S),_.push(S))}),i(y?d:null),_},[t]),r=>{i(r)}]}const Bt={},Ti="SELECT_ALL",Ni="SELECT_INVERT",Li="SELECT_NONE",eo=[],Cs=(e,t)=>{let i=[];return(t||[]).forEach(n=>{i.push(n),n&&typeof n=="object"&&e in n&&(i=[].concat(Te(i),Te(Cs(e,n[e]))))}),i},_u=(e,t)=>{const{preserveSelectedRowKeys:i,selectedRowKeys:n,defaultSelectedRowKeys:l,getCheckboxProps:r,onChange:u,onSelect:c,onSelectAll:o,onSelectInvert:f,onSelectNone:d,onSelectMultiple:g,columnWidth:y,type:_,selections:S,fixed:T,renderCell:s,hideSelectAll:a,checkStrictly:h=!0}=t||{},{prefixCls:p,data:m,pageData:v,getRecordByKey:b,getRowKey:w,expandType:E,childrenColumnName:x,locale:k,getPopupContainer:B}=e,N=Vi(),[L,I]=Cu(Y=>Y),[O,P]=Fn(n||l||eo,{value:n}),M=C.useRef(new Map),R=C.useCallback(Y=>{if(i){const ee=new Map;Y.forEach(J=>{let X=b(J);!X&&M.current.has(J)&&(X=M.current.get(J)),ee.set(J,X)}),M.current=ee}},[b,i]);C.useEffect(()=>{R(O)},[O]);const{keyEntities:$}=C.useMemo(()=>{if(h)return{keyEntities:null};let Y=m;if(i){const ee=new Set(m.map((X,te)=>w(X,te))),J=Array.from(M.current).reduce((X,te)=>{let[ue,Q]=te;return ee.has(ue)?X:X.concat(Q)},[]);Y=[].concat(Te(Y),Te(J))}return ji(Y,{externalGetKey:w,childrenPropName:x})},[m,w,h,x,i]),A=C.useMemo(()=>Cs(x,v),[x,v]),F=C.useMemo(()=>{const Y=new Map;return A.forEach((ee,J)=>{const X=w(ee,J),te=(r?r(ee):null)||{};Y.set(X,te)}),Y},[A,w,r]),z=C.useCallback(Y=>{var ee;return!!(!((ee=F.get(w(Y)))===null||ee===void 0)&&ee.disabled)},[F,w]),[H,D]=C.useMemo(()=>{if(h)return[O||[],[]];const{checkedKeys:Y,halfCheckedKeys:ee}=Wt(O,!0,$,z);return[Y||[],ee]},[O,h,$,z]),V=C.useMemo(()=>{const Y=_==="radio"?H.slice(0,1):H;return new Set(Y)},[H,_]),q=C.useMemo(()=>_==="radio"?new Set:new Set(D),[D,_]);C.useEffect(()=>{t||P(eo)},[!!t]);const K=C.useCallback((Y,ee)=>{let J,X;R(Y),i?(J=Y,X=Y.map(te=>M.current.get(te))):(J=[],X=[],Y.forEach(te=>{const ue=b(te);ue!==void 0&&(J.push(te),X.push(ue))})),P(J),u==null||u(J,X,{type:ee})},[P,b,u,i]),Z=C.useCallback((Y,ee,J,X)=>{if(c){const te=J.map(ue=>b(ue));c(b(Y),ee,te,X)}K(J,"single")},[c,b,K]),G=C.useMemo(()=>!S||a?null:(S===!0?[Ti,Ni,Li]:S).map(ee=>ee===Ti?{key:"all",text:k.selectionAll,onSelect(){K(m.map((J,X)=>w(J,X)).filter(J=>{const X=F.get(J);return!(X!=null&&X.disabled)||V.has(J)}),"all")}}:ee===Ni?{key:"invert",text:k.selectInvert,onSelect(){const J=new Set(V);v.forEach((te,ue)=>{const Q=w(te,ue),oe=F.get(Q);oe!=null&&oe.disabled||(J.has(Q)?J.delete(Q):J.add(Q))});const X=Array.from(J);f&&(N.deprecated(!1,"onSelectInvert","onChange"),f(X)),K(X,"invert")}}:ee===Li?{key:"none",text:k.selectNone,onSelect(){d==null||d(),K(Array.from(V).filter(J=>{const X=F.get(J);return X==null?void 0:X.disabled}),"none")}}:ee).map(ee=>Object.assign(Object.assign({},ee),{onSelect:function(){for(var J,X,te=arguments.length,ue=new Array(te),Q=0;Q<te;Q++)ue[Q]=arguments[Q];(X=ee.onSelect)===null||X===void 0||(J=X).call.apply(J,[ee].concat(ue)),I(null)}})),[S,V,v,w,f,K]);return[C.useCallback(Y=>{var ee;if(!t)return Y.filter(ge=>ge!==Bt);let J=Te(Y);const X=new Set(V),te=A.map(w).filter(ge=>!F.get(ge).disabled),ue=te.every(ge=>X.has(ge)),Q=te.some(ge=>X.has(ge)),oe=()=>{const ge=[];ue?te.forEach(Oe=>{X.delete(Oe),ge.push(Oe)}):te.forEach(Oe=>{X.has(Oe)||(X.add(Oe),ge.push(Oe))});const ye=Array.from(X);o==null||o(!ue,ye.map(Oe=>b(Oe)),ge.map(Oe=>b(Oe))),K(ye,"all"),I(null)};let me,se;if(_!=="radio"){let ge;if(G){const he={getPopupContainer:B,items:G.map((pe,Ce)=>{const{key:Re,text:Fe,onSelect:Xe}=pe;return{key:Re??Ce,onClick:()=>{Xe==null||Xe(te)},label:Fe}})};ge=C.createElement("div",{className:`${p}-selection-extra`},C.createElement(zo,{menu:he,getPopupContainer:B},C.createElement("span",null,C.createElement(Qr,null))))}const ye=A.map((he,pe)=>{const Ce=w(he,pe),Re=F.get(Ce)||{};return Object.assign({checked:X.has(Ce)},Re)}).filter(he=>{let{disabled:pe}=he;return pe}),Oe=!!ye.length&&ye.length===A.length,ae=Oe&&ye.every(he=>{let{checked:pe}=he;return pe}),ce=Oe&&ye.some(he=>{let{checked:pe}=he;return pe});se=C.createElement(On,{checked:Oe?ae:!!A.length&&ue,indeterminate:Oe?!ae&&ce:!ue&&Q,onChange:oe,disabled:A.length===0||Oe,"aria-label":ge?"Custom selection":"Select all",skipGroup:!0}),me=!a&&C.createElement("div",{className:`${p}-selection`},se,ge)}let Ee;_==="radio"?Ee=(ge,ye,Oe)=>{const ae=w(ye,Oe),ce=X.has(ae);return{node:C.createElement($o,Object.assign({},F.get(ae),{checked:ce,onClick:he=>he.stopPropagation(),onChange:he=>{X.has(ae)||Z(ae,!0,[ae],he.nativeEvent)}})),checked:ce}}:Ee=(ge,ye,Oe)=>{var ae;const ce=w(ye,Oe),he=X.has(ce),pe=q.has(ce),Ce=F.get(ce);let Re;return E==="nest"?Re=pe:Re=(ae=Ce==null?void 0:Ce.indeterminate)!==null&&ae!==void 0?ae:pe,{node:C.createElement(On,Object.assign({},Ce,{indeterminate:Re,checked:he,skipGroup:!0,onClick:Fe=>Fe.stopPropagation(),onChange:Fe=>{let{nativeEvent:Xe}=Fe;const{shiftKey:it}=Xe,$e=te.findIndex(lt=>lt===ce),It=H.some(lt=>te.includes(lt));if(it&&h&&It){const lt=L($e,te,X),at=Array.from(X);g==null||g(!he,at.map(gt=>b(gt)),lt.map(gt=>b(gt))),K(at,"multiple")}else{const lt=H;if(h){const at=he?wt(lt,ce):kt(lt,ce);Z(ce,!he,at,Xe)}else{const at=Wt([].concat(Te(lt),[ce]),!0,$,z),{checkedKeys:gt,halfCheckedKeys:Ct}=at;let Qe=gt;if(he){const Ye=new Set(gt);Ye.delete(ce),Qe=Wt(Array.from(Ye),{checked:!1,halfCheckedKeys:Ct},$,z).checkedKeys}Z(ce,!he,Qe,Xe)}}I(he?null:$e)}})),checked:he}};const de=(ge,ye,Oe)=>{const{node:ae,checked:ce}=Ee(ge,ye,Oe);return s?s(ce,ye,Oe,ae):ae};if(!J.includes(Bt))if(J.findIndex(ge=>{var ye;return((ye=ge[un])===null||ye===void 0?void 0:ye.columnType)==="EXPAND_COLUMN"})===0){const[ge,...ye]=J;J=[ge,Bt].concat(Te(ye))}else J=[Bt].concat(Te(J));const be=J.indexOf(Bt);J=J.filter((ge,ye)=>ge!==Bt||ye===be);const ke=J[be-1],fe=J[be+1];let De=T;De===void 0&&((fe==null?void 0:fe.fixed)!==void 0?De=fe.fixed:(ke==null?void 0:ke.fixed)!==void 0&&(De=ke.fixed)),De&&ke&&((ee=ke[un])===null||ee===void 0?void 0:ee.columnType)==="EXPAND_COLUMN"&&ke.fixed===void 0&&(ke.fixed=De);const Ae=re(`${p}-selection-col`,{[`${p}-selection-col-with-dropdown`]:S&&_==="checkbox"}),ze=()=>t!=null&&t.columnTitle?typeof t.columnTitle=="function"?t.columnTitle(se):t.columnTitle:me,ve={fixed:De,width:y,className:`${p}-selection-column`,title:ze(),render:de,onCell:t.onCell,[un]:{className:Ae}};return J.map(ge=>ge===Bt?ve:ge)},[w,A,t,H,V,q,y,G,E,F,g,Z,z]),V]};function xu(e,t){return e._antProxy=e._antProxy||{},Object.keys(t).forEach(i=>{if(!(i in e._antProxy)){const n=e[i];e._antProxy[i]=n,e[i]=t[i]}}),e}function wu(e,t){return C.useImperativeHandle(e,()=>{const i=t(),{nativeElement:n}=i;return typeof Proxy<"u"?new Proxy(n,{get(l,r){return i[r]?i[r]:Reflect.get(l,r)}}):xu(n,i)})}function Su(e){return function(i){let{prefixCls:n,onExpand:l,record:r,expanded:u,expandable:c}=i;const o=`${n}-row-expand-icon`;return C.createElement("button",{type:"button",onClick:f=>{l(r,f),f.stopPropagation()},className:re(o,{[`${o}-spaced`]:!c,[`${o}-expanded`]:c&&u,[`${o}-collapsed`]:c&&!u}),"aria-label":u?e.collapse:e.expand,"aria-expanded":u})}}function Eu(e){return(i,n)=>{const l=i.querySelector(`.${e}-container`);let r=n;if(l){const u=getComputedStyle(l),c=parseInt(u.borderLeftWidth,10),o=parseInt(u.borderRightWidth,10);r=n-c-o}return r}}function Pt(e,t){return"key"in e&&e.key!==void 0&&e.key!==null?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t}function bn(e,t){return t?`${t}-${e}`:`${e}`}function Jn(e,t){return typeof e=="function"?e(t):e}function ku(e,t){const i=Jn(e,t);return Object.prototype.toString.call(i)==="[object Object]"?"":i}var Tu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"};const Nu=Tu;var Lu=function(t,i){return C.createElement(ft,Se({},t,{ref:i,icon:Nu}))},Iu=C.forwardRef(Lu);const Ru=Iu;function Bu(e){const t=C.useRef(e),i=Vo();return[()=>t.current,n=>{t.current=n,i()}]}function Ou(e){var t=e.dropPosition,i=e.dropLevelOffset,n=e.indent,l={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:l.top=0,l.left=-i*n;break;case 1:l.bottom=0,l.left=-i*n;break;case 0:l.bottom=0,l.left=n;break}return C.createElement("div",{style:l})}function _s(e){if(e==null)throw new TypeError("Cannot destructure "+e)}function Mu(e,t){var i=C.useState(!1),n=Ie(i,2),l=n[0],r=n[1];Zt(function(){if(l)return e(),function(){t()}},[l]),Zt(function(){return r(!0),function(){r(!1)}},[])}var Du=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],xs=function(t,i){var n=t.className,l=t.style,r=t.motion,u=t.motionNodes,c=t.motionType,o=t.onMotionStart,f=t.onMotionEnd,d=t.active,g=t.treeNodeRequiredProps,y=ct(t,Du),_=C.useState(!0),S=Ie(_,2),T=S[0],s=S[1],a=C.useContext(Qi),h=a.prefixCls,p=u&&c!=="hide";Zt(function(){u&&p!==T&&s(p)},[u]);var m=function(){u&&o()},v=C.useRef(!1),b=function(){u&&!v.current&&(v.current=!0,f())};Mu(m,b);var w=function(x){p===x&&b()};return u?C.createElement(Ki,Se({ref:i,visible:T},r,{motionAppear:c==="show",onVisibleChanged:w}),function(E,x){var k=E.className,B=E.style;return C.createElement("div",{ref:x,className:re("".concat(h,"-treenode-motion"),k),style:B},u.map(function(N){var L=Object.assign({},(_s(N.data),N.data)),I=N.title,O=N.key,P=N.isStart,M=N.isEnd;delete L.children;var R=dn(O,g);return C.createElement(Yt,Se({},L,R,{title:I,active:d,data:N.data,key:O,isStart:P,isEnd:M}))}))}):C.createElement(Yt,Se({domRef:i,className:n,style:l},y,{active:d}))};xs.displayName="MotionTreeNode";var Au=C.forwardRef(xs);function zu(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=e.length,n=t.length;if(Math.abs(i-n)!==1)return{add:!1,key:null};function l(r,u){var c=new Map;r.forEach(function(f){c.set(f,!0)});var o=u.filter(function(f){return!c.has(f)});return o.length===1?o[0]:null}return i<n?{add:!0,key:l(e,t)}:{add:!1,key:l(t,e)}}function to(e,t,i){var n=e.findIndex(function(c){return c.key===i}),l=e[n+1],r=t.findIndex(function(c){return c.key===i});if(l){var u=t.findIndex(function(c){return c.key===l.key});return t.slice(r+1,u)}return t.slice(r+1)}var $u=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],no={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Pu=function(){},Ht="RC_TREE_MOTION_".concat(Math.random()),Ii={key:Ht},ws={key:Ht,level:0,index:0,pos:"0",node:Ii,nodes:[Ii]},io={parent:null,children:[],pos:ws.pos,data:Ii,title:null,key:Ht,isStart:[],isEnd:[]};function lo(e,t,i,n){return t===!1||!i?e:e.slice(0,Math.ceil(i/n)+1)}function oo(e){var t=e.key,i=e.pos;return mn(t,i)}function Hu(e){for(var t=String(e.data.key),i=e;i.parent;)i=i.parent,t="".concat(i.data.key," > ").concat(t);return t}var Ss=C.forwardRef(function(e,t){var i=e.prefixCls,n=e.data;e.selectable,e.checkable;var l=e.expandedKeys,r=e.selectedKeys,u=e.checkedKeys,c=e.loadedKeys,o=e.loadingKeys,f=e.halfCheckedKeys,d=e.keyEntities,g=e.disabled,y=e.dragging,_=e.dragOverNodeKey,S=e.dropPosition,T=e.motion,s=e.height,a=e.itemHeight,h=e.virtual,p=e.focusable,m=e.activeItem,v=e.focused,b=e.tabIndex,w=e.onKeyDown,E=e.onFocus,x=e.onBlur,k=e.onActiveChange,B=e.onListChangeStart,N=e.onListChangeEnd,L=ct(e,$u),I=C.useRef(null),O=C.useRef(null);C.useImperativeHandle(t,function(){return{scrollTo:function(Ee){I.current.scrollTo(Ee)},getIndentWidth:function(){return O.current.offsetWidth}}});var P=C.useState(l),M=Ie(P,2),R=M[0],$=M[1],A=C.useState(n),F=Ie(A,2),z=F[0],H=F[1],D=C.useState(n),V=Ie(D,2),q=V[0],K=V[1],Z=C.useState([]),G=Ie(Z,2),U=G[0],Y=G[1],ee=C.useState(null),J=Ie(ee,2),X=J[0],te=J[1],ue=C.useRef(n);ue.current=n;function Q(){var se=ue.current;H(se),K(se),Y([]),te(null),N()}Zt(function(){$(l);var se=zu(R,l);if(se.key!==null)if(se.add){var Ee=z.findIndex(function(Ae){var ze=Ae.key;return ze===se.key}),de=lo(to(z,n,se.key),h,s,a),be=z.slice();be.splice(Ee+1,0,io),K(be),Y(de),te("show")}else{var ke=n.findIndex(function(Ae){var ze=Ae.key;return ze===se.key}),fe=lo(to(n,z,se.key),h,s,a),De=n.slice();De.splice(ke+1,0,io),K(De),Y(fe),te("hide")}else z!==n&&(H(n),K(n))},[l,n]),C.useEffect(function(){y||Q()},[y]);var oe=T?q:n,me={expandedKeys:l,selectedKeys:r,loadedKeys:c,loadingKeys:o,checkedKeys:u,halfCheckedKeys:f,dragOverNodeKey:_,dropPosition:S,keyEntities:d};return C.createElement(C.Fragment,null,v&&m&&C.createElement("span",{style:no,"aria-live":"assertive"},Hu(m)),C.createElement("div",null,C.createElement("input",{style:no,disabled:p===!1||g,tabIndex:p!==!1?b:null,onKeyDown:w,onFocus:E,onBlur:x,value:"",onChange:Pu,"aria-label":"for screen reader"})),C.createElement("div",{className:"".concat(i,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},C.createElement("div",{className:"".concat(i,"-indent")},C.createElement("div",{ref:O,className:"".concat(i,"-indent-unit")}))),C.createElement(Fo,Se({},L,{data:oe,itemKey:oo,height:s,fullHeight:!1,virtual:h,itemHeight:a,prefixCls:"".concat(i,"-list"),ref:I,onVisibleChange:function(Ee,de){var be=new Set(Ee),ke=de.filter(function(fe){return!be.has(fe)});ke.some(function(fe){return oo(fe)===Ht})&&Q()}}),function(se){var Ee=se.pos,de=Object.assign({},(_s(se.data),se.data)),be=se.title,ke=se.key,fe=se.isStart,De=se.isEnd,Ae=mn(ke,Ee);delete de.key,delete de.children;var ze=dn(Ae,me);return C.createElement(Au,Se({},de,ze,{title:be,active:!!m&&ke===m.key,pos:Ee,data:se.data,isStart:fe,isEnd:De,motion:T,motionNodes:ke===Ht?U:null,motionType:X,onMotionStart:B,onMotionEnd:Q,treeNodeRequiredProps:me,onMouseMove:function(){k(null)}}))}))});Ss.displayName="NodeList";var Fu=10,tl=function(e){Kn(i,e);var t=Un(i);function i(){var n;jn(this,i);for(var l=arguments.length,r=new Array(l),u=0;u<l;u++)r[u]=arguments[u];return n=t.call.apply(t,[this].concat(r)),W(ne(n),"destroyed",!1),W(ne(n),"delayedDragEnterLogic",void 0),W(ne(n),"loadingRetryTimes",{}),W(ne(n),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:Gt()}),W(ne(n),"dragStartMousePosition",null),W(ne(n),"dragNode",void 0),W(ne(n),"currentMouseOverDroppableNodeKey",null),W(ne(n),"listRef",C.createRef()),W(ne(n),"onNodeDragStart",function(c,o){var f=n.state,d=f.expandedKeys,g=f.keyEntities,y=n.props.onDragStart,_=o.props.eventKey;n.dragNode=o,n.dragStartMousePosition={x:c.clientX,y:c.clientY};var S=wt(d,_);n.setState({draggingNodeKey:_,dragChildrenKeys:vu(_,g),indent:n.listRef.current.getIndentWidth()}),n.setExpandedKeys(S),window.addEventListener("dragend",n.onWindowDragEnd),y==null||y({event:c,node:Ge(o.props)})}),W(ne(n),"onNodeDragEnter",function(c,o){var f=n.state,d=f.expandedKeys,g=f.keyEntities,y=f.dragChildrenKeys,_=f.flattenNodes,S=f.indent,T=n.props,s=T.onDragEnter,a=T.onExpand,h=T.allowDrop,p=T.direction,m=o.props,v=m.pos,b=m.eventKey,w=ne(n),E=w.dragNode;if(n.currentMouseOverDroppableNodeKey!==b&&(n.currentMouseOverDroppableNodeKey=b),!E){n.resetDragState();return}var x=Jl(c,E,o,S,n.dragStartMousePosition,h,_,g,d,p),k=x.dropPosition,B=x.dropLevelOffset,N=x.dropTargetKey,L=x.dropContainerKey,I=x.dropTargetPos,O=x.dropAllowed,P=x.dragOverNodeKey;if(y.indexOf(N)!==-1||!O){n.resetDragState();return}if(n.delayedDragEnterLogic||(n.delayedDragEnterLogic={}),Object.keys(n.delayedDragEnterLogic).forEach(function(M){clearTimeout(n.delayedDragEnterLogic[M])}),E.props.eventKey!==o.props.eventKey&&(c.persist(),n.delayedDragEnterLogic[v]=window.setTimeout(function(){if(n.state.draggingNodeKey!==null){var M=Te(d),R=pt(g,o.props.eventKey);R&&(R.children||[]).length&&(M=kt(d,o.props.eventKey)),"expandedKeys"in n.props||n.setExpandedKeys(M),a==null||a(M,{node:Ge(o.props),expanded:!0,nativeEvent:c.nativeEvent})}},800)),E.props.eventKey===N&&B===0){n.resetDragState();return}n.setState({dragOverNodeKey:P,dropPosition:k,dropLevelOffset:B,dropTargetKey:N,dropContainerKey:L,dropTargetPos:I,dropAllowed:O}),s==null||s({event:c,node:Ge(o.props),expandedKeys:d})}),W(ne(n),"onNodeDragOver",function(c,o){var f=n.state,d=f.dragChildrenKeys,g=f.flattenNodes,y=f.keyEntities,_=f.expandedKeys,S=f.indent,T=n.props,s=T.onDragOver,a=T.allowDrop,h=T.direction,p=ne(n),m=p.dragNode;if(m){var v=Jl(c,m,o,S,n.dragStartMousePosition,a,g,y,_,h),b=v.dropPosition,w=v.dropLevelOffset,E=v.dropTargetKey,x=v.dropContainerKey,k=v.dropAllowed,B=v.dropTargetPos,N=v.dragOverNodeKey;d.indexOf(E)!==-1||!k||(m.props.eventKey===E&&w===0?n.state.dropPosition===null&&n.state.dropLevelOffset===null&&n.state.dropTargetKey===null&&n.state.dropContainerKey===null&&n.state.dropTargetPos===null&&n.state.dropAllowed===!1&&n.state.dragOverNodeKey===null||n.resetDragState():b===n.state.dropPosition&&w===n.state.dropLevelOffset&&E===n.state.dropTargetKey&&x===n.state.dropContainerKey&&B===n.state.dropTargetPos&&k===n.state.dropAllowed&&N===n.state.dragOverNodeKey||n.setState({dropPosition:b,dropLevelOffset:w,dropTargetKey:E,dropContainerKey:x,dropTargetPos:B,dropAllowed:k,dragOverNodeKey:N}),s==null||s({event:c,node:Ge(o.props)}))}}),W(ne(n),"onNodeDragLeave",function(c,o){n.currentMouseOverDroppableNodeKey===o.props.eventKey&&!c.currentTarget.contains(c.relatedTarget)&&(n.resetDragState(),n.currentMouseOverDroppableNodeKey=null);var f=n.props.onDragLeave;f==null||f({event:c,node:Ge(o.props)})}),W(ne(n),"onWindowDragEnd",function(c){n.onNodeDragEnd(c,null,!0),window.removeEventListener("dragend",n.onWindowDragEnd)}),W(ne(n),"onNodeDragEnd",function(c,o){var f=n.props.onDragEnd;n.setState({dragOverNodeKey:null}),n.cleanDragState(),f==null||f({event:c,node:Ge(o.props)}),n.dragNode=null,window.removeEventListener("dragend",n.onWindowDragEnd)}),W(ne(n),"onNodeDrop",function(c,o){var f,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=n.state,y=g.dragChildrenKeys,_=g.dropPosition,S=g.dropTargetKey,T=g.dropTargetPos,s=g.dropAllowed;if(s){var a=n.props.onDrop;if(n.setState({dragOverNodeKey:null}),n.cleanDragState(),S!==null){var h=le(le({},dn(S,n.getTreeNodeRequiredProps())),{},{active:((f=n.getActiveItem())===null||f===void 0?void 0:f.key)===S,data:pt(n.state.keyEntities,S).node}),p=y.indexOf(S)!==-1;Tt(!p,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var m=el(T),v={event:c,node:Ge(h),dragNode:n.dragNode?Ge(n.dragNode.props):null,dragNodesKeys:[n.dragNode.props.eventKey].concat(y),dropToGap:_!==0,dropPosition:_+Number(m[m.length-1])};d||a==null||a(v),n.dragNode=null}}}),W(ne(n),"cleanDragState",function(){var c=n.state.draggingNodeKey;c!==null&&n.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),n.dragStartMousePosition=null,n.currentMouseOverDroppableNodeKey=null}),W(ne(n),"triggerExpandActionExpand",function(c,o){var f=n.state,d=f.expandedKeys,g=f.flattenNodes,y=o.expanded,_=o.key,S=o.isLeaf;if(!(S||c.shiftKey||c.metaKey||c.ctrlKey)){var T=g.filter(function(a){return a.key===_})[0],s=Ge(le(le({},dn(_,n.getTreeNodeRequiredProps())),{},{data:T.data}));n.setExpandedKeys(y?wt(d,_):kt(d,_)),n.onNodeExpand(c,s)}}),W(ne(n),"onNodeClick",function(c,o){var f=n.props,d=f.onClick,g=f.expandAction;g==="click"&&n.triggerExpandActionExpand(c,o),d==null||d(c,o)}),W(ne(n),"onNodeDoubleClick",function(c,o){var f=n.props,d=f.onDoubleClick,g=f.expandAction;g==="doubleClick"&&n.triggerExpandActionExpand(c,o),d==null||d(c,o)}),W(ne(n),"onNodeSelect",function(c,o){var f=n.state.selectedKeys,d=n.state,g=d.keyEntities,y=d.fieldNames,_=n.props,S=_.onSelect,T=_.multiple,s=o.selected,a=o[y.key],h=!s;h?T?f=kt(f,a):f=[a]:f=wt(f,a);var p=f.map(function(m){var v=pt(g,m);return v?v.node:null}).filter(function(m){return m});n.setUncontrolledState({selectedKeys:f}),S==null||S(f,{event:"select",selected:h,node:o,selectedNodes:p,nativeEvent:c.nativeEvent})}),W(ne(n),"onNodeCheck",function(c,o,f){var d=n.state,g=d.keyEntities,y=d.checkedKeys,_=d.halfCheckedKeys,S=n.props,T=S.checkStrictly,s=S.onCheck,a=o.key,h,p={event:"check",node:o,checked:f,nativeEvent:c.nativeEvent};if(T){var m=f?kt(y,a):wt(y,a),v=wt(_,a);h={checked:m,halfChecked:v},p.checkedNodes=m.map(function(B){return pt(g,B)}).filter(function(B){return B}).map(function(B){return B.node}),n.setUncontrolledState({checkedKeys:m})}else{var b=Wt([].concat(Te(y),[a]),!0,g),w=b.checkedKeys,E=b.halfCheckedKeys;if(!f){var x=new Set(w);x.delete(a);var k=Wt(Array.from(x),{checked:!1,halfCheckedKeys:E},g);w=k.checkedKeys,E=k.halfCheckedKeys}h=w,p.checkedNodes=[],p.checkedNodesPositions=[],p.halfCheckedKeys=E,w.forEach(function(B){var N=pt(g,B);if(N){var L=N.node,I=N.pos;p.checkedNodes.push(L),p.checkedNodesPositions.push({node:L,pos:I})}}),n.setUncontrolledState({checkedKeys:w},!1,{halfCheckedKeys:E})}s==null||s(h,p)}),W(ne(n),"onNodeLoad",function(c){var o=c.key,f=new Promise(function(d,g){n.setState(function(y){var _=y.loadedKeys,S=_===void 0?[]:_,T=y.loadingKeys,s=T===void 0?[]:T,a=n.props,h=a.loadData,p=a.onLoad;if(!h||S.indexOf(o)!==-1||s.indexOf(o)!==-1)return null;var m=h(c);return m.then(function(){var v=n.state.loadedKeys,b=kt(v,o);p==null||p(b,{event:"load",node:c}),n.setUncontrolledState({loadedKeys:b}),n.setState(function(w){return{loadingKeys:wt(w.loadingKeys,o)}}),d()}).catch(function(v){if(n.setState(function(w){return{loadingKeys:wt(w.loadingKeys,o)}}),n.loadingRetryTimes[o]=(n.loadingRetryTimes[o]||0)+1,n.loadingRetryTimes[o]>=Fu){var b=n.state.loadedKeys;Tt(!1,"Retry for `loadData` many times but still failed. No more retry."),n.setUncontrolledState({loadedKeys:kt(b,o)}),d()}g(v)}),{loadingKeys:kt(s,o)}})});return f.catch(function(){}),f}),W(ne(n),"onNodeMouseEnter",function(c,o){var f=n.props.onMouseEnter;f==null||f({event:c,node:o})}),W(ne(n),"onNodeMouseLeave",function(c,o){var f=n.props.onMouseLeave;f==null||f({event:c,node:o})}),W(ne(n),"onNodeContextMenu",function(c,o){var f=n.props.onRightClick;f&&(c.preventDefault(),f({event:c,node:o}))}),W(ne(n),"onFocus",function(){var c=n.props.onFocus;n.setState({focused:!0});for(var o=arguments.length,f=new Array(o),d=0;d<o;d++)f[d]=arguments[d];c==null||c.apply(void 0,f)}),W(ne(n),"onBlur",function(){var c=n.props.onBlur;n.setState({focused:!1}),n.onActiveChange(null);for(var o=arguments.length,f=new Array(o),d=0;d<o;d++)f[d]=arguments[d];c==null||c.apply(void 0,f)}),W(ne(n),"getTreeNodeRequiredProps",function(){var c=n.state,o=c.expandedKeys,f=c.selectedKeys,d=c.loadedKeys,g=c.loadingKeys,y=c.checkedKeys,_=c.halfCheckedKeys,S=c.dragOverNodeKey,T=c.dropPosition,s=c.keyEntities;return{expandedKeys:o||[],selectedKeys:f||[],loadedKeys:d||[],loadingKeys:g||[],checkedKeys:y||[],halfCheckedKeys:_||[],dragOverNodeKey:S,dropPosition:T,keyEntities:s}}),W(ne(n),"setExpandedKeys",function(c){var o=n.state,f=o.treeData,d=o.fieldNames,g=ri(f,c,d);n.setUncontrolledState({expandedKeys:c,flattenNodes:g},!0)}),W(ne(n),"onNodeExpand",function(c,o){var f=n.state.expandedKeys,d=n.state,g=d.listChanging,y=d.fieldNames,_=n.props,S=_.onExpand,T=_.loadData,s=o.expanded,a=o[y.key];if(!g){var h=f.indexOf(a),p=!s;if(Tt(s&&h!==-1||!s&&h===-1,"Expand state not sync with index check"),p?f=kt(f,a):f=wt(f,a),n.setExpandedKeys(f),S==null||S(f,{node:o,expanded:p,nativeEvent:c.nativeEvent}),p&&T){var m=n.onNodeLoad(o);m&&m.then(function(){var v=ri(n.state.treeData,f,y);n.setUncontrolledState({flattenNodes:v})}).catch(function(){var v=n.state.expandedKeys,b=wt(v,a);n.setExpandedKeys(b)})}}}),W(ne(n),"onListChangeStart",function(){n.setUncontrolledState({listChanging:!0})}),W(ne(n),"onListChangeEnd",function(){setTimeout(function(){n.setUncontrolledState({listChanging:!1})})}),W(ne(n),"onActiveChange",function(c){var o=n.state.activeKey,f=n.props,d=f.onActiveChange,g=f.itemScrollOffset,y=g===void 0?0:g;o!==c&&(n.setState({activeKey:c}),c!==null&&n.scrollTo({key:c,offset:y}),d==null||d(c))}),W(ne(n),"getActiveItem",function(){var c=n.state,o=c.activeKey,f=c.flattenNodes;return o===null?null:f.find(function(d){var g=d.key;return g===o})||null}),W(ne(n),"offsetActiveKey",function(c){var o=n.state,f=o.flattenNodes,d=o.activeKey,g=f.findIndex(function(S){var T=S.key;return T===d});g===-1&&c<0&&(g=f.length),g=(g+c+f.length)%f.length;var y=f[g];if(y){var _=y.key;n.onActiveChange(_)}else n.onActiveChange(null)}),W(ne(n),"onKeyDown",function(c){var o=n.state,f=o.activeKey,d=o.expandedKeys,g=o.checkedKeys,y=o.fieldNames,_=n.props,S=_.onKeyDown,T=_.checkable,s=_.selectable;switch(c.which){case nt.UP:{n.offsetActiveKey(-1),c.preventDefault();break}case nt.DOWN:{n.offsetActiveKey(1),c.preventDefault();break}}var a=n.getActiveItem();if(a&&a.data){var h=n.getTreeNodeRequiredProps(),p=a.data.isLeaf===!1||!!(a.data[y.children]||[]).length,m=Ge(le(le({},dn(f,h)),{},{data:a.data,active:!0}));switch(c.which){case nt.LEFT:{p&&d.includes(f)?n.onNodeExpand({},m):a.parent&&n.onActiveChange(a.parent.key),c.preventDefault();break}case nt.RIGHT:{p&&!d.includes(f)?n.onNodeExpand({},m):a.children&&a.children.length&&n.onActiveChange(a.children[0].key),c.preventDefault();break}case nt.ENTER:case nt.SPACE:{T&&!m.disabled&&m.checkable!==!1&&!m.disableCheckbox?n.onNodeCheck({},m,!g.includes(f)):!T&&s&&!m.disabled&&m.selectable!==!1&&n.onNodeSelect({},m);break}}}S==null||S(c)}),W(ne(n),"setUncontrolledState",function(c){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!n.destroyed){var d=!1,g=!0,y={};Object.keys(c).forEach(function(_){if(_ in n.props){g=!1;return}d=!0,y[_]=c[_]}),d&&(!o||g)&&n.setState(le(le({},y),f))}}),W(ne(n),"scrollTo",function(c){n.listRef.current.scrollTo(c)}),n}return Wn(i,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var l=this.props,r=l.activeKey,u=l.itemScrollOffset,c=u===void 0?0:u;r!==void 0&&r!==this.state.activeKey&&(this.setState({activeKey:r}),r!==null&&this.scrollTo({key:r,offset:c}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var l=this.state,r=l.focused,u=l.flattenNodes,c=l.keyEntities,o=l.draggingNodeKey,f=l.activeKey,d=l.dropLevelOffset,g=l.dropContainerKey,y=l.dropTargetKey,_=l.dropPosition,S=l.dragOverNodeKey,T=l.indent,s=this.props,a=s.prefixCls,h=s.className,p=s.style,m=s.showLine,v=s.focusable,b=s.tabIndex,w=b===void 0?0:b,E=s.selectable,x=s.showIcon,k=s.icon,B=s.switcherIcon,N=s.draggable,L=s.checkable,I=s.checkStrictly,O=s.disabled,P=s.motion,M=s.loadData,R=s.filterTreeNode,$=s.height,A=s.itemHeight,F=s.virtual,z=s.titleRender,H=s.dropIndicatorRender,D=s.onContextMenu,V=s.onScroll,q=s.direction,K=s.rootClassName,Z=s.rootStyle,G=gn(this.props,{aria:!0,data:!0}),U;return N&&(st(N)==="object"?U=N:typeof N=="function"?U={nodeDraggable:N}:U={}),C.createElement(Qi.Provider,{value:{prefixCls:a,selectable:E,showIcon:x,icon:k,switcherIcon:B,draggable:U,draggingNodeKey:o,checkable:L,checkStrictly:I,disabled:O,keyEntities:c,dropLevelOffset:d,dropContainerKey:g,dropTargetKey:y,dropPosition:_,dragOverNodeKey:S,indent:T,direction:q,dropIndicatorRender:H,loadData:M,filterTreeNode:R,titleRender:z,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},C.createElement("div",{role:"tree",className:re(a,h,K,W(W(W({},"".concat(a,"-show-line"),m),"".concat(a,"-focused"),r),"".concat(a,"-active-focused"),f!==null)),style:Z},C.createElement(Ss,Se({ref:this.listRef,prefixCls:a,style:p,data:u,disabled:O,selectable:E,checkable:!!L,motion:P,dragging:o!==null,height:$,itemHeight:A,virtual:F,focusable:v,focused:r,tabIndex:w,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:D,onScroll:V},this.getTreeNodeRequiredProps(),G))))}}],[{key:"getDerivedStateFromProps",value:function(l,r){var u=r.prevProps,c={prevProps:l};function o(b){return!u&&b in l||u&&u[b]!==l[b]}var f,d=r.fieldNames;if(o("fieldNames")&&(d=Gt(l.fieldNames),c.fieldNames=d),o("treeData")?f=l.treeData:o("children")&&(Tt(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),f=Go(l.children)),f){c.treeData=f;var g=ji(f,{fieldNames:d});c.keyEntities=le(W({},Ht,ws),g.keyEntities)}var y=c.keyEntities||r.keyEntities;if(o("expandedKeys")||u&&o("autoExpandParent"))c.expandedKeys=l.autoExpandParent||!u&&l.defaultExpandParent?ki(l.expandedKeys,y):l.expandedKeys;else if(!u&&l.defaultExpandAll){var _=le({},y);delete _[Ht],c.expandedKeys=Object.keys(_).map(function(b){return _[b].key})}else!u&&l.defaultExpandedKeys&&(c.expandedKeys=l.autoExpandParent||l.defaultExpandParent?ki(l.defaultExpandedKeys,y):l.defaultExpandedKeys);if(c.expandedKeys||delete c.expandedKeys,f||c.expandedKeys){var S=ri(f||r.treeData,c.expandedKeys||r.expandedKeys,d);c.flattenNodes=S}if(l.selectable&&(o("selectedKeys")?c.selectedKeys=Ql(l.selectedKeys,l):!u&&l.defaultSelectedKeys&&(c.selectedKeys=Ql(l.defaultSelectedKeys,l))),l.checkable){var T;if(o("checkedKeys")?T=ci(l.checkedKeys)||{}:!u&&l.defaultCheckedKeys?T=ci(l.defaultCheckedKeys)||{}:f&&(T=ci(l.checkedKeys)||{checkedKeys:r.checkedKeys,halfCheckedKeys:r.halfCheckedKeys}),T){var s=T,a=s.checkedKeys,h=a===void 0?[]:a,p=s.halfCheckedKeys,m=p===void 0?[]:p;if(!l.checkStrictly){var v=Wt(h,!0,y);h=v.checkedKeys,m=v.halfCheckedKeys}c.checkedKeys=h,c.halfCheckedKeys=m}}return o("loadedKeys")&&(c.loadedKeys=l.loadedKeys),c}}]),i}(C.Component);W(tl,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Ou,allowDrop:function(){return!0},expandAction:!1});W(tl,"TreeNode",Yt);var Vu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};const Ku=Vu;var Uu=function(t,i){return C.createElement(ft,Se({},t,{ref:i,icon:Ku}))},ju=C.forwardRef(Uu);const Es=ju;var Wu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};const qu=Wu;var Zu=function(t,i){return C.createElement(ft,Se({},t,{ref:i,icon:qu}))},Xu=C.forwardRef(Zu);const Gu=Xu;var Yu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};const Ju=Yu;var Qu=function(t,i){return C.createElement(ft,Se({},t,{ref:i,icon:Ju}))},ef=C.forwardRef(Qu);const tf=ef;var nf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"};const lf=nf;var of=function(t,i){return C.createElement(ft,Se({},t,{ref:i,icon:lf}))},sf=C.forwardRef(of);const rf=sf,af=new In("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),cf=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),df=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${ie(t.lineWidthBold)} solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),uf=(e,t)=>{const{treeCls:i,treeNodeCls:n,treeNodePadding:l,titleHeight:r,nodeSelectedBg:u,nodeHoverBg:c}=t,o=t.paddingXS;return{[i]:Object.assign(Object.assign({},St(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,[`&${i}-rtl`]:{[`${i}-switcher`]:{"&_close":{[`${i}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${i}-active-focused)`]:Object.assign({},ko(t)),[`${i}-list-holder-inner`]:{alignItems:"flex-start"},[`&${i}-block-node`]:{[`${i}-list-holder-inner`]:{alignItems:"stretch",[`${i}-node-content-wrapper`]:{flex:"auto"},[`${n}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:l,insetInlineStart:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:af,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${n}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${ie(l)} 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${i}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${i}-node-content-wrapper`]:{background:t.controlItemBgHover},[`&:not(${n}-disabled).filter-node ${i}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{cursor:"grab",[`${i}-draggable-icon`]:{flexShrink:0,width:r,lineHeight:`${ie(r)}`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${t.motionDurationSlow}`,[`${n}:hover &`]:{opacity:.45}},[`&${n}-disabled`]:{[`${i}-draggable-icon`]:{visibility:"hidden"}}}},[`${i}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:r}},[`${i}-draggable-icon`]:{visibility:"hidden"},[`${i}-switcher`]:Object.assign(Object.assign({},cf(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:r,margin:0,lineHeight:`${ie(r)}`,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${t.motionDurationSlow}`,borderRadius:t.borderRadius,"&-noop":{cursor:"unset"},[`&:not(${i}-switcher-noop):hover`]:{backgroundColor:t.colorBgTextHover},"&_close":{[`${i}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(r).div(2).equal(),bottom:t.calc(l).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:t.calc(t.calc(r).div(2).equal()).mul(.8).equal(),height:t.calc(r).div(2).equal(),borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${i}-checkbox`]:{top:"initial",marginInlineEnd:o,alignSelf:"flex-start",marginTop:t.marginXXS},[`${i}-node-content-wrapper, ${i}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:r,margin:0,padding:`0 ${ie(t.calc(t.paddingXS).div(2).equal())}`,color:"inherit",lineHeight:`${ie(r)}`,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:c},[`&${i}-node-selected`]:{backgroundColor:u},[`${i}-iconEle`]:{display:"inline-block",width:r,height:r,lineHeight:`${ie(r)}`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${i}-unselectable ${i}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${i}-node-content-wrapper`]:Object.assign({lineHeight:`${ie(r)}`,userSelect:"none"},df(e,t)),[`${n}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${t.colorPrimary}`}},"&-show-line":{[`${i}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(r).div(2).equal(),bottom:t.calc(l).mul(-1).equal(),borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${i}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${n}-leaf-last`]:{[`${i}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${ie(t.calc(r).div(2).equal())} !important`}}}}})}},ff=e=>{const{treeCls:t,treeNodeCls:i,treeNodePadding:n,directoryNodeSelectedBg:l,directoryNodeSelectedColor:r}=e;return{[`${t}${t}-directory`]:{[i]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:n,insetInlineStart:0,transition:`background-color ${e.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:e.controlItemBgHover}},"> *":{zIndex:1},[`${t}-switcher`]:{transition:`color ${e.motionDurationMid}`},[`${t}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${t}-node-selected`]:{color:r,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:l},[`${t}-switcher`]:{color:r},[`${t}-node-content-wrapper`]:{color:r,background:"transparent"}}}}}},hf=(e,t)=>{const i=`.${e}`,n=`${i}-treenode`,l=t.calc(t.paddingXS).div(2).equal(),r=tn(t,{treeCls:i,treeNodeCls:n,treeNodePadding:l});return[uf(e,r),ff(r)]},gf=e=>{const{controlHeightSM:t}=e;return{titleHeight:t,nodeHoverBg:e.controlItemBgHover,nodeSelectedBg:e.controlItemBgActive}},pf=e=>{const{colorTextLightSolid:t,colorPrimary:i}=e;return Object.assign(Object.assign({},gf(e)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:i})},mf=en("Tree",(e,t)=>{let{prefixCls:i}=t;return[{[e.componentCls]:Jo(`${i}-checkbox`,e)},hf(i,e),Lo(e)]},pf),so=4;function vf(e){const{dropPosition:t,dropLevelOffset:i,prefixCls:n,indent:l,direction:r="ltr"}=e,u=r==="ltr"?"left":"right",c=r==="ltr"?"right":"left",o={[u]:-i*l+so,[c]:0};switch(t){case-1:o.top=-3;break;case 1:o.bottom=-3;break;default:o.bottom=-3,o[u]=l+so;break}return Ke.createElement("div",{style:o,className:`${n}-drop-indicator`})}var bf={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};const yf=bf;var Cf=function(t,i){return C.createElement(ft,Se({},t,{ref:i,icon:yf}))},_f=C.forwardRef(Cf);const xf=_f;var wf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};const Sf=wf;var Ef=function(t,i){return C.createElement(ft,Se({},t,{ref:i,icon:Sf}))},kf=C.forwardRef(Ef);const Tf=kf;var Nf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};const Lf=Nf;var If=function(t,i){return C.createElement(ft,Se({},t,{ref:i,icon:Lf}))},Rf=C.forwardRef(If);const Bf=Rf,Of=e=>{const{prefixCls:t,switcherIcon:i,treeNodeProps:n,showLine:l}=e,{isLeaf:r,expanded:u,loading:c}=n;if(c)return C.createElement(xi,{className:`${t}-switcher-loading-icon`});let o;if(l&&typeof l=="object"&&(o=l.showLeafIcon),r){if(!l)return null;if(typeof o!="boolean"&&o){const g=typeof o=="function"?o(n):o,y=`${t}-switcher-line-custom-icon`;return C.isValidElement(g)?Rn(g,{className:re(g.props.className||"",y)}):g}return o?C.createElement(Es,{className:`${t}-switcher-line-icon`}):C.createElement("span",{className:`${t}-switcher-leaf-line`})}const f=`${t}-switcher-icon`,d=typeof i=="function"?i(n):i;return C.isValidElement(d)?Rn(d,{className:re(d.props.className||"",f)}):d!==void 0?d:l?u?C.createElement(Tf,{className:`${t}-switcher-line-icon`}):C.createElement(Bf,{className:`${t}-switcher-line-icon`}):C.createElement(xf,{className:f})},Mf=Of,Df=Ke.forwardRef((e,t)=>{var i;const{getPrefixCls:n,direction:l,virtual:r,tree:u}=Ke.useContext(yt),{prefixCls:c,className:o,showIcon:f=!1,showLine:d,switcherIcon:g,blockNode:y=!1,children:_,checkable:S=!1,selectable:T=!0,draggable:s,motion:a,style:h}=e,p=n("tree",c),m=n(),v=a??Object.assign(Object.assign({},Io(m)),{motionAppear:!1}),b=Object.assign(Object.assign({},e),{checkable:S,selectable:T,showIcon:f,motion:v,blockNode:y,showLine:!!d,dropIndicatorRender:vf}),[w,E,x]=mf(p),[,k]=Ro(),B=k.paddingXS/2+(((i=k.Tree)===null||i===void 0?void 0:i.titleHeight)||k.controlHeightSM),N=Ke.useMemo(()=>{if(!s)return!1;let I={};switch(typeof s){case"function":I.nodeDraggable=s;break;case"object":I=Object.assign({},s);break}return I.icon!==!1&&(I.icon=I.icon||Ke.createElement(rf,null)),I},[s]),L=I=>Ke.createElement(Mf,{prefixCls:p,switcherIcon:g,treeNodeProps:I,showLine:d});return w(Ke.createElement(tl,Object.assign({itemHeight:B,ref:t,virtual:r},b,{style:Object.assign(Object.assign({},u==null?void 0:u.style),h),prefixCls:p,className:re({[`${p}-icon-hide`]:!f,[`${p}-block-node`]:y,[`${p}-unselectable`]:!T,[`${p}-rtl`]:l==="rtl"},u==null?void 0:u.className,o,E,x),direction:l,checkable:S&&Ke.createElement("span",{className:`${p}-checkbox-inner`}),selectable:T,switcherIcon:L,draggable:N}),_))}),ks=Df,ro=0,di=1,ao=2;function nl(e,t,i){const{key:n,children:l}=i;function r(u){const c=u[n],o=u[l];t(c,u)!==!1&&nl(o||[],t,i)}e.forEach(r)}function Af(e){let{treeData:t,expandedKeys:i,startKey:n,endKey:l,fieldNames:r}=e;const u=[];let c=ro;if(n&&n===l)return[n];if(!n||!l)return[];function o(f){return f===n||f===l}return nl(t,f=>{if(c===ao)return!1;if(o(f)){if(u.push(f),c===ro)c=di;else if(c===di)return c=ao,!1}else c===di&&u.push(f);return i.includes(f)},Gt(r)),u}function ui(e,t,i){const n=Te(t),l=[];return nl(e,(r,u)=>{const c=n.indexOf(r);return c!==-1&&(l.push(u),n.splice(c,1)),!!n.length},Gt(i)),l}var co=globalThis&&globalThis.__rest||function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(i[n[l]]=e[n[l]]);return i};function zf(e){const{isLeaf:t,expanded:i}=e;return t?C.createElement(Es,null):i?C.createElement(Gu,null):C.createElement(tf,null)}function uo(e){let{treeData:t,children:i}=e;return t||Go(i)}const $f=(e,t)=>{var{defaultExpandAll:i,defaultExpandParent:n,defaultExpandedKeys:l}=e,r=co(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const u=C.useRef(),c=C.useRef(),o=()=>{const{keyEntities:E}=ji(uo(r));let x;return i?x=Object.keys(E):n?x=ki(r.expandedKeys||l||[],E):x=r.expandedKeys||l||[],x},[f,d]=C.useState(r.selectedKeys||r.defaultSelectedKeys||[]),[g,y]=C.useState(()=>o());C.useEffect(()=>{"selectedKeys"in r&&d(r.selectedKeys)},[r.selectedKeys]),C.useEffect(()=>{"expandedKeys"in r&&y(r.expandedKeys)},[r.expandedKeys]);const _=(E,x)=>{var k;return"expandedKeys"in r||y(E),(k=r.onExpand)===null||k===void 0?void 0:k.call(r,E,x)},S=(E,x)=>{var k;const{multiple:B,fieldNames:N}=r,{node:L,nativeEvent:I}=x,{key:O=""}=L,P=uo(r),M=Object.assign(Object.assign({},x),{selected:!0}),R=(I==null?void 0:I.ctrlKey)||(I==null?void 0:I.metaKey),$=I==null?void 0:I.shiftKey;let A;B&&R?(A=E,u.current=O,c.current=A,M.selectedNodes=ui(P,A,N)):B&&$?(A=Array.from(new Set([].concat(Te(c.current||[]),Te(Af({treeData:P,expandedKeys:g,startKey:O,endKey:u.current,fieldNames:N}))))),M.selectedNodes=ui(P,A,N)):(A=[O],u.current=O,c.current=A,M.selectedNodes=ui(P,A,N)),(k=r.onSelect)===null||k===void 0||k.call(r,A,M),"selectedKeys"in r||d(A)},{getPrefixCls:T,direction:s}=C.useContext(yt),{prefixCls:a,className:h,showIcon:p=!0,expandAction:m="click"}=r,v=co(r,["prefixCls","className","showIcon","expandAction"]),b=T("tree",a),w=re(`${b}-directory`,{[`${b}-directory-rtl`]:s==="rtl"},h);return C.createElement(ks,Object.assign({icon:zf,ref:t,blockNode:!0},v,{showIcon:p,expandAction:m,prefixCls:b,className:w,expandedKeys:g,selectedKeys:f,onSelect:S,onExpand:_}))},Pf=C.forwardRef($f),Hf=Pf,il=ks;il.DirectoryTree=Hf;il.TreeNode=Yt;const Ff=il;function fo(e){let{value:t,onChange:i,filterSearch:n,tablePrefixCls:l,locale:r}=e;return n?C.createElement("div",{className:`${l}-filter-dropdown-search`},C.createElement(Bn,{prefix:C.createElement(pa,null),placeholder:r.filterSearchPlaceholder,onChange:i,value:t,htmlSize:1,className:`${l}-filter-dropdown-search-input`})):null}const Vf=e=>{const{keyCode:t}=e;t===nt.ENTER&&e.stopPropagation()},Kf=C.forwardRef((e,t)=>C.createElement("div",{className:e.className,onClick:i=>i.stopPropagation(),onKeyDown:Vf,ref:t},e.children)),Uf=Kf;function qt(e){let t=[];return(e||[]).forEach(i=>{let{value:n,children:l}=i;t.push(n),l&&(t=[].concat(Te(t),Te(qt(l))))}),t}function jf(e){return e.some(t=>{let{children:i}=t;return i})}function Ts(e,t){return typeof t=="string"||typeof t=="number"?t==null?void 0:t.toString().toLowerCase().includes(e.trim().toLowerCase()):!1}function Ns(e){let{filters:t,prefixCls:i,filteredKeys:n,filterMultiple:l,searchValue:r,filterSearch:u}=e;return t.map((c,o)=>{const f=String(c.value);if(c.children)return{key:f||o,label:c.text,popupClassName:`${i}-dropdown-submenu`,children:Ns({filters:c.children,prefixCls:i,filteredKeys:n,filterMultiple:l,searchValue:r,filterSearch:u})};const d=l?On:$o,g={key:c.value!==void 0?f:o,label:C.createElement(C.Fragment,null,C.createElement(d,{checked:n.includes(f)}),C.createElement("span",null,c.text))};return r.trim()?typeof u=="function"?u(r,c)?g:null:Ts(r,c.text)?g:null:g})}function fi(e){return e||[]}function Wf(e){var t,i;const{tablePrefixCls:n,prefixCls:l,column:r,dropdownPrefixCls:u,columnKey:c,filterOnClose:o,filterMultiple:f,filterMode:d="menu",filterSearch:g=!1,filterState:y,triggerFilter:_,locale:S,children:T,getPopupContainer:s,rootClassName:a}=e,{filterDropdownOpen:h,onFilterDropdownOpenChange:p,filterResetToDefaultFilteredValue:m,defaultFilteredValue:v,filterDropdownVisible:b,onFilterDropdownVisibleChange:w}=r,[E,x]=C.useState(!1),k=!!(y&&(!((t=y.filteredKeys)===null||t===void 0)&&t.length||y.forceFiltered)),B=Q=>{x(Q),p==null||p(Q),w==null||w(Q)},N=(i=h??b)!==null&&i!==void 0?i:E,L=y==null?void 0:y.filteredKeys,[I,O]=Bu(fi(L)),P=Q=>{let{selectedKeys:oe}=Q;O(oe)},M=(Q,oe)=>{let{node:me,checked:se}=oe;P(f?{selectedKeys:Q}:{selectedKeys:se&&me.key?[me.key]:[]})};C.useEffect(()=>{E&&P({selectedKeys:fi(L)})},[L]);const[R,$]=C.useState([]),A=Q=>{$(Q)},[F,z]=C.useState(""),H=Q=>{const{value:oe}=Q.target;z(oe)};C.useEffect(()=>{E||z("")},[E]);const D=Q=>{const oe=Q&&Q.length?Q:null;if(oe===null&&(!y||!y.filteredKeys)||hn(oe,y==null?void 0:y.filteredKeys,!0))return null;_({column:r,key:c,filteredKeys:oe})},V=()=>{B(!1),D(I())},q=function(){let{confirm:Q,closeDropdown:oe}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{confirm:!1,closeDropdown:!1};Q&&D([]),oe&&B(!1),z(""),O(m?(v||[]).map(me=>String(me)):[])},K=function(){let{closeDropdown:Q}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0};Q&&B(!1),D(I())},Z=(Q,oe)=>{oe.source==="trigger"&&(Q&&L!==void 0&&O(fi(L)),B(Q),!Q&&!r.filterDropdown&&o&&V())},G=re({[`${u}-menu-without-submenu`]:!jf(r.filters||[])}),U=Q=>{if(Q.target.checked){const oe=qt(r==null?void 0:r.filters).map(me=>String(me));O(oe)}else O([])},Y=Q=>{let{filters:oe}=Q;return(oe||[]).map((me,se)=>{const Ee=String(me.value),de={title:me.text,key:me.value!==void 0?Ee:String(se)};return me.children&&(de.children=Y({filters:me.children})),de})},ee=Q=>{var oe;return Object.assign(Object.assign({},Q),{text:Q.title,value:Q.key,children:((oe=Q.children)===null||oe===void 0?void 0:oe.map(me=>ee(me)))||[]})};let J;if(typeof r.filterDropdown=="function")J=r.filterDropdown({prefixCls:`${u}-custom`,setSelectedKeys:Q=>P({selectedKeys:Q}),selectedKeys:I(),confirm:K,clearFilters:q,filters:r.filters,visible:N,close:()=>{B(!1)}});else if(r.filterDropdown)J=r.filterDropdown;else{const Q=I()||[],oe=()=>{const se=C.createElement(Al,{image:Al.PRESENTED_IMAGE_SIMPLE,description:S.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}});if((r.filters||[]).length===0)return se;if(d==="tree")return C.createElement(C.Fragment,null,C.createElement(fo,{filterSearch:g,value:F,onChange:H,tablePrefixCls:n,locale:S}),C.createElement("div",{className:`${n}-filter-dropdown-tree`},f?C.createElement(On,{checked:Q.length===qt(r.filters).length,indeterminate:Q.length>0&&Q.length<qt(r.filters).length,className:`${n}-filter-dropdown-checkall`,onChange:U},S.filterCheckall):null,C.createElement(Ff,{checkable:!0,selectable:!1,blockNode:!0,multiple:f,checkStrictly:!f,className:`${u}-menu`,onCheck:M,checkedKeys:Q,selectedKeys:Q,showIcon:!1,treeData:Y({filters:r.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:F.trim()?be=>typeof g=="function"?g(F,ee(be)):Ts(F,be.title):void 0})));const Ee=Ns({filters:r.filters||[],filterSearch:g,prefixCls:l,filteredKeys:I(),filterMultiple:f,searchValue:F}),de=Ee.every(be=>be===null);return C.createElement(C.Fragment,null,C.createElement(fo,{filterSearch:g,value:F,onChange:H,tablePrefixCls:n,locale:S}),de?se:C.createElement(Tr,{selectable:!0,multiple:f,prefixCls:`${u}-menu`,className:G,onSelect:P,onDeselect:P,selectedKeys:Q,getPopupContainer:s,openKeys:R,onOpenChange:A,items:Ee}))},me=()=>m?hn((v||[]).map(se=>String(se)),Q,!0):Q.length===0;J=C.createElement(C.Fragment,null,oe(),C.createElement("div",{className:`${l}-dropdown-btns`},C.createElement(Je,{type:"link",size:"small",disabled:me(),onClick:()=>q()},S.filterReset),C.createElement(Je,{type:"primary",size:"small",onClick:V},S.filterConfirm)))}r.filterDropdown&&(J=C.createElement(Nr,{selectable:void 0},J));const X=()=>C.createElement(Uf,{className:`${l}-dropdown`},J);let te;typeof r.filterIcon=="function"?te=r.filterIcon(k):r.filterIcon?te=r.filterIcon:te=C.createElement(Ru,null);const{direction:ue}=C.useContext(yt);return C.createElement("div",{className:`${l}-column`},C.createElement("span",{className:`${n}-column-title`},T),C.createElement(zo,{dropdownRender:X,trigger:["click"],open:N,onOpenChange:Z,getPopupContainer:s,placement:ue==="rtl"?"bottomLeft":"bottomRight",rootClassName:a},C.createElement("span",{role:"button",tabIndex:-1,className:re(`${l}-trigger`,{active:k}),onClick:Q=>{Q.stopPropagation()}},te)))}function Ri(e,t,i){let n=[];return(e||[]).forEach((l,r)=>{var u;const c=bn(r,i);if(l.filters||"filterDropdown"in l||"onFilter"in l)if("filteredValue"in l){let o=l.filteredValue;"filterDropdown"in l||(o=(u=o==null?void 0:o.map(String))!==null&&u!==void 0?u:o),n.push({column:l,key:Pt(l,c),filteredKeys:o,forceFiltered:l.filtered})}else n.push({column:l,key:Pt(l,c),filteredKeys:t&&l.defaultFilteredValue?l.defaultFilteredValue:void 0,forceFiltered:l.filtered});"children"in l&&(n=[].concat(Te(n),Te(Ri(l.children,t,c))))}),n}function Ls(e,t,i,n,l,r,u,c,o){return i.map((f,d)=>{const g=bn(d,c),{filterOnClose:y=!0,filterMultiple:_=!0,filterMode:S,filterSearch:T}=f;let s=f;if(s.filters||s.filterDropdown){const a=Pt(s,g),h=n.find(p=>{let{key:m}=p;return a===m});s=Object.assign(Object.assign({},s),{title:p=>C.createElement(Wf,{tablePrefixCls:e,prefixCls:`${e}-filter`,dropdownPrefixCls:t,column:s,columnKey:a,filterState:h,filterOnClose:y,filterMultiple:_,filterMode:S,filterSearch:T,triggerFilter:r,locale:l,getPopupContainer:u,rootClassName:o},Jn(f.title,p))})}return"children"in s&&(s=Object.assign(Object.assign({},s),{children:Ls(e,t,s.children,n,l,r,u,g,o)})),s})}function ho(e){const t={};return e.forEach(i=>{let{key:n,filteredKeys:l,column:r}=i;const u=n,{filters:c,filterDropdown:o}=r;if(o)t[u]=l||null;else if(Array.isArray(l)){const f=qt(c);t[u]=f.filter(d=>l.includes(String(d)))}else t[u]=null}),t}function Bi(e,t,i){return t.reduce((n,l)=>{const{column:{onFilter:r,filters:u},filteredKeys:c}=l;return r&&c&&c.length?n.map(o=>Object.assign({},o)).filter(o=>c.some(f=>{const d=qt(u),g=d.findIndex(_=>String(_)===String(f)),y=g!==-1?d[g]:f;return o[i]&&(o[i]=Bi(o[i],t,i)),r(y,o)})):n},e)}const Is=e=>e.flatMap(t=>"children"in t?[t].concat(Te(Is(t.children||[]))):[t]);function qf(e){let{prefixCls:t,dropdownPrefixCls:i,mergedColumns:n,onFilterChange:l,getPopupContainer:r,locale:u,rootClassName:c}=e;Vi();const o=C.useMemo(()=>Is(n||[]),[n]),[f,d]=C.useState(()=>Ri(o,!0)),g=C.useMemo(()=>{const T=Ri(o,!1);if(T.length===0)return T;let s=!0;if(T.forEach(a=>{let{filteredKeys:h}=a;h!==void 0&&(s=!1)}),s){const a=(o||[]).map((h,p)=>Pt(h,bn(p)));return f.filter(h=>{let{key:p}=h;return a.includes(p)}).map(h=>{const p=o[a.findIndex(m=>m===h.key)];return Object.assign(Object.assign({},h),{column:Object.assign(Object.assign({},h.column),p),forceFiltered:p.filtered})})}return T},[o,f]),y=C.useMemo(()=>ho(g),[g]),_=T=>{const s=g.filter(a=>{let{key:h}=a;return h!==T.key});s.push(T),d(s),l(ho(s),s)};return[T=>Ls(t,i,T,g,u,_,r,void 0,c),g,y]}function Zf(e,t,i){const n=C.useRef({});function l(r){if(!n.current||n.current.data!==e||n.current.childrenColumnName!==t||n.current.getRowKey!==i){let c=function(o){o.forEach((f,d)=>{const g=i(f,d);u.set(g,f),f&&typeof f=="object"&&t in f&&c(f[t]||[])})};const u=new Map;c(e),n.current={data:e,childrenColumnName:t,kvMap:u,getRowKey:i}}return n.current.kvMap.get(r)}return[l]}var Xf=globalThis&&globalThis.__rest||function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(i[n[l]]=e[n[l]]);return i};const Rs=10;function Gf(e,t){const i={current:e.current,pageSize:e.pageSize};return Object.keys(t&&typeof t=="object"?t:{}).forEach(l=>{const r=e[l];typeof r!="function"&&(i[l]=r)}),i}function Yf(e,t,i){const n=i&&typeof i=="object"?i:{},{total:l=0}=n,r=Xf(n,["total"]),[u,c]=C.useState(()=>({current:"defaultCurrent"in r?r.defaultCurrent:1,pageSize:"defaultPageSize"in r?r.defaultPageSize:Rs})),o=lc(u,r,{total:l>0?l:e}),f=Math.ceil((l||e)/o.pageSize);o.current>f&&(o.current=f||1);const d=(y,_)=>{c({current:y??1,pageSize:_||o.pageSize})},g=(y,_)=>{var S;i&&((S=i.onChange)===null||S===void 0||S.call(i,y,_)),d(y,_),t(y,_||(o==null?void 0:o.pageSize))};return i===!1?[{},()=>{}]:[Object.assign(Object.assign({},o),{onChange:g}),d]}var Jf={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"};const Qf=Jf;var e0=function(t,i){return C.createElement(ft,Se({},t,{ref:i,icon:Qf}))},t0=C.forwardRef(e0);const n0=t0;var i0={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"};const l0=i0;var o0=function(t,i){return C.createElement(ft,Se({},t,{ref:i,icon:l0}))},s0=C.forwardRef(o0);const r0=s0,Tn="ascend",hi="descend";function zn(e){return typeof e.sorter=="object"&&typeof e.sorter.multiple=="number"?e.sorter.multiple:!1}function go(e){return typeof e=="function"?e:e&&typeof e=="object"&&e.compare?e.compare:!1}function a0(e,t){return t?e[e.indexOf(t)+1]:e[0]}function Oi(e,t,i){let n=[];function l(r,u){n.push({column:r,key:Pt(r,u),multiplePriority:zn(r),sortOrder:r.sortOrder})}return(e||[]).forEach((r,u)=>{const c=bn(u,i);r.children?("sortOrder"in r&&l(r,c),n=[].concat(Te(n),Te(Oi(r.children,t,c)))):r.sorter&&("sortOrder"in r?l(r,c):t&&r.defaultSortOrder&&n.push({column:r,key:Pt(r,c),multiplePriority:zn(r),sortOrder:r.defaultSortOrder}))}),n}function Bs(e,t,i,n,l,r,u,c){return(t||[]).map((o,f)=>{const d=bn(f,c);let g=o;if(g.sorter){const y=g.sortDirections||l,_=g.showSorterTooltip===void 0?u:g.showSorterTooltip,S=Pt(g,d),T=i.find(E=>{let{key:x}=E;return x===S}),s=T?T.sortOrder:null,a=a0(y,s);let h;if(o.sortIcon)h=o.sortIcon({sortOrder:s});else{const E=y.includes(Tn)&&C.createElement(r0,{className:re(`${e}-column-sorter-up`,{active:s===Tn})}),x=y.includes(hi)&&C.createElement(n0,{className:re(`${e}-column-sorter-down`,{active:s===hi})});h=C.createElement("span",{className:re(`${e}-column-sorter`,{[`${e}-column-sorter-full`]:!!(E&&x)})},C.createElement("span",{className:`${e}-column-sorter-inner`,"aria-hidden":"true"},E,x))}const{cancelSort:p,triggerAsc:m,triggerDesc:v}=r||{};let b=p;a===hi?b=v:a===Tn&&(b=m);const w=typeof _=="object"?Object.assign({title:b},_):{title:b};g=Object.assign(Object.assign({},g),{className:re(g.className,{[`${e}-column-sort`]:s}),title:E=>{const x=`${e}-column-sorters`,k=C.createElement("span",{className:`${e}-column-title`},Jn(o.title,E)),B=C.createElement("div",{className:x},k,h);return _?typeof _!="boolean"&&(_==null?void 0:_.target)==="sorter-icon"?C.createElement("div",{className:`${x} ${e}-column-sorters-tooltip-target-sorter`},k,C.createElement(Ln,Object.assign({},w),h)):C.createElement(Ln,Object.assign({},w),B):B},onHeaderCell:E=>{const x=o.onHeaderCell&&o.onHeaderCell(E)||{},k=x.onClick,B=x.onKeyDown;x.onClick=I=>{n({column:o,key:S,sortOrder:a,multiplePriority:zn(o)}),k==null||k(I)},x.onKeyDown=I=>{I.keyCode===nt.ENTER&&(n({column:o,key:S,sortOrder:a,multiplePriority:zn(o)}),B==null||B(I))};const N=ku(o.title,{}),L=N==null?void 0:N.toString();return s?x["aria-sort"]=s==="ascend"?"ascending":"descending":x["aria-label"]=L||"",x.className=re(x.className,`${e}-column-has-sorters`),x.tabIndex=0,o.ellipsis&&(x.title=(N??"").toString()),x}})}return"children"in g&&(g=Object.assign(Object.assign({},g),{children:Bs(e,g.children,i,n,l,r,u,d)})),g})}const po=e=>{const{column:t,sortOrder:i}=e;return{column:t,order:i,field:t.dataIndex,columnKey:t.key}},mo=e=>{const t=e.filter(i=>{let{sortOrder:n}=i;return n}).map(po);if(t.length===0&&e.length){const i=e.length-1;return Object.assign(Object.assign({},po(e[i])),{column:void 0})}return t.length<=1?t[0]||{}:t};function Mi(e,t,i){const n=t.slice().sort((u,c)=>c.multiplePriority-u.multiplePriority),l=e.slice(),r=n.filter(u=>{let{column:{sorter:c},sortOrder:o}=u;return go(c)&&o});return r.length?l.sort((u,c)=>{for(let o=0;o<r.length;o+=1){const f=r[o],{column:{sorter:d},sortOrder:g}=f,y=go(d);if(y&&g){const _=y(u,c,g);if(_!==0)return g===Tn?_:-_}}return 0}).map(u=>{const c=u[i];return c?Object.assign(Object.assign({},u),{[i]:Mi(c,t,i)}):u}):l}function c0(e){let{prefixCls:t,mergedColumns:i,onSorterChange:n,sortDirections:l,tableLocale:r,showSorterTooltip:u}=e;const[c,o]=C.useState(Oi(i,!0)),f=C.useMemo(()=>{let S=!0;const T=Oi(i,!1);if(!T.length)return c;const s=[];function a(p){S?s.push(p):s.push(Object.assign(Object.assign({},p),{sortOrder:null}))}let h=null;return T.forEach(p=>{h===null?(a(p),p.sortOrder&&(p.multiplePriority===!1?S=!1:h=!0)):(h&&p.multiplePriority!==!1||(S=!1),a(p))}),s},[i,c]),d=C.useMemo(()=>{const S=f.map(T=>{let{column:s,sortOrder:a}=T;return{column:s,order:a}});return{sortColumns:S,sortColumn:S[0]&&S[0].column,sortOrder:S[0]&&S[0].order}},[f]),g=S=>{let T;S.multiplePriority===!1||!f.length||f[0].multiplePriority===!1?T=[S]:T=[].concat(Te(f.filter(s=>{let{key:a}=s;return a!==S.key})),[S]),o(T),n(mo(T),T)};return[S=>Bs(t,S,f,g,l,r,u),f,d,()=>mo(f)]}function Os(e,t){return e.map(i=>{const n=Object.assign({},i);return n.title=Jn(i.title,t),"children"in n&&(n.children=Os(n.children,t)),n})}function d0(e){return[C.useCallback(i=>Os(i,e),[e])]}const u0=vs((e,t)=>{const{_renderTimes:i}=e,{_renderTimes:n}=t;return i!==n}),f0=ys((e,t)=>{const{_renderTimes:i}=e,{_renderTimes:n}=t;return i!==n}),h0=e=>{const{componentCls:t,lineWidth:i,lineType:n,tableBorderColor:l,tableHeaderBg:r,tablePaddingVertical:u,tablePaddingHorizontal:c,calc:o}=e,f=`${ie(i)} ${n} ${l}`,d=(g,y,_)=>({[`&${t}-${g}`]:{[`> ${t}-container`]:{[`> ${t}-content, > ${t}-body`]:{"\n            > table > tbody > tr > th,\n            > table > tbody > tr > td\n          ":{[`> ${t}-expanded-row-fixed`]:{margin:`${ie(o(y).mul(-1).equal())}
              ${ie(o(o(_).add(i)).mul(-1).equal())}`}}}}}});return{[`${t}-wrapper`]:{[`${t}${t}-bordered`]:Object.assign(Object.assign(Object.assign({[`> ${t}-title`]:{border:f,borderBottom:0},[`> ${t}-container`]:{borderInlineStart:f,borderTop:f,[`
            > ${t}-content,
            > ${t}-header,
            > ${t}-body,
            > ${t}-summary
          `]:{"> table":{"\n                > thead > tr > th,\n                > thead > tr > td,\n                > tbody > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:f},"> thead":{"> tr:not(:last-child) > th":{borderBottom:f},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{[`> ${t}-cell-fix-right-first::after`]:{borderInlineEnd:f}},"\n                > tbody > tr > th,\n                > tbody > tr > td\n              ":{[`> ${t}-expanded-row-fixed`]:{margin:`${ie(o(u).mul(-1).equal())} ${ie(o(o(c).add(i)).mul(-1).equal())}`,"&::after":{position:"absolute",top:0,insetInlineEnd:i,bottom:0,borderInlineEnd:f,content:'""'}}}}}},[`&${t}-scroll-horizontal`]:{[`> ${t}-container > ${t}-body`]:{"> table > tbody":{[`
                > tr${t}-expanded-row,
                > tr${t}-placeholder
              `]:{"> th, > td":{borderInlineEnd:0}}}}}},d("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle)),d("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall)),{[`> ${t}-footer`]:{border:f,borderTop:0}}),[`${t}-cell`]:{[`${t}-container:first-child`]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:`0 ${ie(i)} 0 ${ie(i)} ${r}`}},[`${t}-bordered ${t}-cell-scrollbar`]:{borderInlineEnd:f}}}},g0=h0,p0=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-cell-ellipsis`]:Object.assign(Object.assign({},Vn),{wordBreak:"keep-all",[`
          &${t}-cell-fix-left-last,
          &${t}-cell-fix-right-first
        `]:{overflow:"visible",[`${t}-cell-content`]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},[`${t}-column-title`]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},m0=p0,v0=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-tbody > tr${t}-placeholder`]:{textAlign:"center",color:e.colorTextDisabled,"\n          &:hover > th,\n          &:hover > td,\n        ":{background:e.colorBgContainer}}}}},b0=v0,y0=e=>{const{componentCls:t,antCls:i,motionDurationSlow:n,lineWidth:l,paddingXS:r,lineType:u,tableBorderColor:c,tableExpandIconBg:o,tableExpandColumnWidth:f,borderRadius:d,tablePaddingVertical:g,tablePaddingHorizontal:y,tableExpandedRowBg:_,paddingXXS:S,expandIconMarginTop:T,expandIconSize:s,expandIconHalfInner:a,expandIconScale:h,calc:p}=e,m=`${ie(l)} ${u} ${c}`,v=p(S).sub(l).equal();return{[`${t}-wrapper`]:{[`${t}-expand-icon-col`]:{width:f},[`${t}-row-expand-icon-cell`]:{textAlign:"center",[`${t}-row-expand-icon`]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},[`${t}-row-indent`]:{height:1,float:"left"},[`${t}-row-expand-icon`]:Object.assign(Object.assign({},za(e)),{position:"relative",float:"left",boxSizing:"border-box",width:s,height:s,padding:0,color:"inherit",lineHeight:ie(s),background:o,border:m,borderRadius:d,transform:`scale(${h})`,transition:`all ${n}`,userSelect:"none","&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:`transform ${n} ease-out`,content:'""'},"&::before":{top:a,insetInlineEnd:v,insetInlineStart:v,height:l},"&::after":{top:v,bottom:v,insetInlineStart:a,width:l,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),[`${t}-row-indent + ${t}-row-expand-icon`]:{marginTop:T,marginInlineEnd:r},[`tr${t}-expanded-row`]:{"&, &:hover":{"> th, > td":{background:_}},[`${i}-descriptions-view`]:{display:"flex",table:{flex:"auto",width:"auto"}}},[`${t}-expanded-row-fixed`]:{position:"relative",margin:`${ie(p(g).mul(-1).equal())} ${ie(p(y).mul(-1).equal())}`,padding:`${ie(g)} ${ie(y)}`}}}},C0=y0,_0=e=>{const{componentCls:t,antCls:i,iconCls:n,tableFilterDropdownWidth:l,tableFilterDropdownSearchWidth:r,paddingXXS:u,paddingXS:c,colorText:o,lineWidth:f,lineType:d,tableBorderColor:g,headerIconColor:y,fontSizeSM:_,tablePaddingHorizontal:S,borderRadius:T,motionDurationSlow:s,colorTextDescription:a,colorPrimary:h,tableHeaderFilterActiveBg:p,colorTextDisabled:m,tableFilterDropdownBg:v,tableFilterDropdownHeight:b,controlItemBgHover:w,controlItemBgActive:E,boxShadowSecondary:x,filterDropdownMenuBg:k,calc:B}=e,N=`${i}-dropdown`,L=`${t}-filter-dropdown`,I=`${i}-tree`,O=`${ie(f)} ${d} ${g}`;return[{[`${t}-wrapper`]:{[`${t}-filter-column`]:{display:"flex",justifyContent:"space-between"},[`${t}-filter-trigger`]:{position:"relative",display:"flex",alignItems:"center",marginBlock:B(u).mul(-1).equal(),marginInline:`${ie(u)} ${ie(B(S).div(2).mul(-1).equal())}`,padding:`0 ${ie(u)}`,color:y,fontSize:_,borderRadius:T,cursor:"pointer",transition:`all ${s}`,"&:hover":{color:a,background:p},"&.active":{color:h}}}},{[`${i}-dropdown`]:{[L]:Object.assign(Object.assign({},St(e)),{minWidth:l,backgroundColor:v,borderRadius:T,boxShadow:x,overflow:"hidden",[`${N}-menu`]:{maxHeight:b,overflowX:"hidden",border:0,boxShadow:"none",borderRadius:"unset",backgroundColor:k,"&:empty::after":{display:"block",padding:`${ie(c)} 0`,color:m,fontSize:_,textAlign:"center",content:'"Not Found"'}},[`${L}-tree`]:{paddingBlock:`${ie(c)} 0`,paddingInline:c,[I]:{padding:0},[`${I}-treenode ${I}-node-content-wrapper:hover`]:{backgroundColor:w},[`${I}-treenode-checkbox-checked ${I}-node-content-wrapper`]:{"&, &:hover":{backgroundColor:E}}},[`${L}-search`]:{padding:c,borderBottom:O,"&-input":{input:{minWidth:r},[n]:{color:m}}},[`${L}-checkall`]:{width:"100%",marginBottom:u,marginInlineStart:u},[`${L}-btns`]:{display:"flex",justifyContent:"space-between",padding:`${ie(B(c).sub(f).equal())} ${ie(c)}`,overflow:"hidden",borderTop:O}})}},{[`${i}-dropdown ${L}, ${L}-submenu`]:{[`${i}-checkbox-wrapper + span`]:{paddingInlineStart:c,color:o},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},x0=_0,w0=e=>{const{componentCls:t,lineWidth:i,colorSplit:n,motionDurationSlow:l,zIndexTableFixed:r,tableBg:u,zIndexTableSticky:c,calc:o}=e,f=n;return{[`${t}-wrapper`]:{[`
        ${t}-cell-fix-left,
        ${t}-cell-fix-right
      `]:{position:"sticky !important",zIndex:r,background:u},[`
        ${t}-cell-fix-left-first::after,
        ${t}-cell-fix-left-last::after
      `]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:o(i).mul(-1).equal(),width:30,transform:"translateX(100%)",transition:`box-shadow ${l}`,content:'""',pointerEvents:"none"},[`${t}-cell-fix-left-all::after`]:{display:"none"},[`
        ${t}-cell-fix-right-first::after,
        ${t}-cell-fix-right-last::after
      `]:{position:"absolute",top:0,bottom:o(i).mul(-1).equal(),left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:`box-shadow ${l}`,content:'""',pointerEvents:"none"},[`${t}-container`]:{position:"relative","&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:o(c).add(1).equal({unit:!1}),width:30,transition:`box-shadow ${l}`,content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},[`${t}-ping-left`]:{[`&:not(${t}-has-fix-left) ${t}-container::before`]:{boxShadow:`inset 10px 0 8px -8px ${f}`},[`
          ${t}-cell-fix-left-first::after,
          ${t}-cell-fix-left-last::after
        `]:{boxShadow:`inset 10px 0 8px -8px ${f}`},[`${t}-cell-fix-left-last::before`]:{backgroundColor:"transparent !important"}},[`${t}-ping-right`]:{[`&:not(${t}-has-fix-right) ${t}-container::after`]:{boxShadow:`inset -10px 0 8px -8px ${f}`},[`
          ${t}-cell-fix-right-first::after,
          ${t}-cell-fix-right-last::after
        `]:{boxShadow:`inset -10px 0 8px -8px ${f}`}},[`${t}-fixed-column-gapped`]:{[`
        ${t}-cell-fix-left-first::after,
        ${t}-cell-fix-left-last::after,
        ${t}-cell-fix-right-first::after,
        ${t}-cell-fix-right-last::after
      `]:{boxShadow:"none"}}}}},S0=w0,E0=e=>{const{componentCls:t,antCls:i,margin:n}=e;return{[`${t}-wrapper`]:{[`${t}-pagination${i}-pagination`]:{margin:`${ie(n)} 0`},[`${t}-pagination`]:{display:"flex",flexWrap:"wrap",rowGap:e.paddingXS,"> *":{flex:"none"},"&-left":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-right":{justifyContent:"flex-end"}}}}},k0=E0,T0=e=>{const{componentCls:t,tableRadius:i}=e;return{[`${t}-wrapper`]:{[t]:{[`${t}-title, ${t}-header`]:{borderRadius:`${ie(i)} ${ie(i)} 0 0`},[`${t}-title + ${t}-container`]:{borderStartStartRadius:0,borderStartEndRadius:0,[`${t}-header, table`]:{borderRadius:0},"table > thead > tr:first-child":{"th:first-child, th:last-child, td:first-child, td:last-child":{borderRadius:0}}},"&-container":{borderStartStartRadius:i,borderStartEndRadius:i,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:i},"> *:last-child":{borderStartEndRadius:i}}},"&-footer":{borderRadius:`0 0 ${ie(i)} ${ie(i)}`}}}}},N0=T0,L0=e=>{const{componentCls:t}=e;return{[`${t}-wrapper-rtl`]:{direction:"rtl",table:{direction:"rtl"},[`${t}-pagination-left`]:{justifyContent:"flex-end"},[`${t}-pagination-right`]:{justifyContent:"flex-start"},[`${t}-row-expand-icon`]:{float:"right","&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}},[`${t}-container`]:{"&::before":{insetInlineStart:"unset",insetInlineEnd:0},"&::after":{insetInlineStart:0,insetInlineEnd:"unset"},[`${t}-row-indent`]:{float:"right"}}}}},I0=L0,R0=e=>{const{componentCls:t,antCls:i,iconCls:n,fontSizeIcon:l,padding:r,paddingXS:u,headerIconColor:c,headerIconHoverColor:o,tableSelectionColumnWidth:f,tableSelectedRowBg:d,tableSelectedRowHoverBg:g,tableRowHoverBg:y,tablePaddingHorizontal:_,calc:S}=e;return{[`${t}-wrapper`]:{[`${t}-selection-col`]:{width:f,[`&${t}-selection-col-with-dropdown`]:{width:S(f).add(l).add(S(r).div(4)).equal()}},[`${t}-bordered ${t}-selection-col`]:{width:S(f).add(S(u).mul(2)).equal(),[`&${t}-selection-col-with-dropdown`]:{width:S(f).add(l).add(S(r).div(4)).add(S(u).mul(2)).equal()}},[`
        table tr th${t}-selection-column,
        table tr td${t}-selection-column,
        ${t}-selection-column
      `]:{paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS,textAlign:"center",[`${i}-radio-wrapper`]:{marginInlineEnd:0}},[`table tr th${t}-selection-column${t}-cell-fix-left`]:{zIndex:e.zIndexTableFixed+1},[`table tr th${t}-selection-column::after`]:{backgroundColor:"transparent !important"},[`${t}-selection`]:{position:"relative",display:"inline-flex",flexDirection:"column"},[`${t}-selection-extra`]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,marginInlineStart:"100%",paddingInlineStart:ie(S(_).div(4).equal()),[n]:{color:c,fontSize:l,verticalAlign:"baseline","&:hover":{color:o}}},[`${t}-tbody`]:{[`${t}-row`]:{[`&${t}-row-selected`]:{[`> ${t}-cell`]:{background:d,"&-row-hover":{background:g}}},[`> ${t}-cell-row-hover`]:{background:y}}}}}},B0=R0,O0=e=>{const{componentCls:t,tableExpandColumnWidth:i,calc:n}=e,l=(r,u,c,o)=>({[`${t}${t}-${r}`]:{fontSize:o,[`
        ${t}-title,
        ${t}-footer,
        ${t}-cell,
        ${t}-thead > tr > th,
        ${t}-tbody > tr > th,
        ${t}-tbody > tr > td,
        tfoot > tr > th,
        tfoot > tr > td
      `]:{padding:`${ie(u)} ${ie(c)}`},[`${t}-filter-trigger`]:{marginInlineEnd:ie(n(c).div(2).mul(-1).equal())},[`${t}-expanded-row-fixed`]:{margin:`${ie(n(u).mul(-1).equal())} ${ie(n(c).mul(-1).equal())}`},[`${t}-tbody`]:{[`${t}-wrapper:only-child ${t}`]:{marginBlock:ie(n(u).mul(-1).equal()),marginInline:`${ie(n(i).sub(c).equal())} ${ie(n(c).mul(-1).equal())}`}},[`${t}-selection-extra`]:{paddingInlineStart:ie(n(c).div(4).equal())}}});return{[`${t}-wrapper`]:Object.assign(Object.assign({},l("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle,e.tableFontSizeMiddle)),l("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall,e.tableFontSizeSmall))}},M0=O0,D0=e=>{const{componentCls:t,marginXXS:i,fontSizeIcon:n,headerIconColor:l,headerIconHoverColor:r}=e;return{[`${t}-wrapper`]:{[`${t}-thead th${t}-column-has-sorters`]:{outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"&:hover":{background:e.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:e.colorPrimary},[`
          &${t}-cell-fix-left:hover,
          &${t}-cell-fix-right:hover
        `]:{background:e.tableFixedHeaderSortActiveBg}},[`${t}-thead th${t}-column-sort`]:{background:e.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},[`td${t}-column-sort`]:{background:e.tableBodySortBg},[`${t}-column-title`]:{position:"relative",zIndex:1,flex:1},[`${t}-column-sorters`]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},[`${t}-column-sorters-tooltip-target-sorter`]:{"&::after":{content:"none"}},[`${t}-column-sorter`]:{marginInlineStart:i,color:l,fontSize:0,transition:`color ${e.motionDurationSlow}`,"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:n,"&.active":{color:e.colorPrimary}},[`${t}-column-sorter-up + ${t}-column-sorter-down`]:{marginTop:"-0.3em"}},[`${t}-column-sorters:hover ${t}-column-sorter`]:{color:r}}}},A0=D0,z0=e=>{const{componentCls:t,opacityLoading:i,tableScrollThumbBg:n,tableScrollThumbBgHover:l,tableScrollThumbSize:r,tableScrollBg:u,zIndexTableSticky:c,stickyScrollBarBorderRadius:o,lineWidth:f,lineType:d,tableBorderColor:g}=e,y=`${ie(f)} ${d} ${g}`;return{[`${t}-wrapper`]:{[`${t}-sticky`]:{"&-holder":{position:"sticky",zIndex:c,background:e.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:`${ie(r)} !important`,zIndex:c,display:"flex",alignItems:"center",background:u,borderTop:y,opacity:i,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:r,backgroundColor:n,borderRadius:o,transition:`all ${e.motionDurationSlow}, transform none`,position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:l}}}}}}},$0=z0,P0=e=>{const{componentCls:t,lineWidth:i,tableBorderColor:n,calc:l}=e,r=`${ie(i)} ${e.lineType} ${n}`;return{[`${t}-wrapper`]:{[`${t}-summary`]:{position:"relative",zIndex:e.zIndexTableFixed,background:e.tableBg,"> tr":{"> th, > td":{borderBottom:r}}},[`div${t}-summary`]:{boxShadow:`0 ${ie(l(i).mul(-1).equal())} 0 ${n}`}}}},vo=P0,H0=e=>{const{componentCls:t,motionDurationMid:i,lineWidth:n,lineType:l,tableBorderColor:r,calc:u}=e,c=`${ie(n)} ${l} ${r}`,o=`${t}-expanded-row-cell`;return{[`${t}-wrapper`]:{[`${t}-tbody-virtual`]:{[`${t}-row:not(tr)`]:{display:"flex",boxSizing:"border-box",width:"100%"},[`${t}-cell`]:{borderBottom:c,transition:`background ${i}`},[`${t}-expanded-row`]:{[`${o}${o}-fixed`]:{position:"sticky",insetInlineStart:0,overflow:"hidden",width:`calc(var(--virtual-width) - ${ie(n)})`,borderInlineEnd:"none"}}},[`${t}-bordered`]:{[`${t}-tbody-virtual`]:{"&:after":{content:'""',insetInline:0,bottom:0,borderBottom:c,position:"absolute"},[`${t}-cell`]:{borderInlineEnd:c,[`&${t}-cell-fix-right-first:before`]:{content:'""',position:"absolute",insetBlock:0,insetInlineStart:u(n).mul(-1).equal(),borderInlineStart:c}}},[`&${t}-virtual`]:{[`${t}-placeholder ${t}-cell`]:{borderInlineEnd:c,borderBottom:c}}}}}},F0=H0,V0=e=>{const{componentCls:t,fontWeightStrong:i,tablePaddingVertical:n,tablePaddingHorizontal:l,tableExpandColumnWidth:r,lineWidth:u,lineType:c,tableBorderColor:o,tableFontSize:f,tableBg:d,tableRadius:g,tableHeaderTextColor:y,motionDurationMid:_,tableHeaderBg:S,tableHeaderCellSplitColor:T,tableFooterTextColor:s,tableFooterBg:a,calc:h}=e,p=`${ie(u)} ${c} ${o}`;return{[`${t}-wrapper`]:Object.assign(Object.assign({clear:"both",maxWidth:"100%"},Ui()),{[t]:Object.assign(Object.assign({},St(e)),{fontSize:f,background:d,borderRadius:`${ie(g)} ${ie(g)} 0 0`,scrollbarColor:`${e.tableScrollThumbBg} ${e.tableScrollBg}`}),table:{width:"100%",textAlign:"start",borderRadius:`${ie(g)} ${ie(g)} 0 0`,borderCollapse:"separate",borderSpacing:0},[`
          ${t}-cell,
          ${t}-thead > tr > th,
          ${t}-tbody > tr > th,
          ${t}-tbody > tr > td,
          tfoot > tr > th,
          tfoot > tr > td
        `]:{position:"relative",padding:`${ie(n)} ${ie(l)}`,overflowWrap:"break-word"},[`${t}-title`]:{padding:`${ie(n)} ${ie(l)}`},[`${t}-thead`]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:y,fontWeight:i,textAlign:"start",background:S,borderBottom:p,transition:`background ${_} ease`,"&[colspan]:not([colspan='1'])":{textAlign:"center"},[`&:not(:last-child):not(${t}-selection-column):not(${t}-row-expand-icon-cell):not([colspan])::before`]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:T,transform:"translateY(-50%)",transition:`background-color ${_}`,content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},[`${t}-tbody`]:{"> tr":{"> th, > td":{transition:`background ${_}, border-color ${_}`,borderBottom:p,[`
              > ${t}-wrapper:only-child,
              > ${t}-expanded-row-fixed > ${t}-wrapper:only-child
            `]:{[t]:{marginBlock:ie(h(n).mul(-1).equal()),marginInline:`${ie(h(r).sub(l).equal())}
                ${ie(h(l).mul(-1).equal())}`,[`${t}-tbody > tr:last-child > td`]:{borderBottom:0,"&:first-child, &:last-child":{borderRadius:0}}}}},"> th":{position:"relative",color:y,fontWeight:i,textAlign:"start",background:S,borderBottom:p,transition:`background ${_} ease`}}},[`${t}-footer`]:{padding:`${ie(n)} ${ie(l)}`,color:s,background:a}})}},K0=e=>{const{colorFillAlter:t,colorBgContainer:i,colorTextHeading:n,colorFillSecondary:l,colorFillContent:r,controlItemBgActive:u,controlItemBgActiveHover:c,padding:o,paddingSM:f,paddingXS:d,colorBorderSecondary:g,borderRadiusLG:y,controlHeight:_,colorTextPlaceholder:S,fontSize:T,fontSizeSM:s,lineHeight:a,lineWidth:h,colorIcon:p,colorIconHover:m,opacityLoading:v,controlInteractiveSize:b}=e,w=new rn(l).onBackground(i).toHexShortString(),E=new rn(r).onBackground(i).toHexShortString(),x=new rn(t).onBackground(i).toHexShortString(),k=new rn(p),B=new rn(m),N=b/2-h,L=N*2+h*3;return{headerBg:x,headerColor:n,headerSortActiveBg:w,headerSortHoverBg:E,bodySortBg:x,rowHoverBg:x,rowSelectedBg:u,rowSelectedHoverBg:c,rowExpandedBg:t,cellPaddingBlock:o,cellPaddingInline:o,cellPaddingBlockMD:f,cellPaddingInlineMD:d,cellPaddingBlockSM:d,cellPaddingInlineSM:d,borderColor:g,headerBorderRadius:y,footerBg:x,footerColor:n,cellFontSize:T,cellFontSizeMD:T,cellFontSizeSM:T,headerSplitColor:g,fixedHeaderSortActiveBg:w,headerFilterHoverBg:r,filterDropdownMenuBg:i,filterDropdownBg:i,expandIconBg:i,selectionColumnWidth:_,stickyScrollBarBg:S,stickyScrollBarBorderRadius:100,expandIconMarginTop:(T*a-h*3)/2-Math.ceil((s*1.4-h*3)/2),headerIconColor:k.clone().setAlpha(k.getAlpha()*v).toRgbString(),headerIconHoverColor:B.clone().setAlpha(B.getAlpha()*v).toRgbString(),expandIconHalfInner:N,expandIconSize:L,expandIconScale:b/L}},U0=en("Table",e=>{const{colorTextHeading:t,colorSplit:i,colorBgContainer:n,controlInteractiveSize:l,headerBg:r,headerColor:u,headerSortActiveBg:c,headerSortHoverBg:o,bodySortBg:f,rowHoverBg:d,rowSelectedBg:g,rowSelectedHoverBg:y,rowExpandedBg:_,cellPaddingBlock:S,cellPaddingInline:T,cellPaddingBlockMD:s,cellPaddingInlineMD:a,cellPaddingBlockSM:h,cellPaddingInlineSM:p,borderColor:m,footerBg:v,footerColor:b,headerBorderRadius:w,cellFontSize:E,cellFontSizeMD:x,cellFontSizeSM:k,headerSplitColor:B,fixedHeaderSortActiveBg:N,headerFilterHoverBg:L,filterDropdownBg:I,expandIconBg:O,selectionColumnWidth:P,stickyScrollBarBg:M,calc:R}=e,$=2,A=tn(e,{tableFontSize:E,tableBg:n,tableRadius:w,tablePaddingVertical:S,tablePaddingHorizontal:T,tablePaddingVerticalMiddle:s,tablePaddingHorizontalMiddle:a,tablePaddingVerticalSmall:h,tablePaddingHorizontalSmall:p,tableBorderColor:m,tableHeaderTextColor:u,tableHeaderBg:r,tableFooterTextColor:b,tableFooterBg:v,tableHeaderCellSplitColor:B,tableHeaderSortBg:c,tableHeaderSortHoverBg:o,tableBodySortBg:f,tableFixedHeaderSortActiveBg:N,tableHeaderFilterActiveBg:L,tableFilterDropdownBg:I,tableRowHoverBg:d,tableSelectedRowBg:g,tableSelectedRowHoverBg:y,zIndexTableFixed:$,zIndexTableSticky:$+1,tableFontSizeMiddle:x,tableFontSizeSmall:k,tableSelectionColumnWidth:P,tableExpandIconBg:O,tableExpandColumnWidth:R(l).add(R(e.padding).mul(2)).equal(),tableExpandedRowBg:_,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:M,tableScrollThumbBgHover:t,tableScrollBg:i});return[V0(A),k0(A),vo(A),A0(A),x0(A),g0(A),N0(A),C0(A),vo(A),b0(A),B0(A),S0(A),$0(A),m0(A),M0(A),I0(A),F0(A)]},K0,{unitless:{expandIconScale:!0}}),j0=[],W0=(e,t)=>{var i,n;const{prefixCls:l,className:r,rootClassName:u,style:c,size:o,bordered:f,dropdownPrefixCls:d,dataSource:g,pagination:y,rowSelection:_,rowKey:S="key",rowClassName:T,columns:s,children:a,childrenColumnName:h,onChange:p,getPopupContainer:m,loading:v,expandIcon:b,expandable:w,expandedRowRender:E,expandIconColumnIndex:x,indentSize:k,scroll:B,sortDirections:N,locale:L,showSorterTooltip:I={target:"full-header"},virtual:O}=e;Vi();const P=C.useMemo(()=>s||Yi(a),[s,a]),M=C.useMemo(()=>P.some(xe=>xe.responsive),[P]),R=ea(M),$=C.useMemo(()=>{const xe=new Set(Object.keys(R).filter(we=>R[we]));return P.filter(we=>!we.responsive||we.responsive.some(He=>xe.has(He)))},[P,R]),A=Pn(e,["className","style","columns"]),{locale:F=Bo,direction:z,table:H,renderEmpty:D,getPrefixCls:V,getPopupContainer:q}=C.useContext(yt),K=Lr(o),Z=Object.assign(Object.assign({},F.Table),L),G=g||j0,U=V("table",l),Y=V("dropdown",d),[,ee]=Ro(),J=Hn(U),[X,te,ue]=U0(U,J),Q=Object.assign(Object.assign({childrenColumnName:h,expandIconColumnIndex:x},w),{expandIcon:(i=w==null?void 0:w.expandIcon)!==null&&i!==void 0?i:(n=H==null?void 0:H.expandable)===null||n===void 0?void 0:n.expandIcon}),{childrenColumnName:oe="children"}=Q,me=C.useMemo(()=>G.some(xe=>xe==null?void 0:xe[oe])?"nest":E||w&&w.expandedRowRender?"row":null,[G]),se={body:C.useRef()},Ee=Eu(U),de=C.useRef(null),be=C.useRef(null);wu(t,()=>Object.assign(Object.assign({},be.current),{nativeElement:de.current}));const ke=C.useMemo(()=>typeof S=="function"?S:xe=>xe==null?void 0:xe[S],[S]),[fe]=Zf(G,oe,ke),De={},Ae=function(xe,we){let He=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var Ve,qe,Ze;const ot=Object.assign(Object.assign({},De),xe);He&&((Ve=De.resetPagination)===null||Ve===void 0||Ve.call(De),!((qe=ot.pagination)===null||qe===void 0)&&qe.current&&(ot.pagination.current=1),y&&y.onChange&&y.onChange(1,(Ze=ot.pagination)===null||Ze===void 0?void 0:Ze.pageSize)),B&&B.scrollToFirstRowOnChange!==!1&&se.body.current&&Ha(0,{getContainer:()=>se.body.current}),p==null||p(ot.pagination,ot.filters,ot.sorter,{currentDataSource:Bi(Mi(G,ot.sorterStates,oe),ot.filterStates,oe),action:we})},ze=(xe,we)=>{Ae({sorter:xe,sorterStates:we},"sort",!1)},[ve,ge,ye,Oe]=c0({prefixCls:U,mergedColumns:$,onSorterChange:ze,sortDirections:N||["ascend","descend"],tableLocale:Z,showSorterTooltip:I}),ae=C.useMemo(()=>Mi(G,ge,oe),[G,ge]);De.sorter=Oe(),De.sorterStates=ge;const ce=(xe,we)=>{Ae({filters:xe,filterStates:we},"filter",!0)},[he,pe,Ce]=qf({prefixCls:U,locale:Z,dropdownPrefixCls:Y,mergedColumns:$,onFilterChange:ce,getPopupContainer:m||q,rootClassName:re(u,J)}),Re=Bi(ae,pe,oe);De.filters=Ce,De.filterStates=pe;const Fe=C.useMemo(()=>{const xe={};return Object.keys(Ce).forEach(we=>{Ce[we]!==null&&(xe[we]=Ce[we])}),Object.assign(Object.assign({},ye),{filters:xe})},[ye,Ce]),[Xe]=d0(Fe),it=(xe,we)=>{Ae({pagination:Object.assign(Object.assign({},De.pagination),{current:xe,pageSize:we})},"paginate")},[$e,It]=Yf(Re.length,it,y);De.pagination=y===!1?{}:Gf($e,y),De.resetPagination=It;const lt=C.useMemo(()=>{if(y===!1||!$e.pageSize)return Re;const{current:xe=1,total:we,pageSize:He=Rs}=$e;return Re.length<we?Re.length>He?Re.slice((xe-1)*He,xe*He):Re:Re.slice((xe-1)*He,xe*He)},[!!y,Re,$e&&$e.current,$e&&$e.pageSize,$e&&$e.total]),[at,gt]=_u({prefixCls:U,data:Re,pageData:lt,getRowKey:ke,getRecordByKey:fe,expandType:me,childrenColumnName:oe,locale:Z,getPopupContainer:m||q},_),Ct=(xe,we,He)=>{let Ve;return typeof T=="function"?Ve=re(T(xe,we,He)):Ve=re(T),re({[`${U}-row-selected`]:gt.has(ke(xe,we))},Ve)};Q.__PARENT_RENDER_ICON__=Q.expandIcon,Q.expandIcon=Q.expandIcon||b||Su(Z),me==="nest"&&Q.expandIconColumnIndex===void 0?Q.expandIconColumnIndex=_?1:0:Q.expandIconColumnIndex>0&&_&&(Q.expandIconColumnIndex-=1),typeof Q.indentSize!="number"&&(Q.indentSize=typeof k=="number"?k:15);const Qe=C.useCallback(xe=>Xe(at(he(ve(xe)))),[ve,he,at]);let Ye,dt;if(y!==!1&&($e!=null&&$e.total)){let xe;$e.size?xe=$e.size:xe=K==="small"||K==="middle"?"small":void 0;const we=qe=>C.createElement(Ko,Object.assign({},$e,{className:re(`${U}-pagination ${U}-pagination-${qe}`,$e.className),size:xe})),He=z==="rtl"?"left":"right",{position:Ve}=$e;if(Ve!==null&&Array.isArray(Ve)){const qe=Ve.find(Et=>Et.includes("top")),Ze=Ve.find(Et=>Et.includes("bottom")),ot=Ve.every(Et=>`${Et}`=="none");!qe&&!Ze&&!ot&&(dt=we(He)),qe&&(Ye=we(qe.toLowerCase().replace("top",""))),Ze&&(dt=we(Ze.toLowerCase().replace("bottom","")))}else dt=we(He)}let _t;typeof v=="boolean"?_t={spinning:v}:typeof v=="object"&&(_t=Object.assign({spinning:!0},v));const xt=re(ue,J,`${U}-wrapper`,H==null?void 0:H.className,{[`${U}-wrapper-rtl`]:z==="rtl"},r,u,te),mt=Object.assign(Object.assign({},H==null?void 0:H.style),c),Pe=L&&L.emptyText||(D==null?void 0:D("Table"))||C.createElement(Ho,{componentName:"Table"}),_e=O?f0:u0,Ne={},We=C.useMemo(()=>{const{fontSize:xe,lineHeight:we,padding:He,paddingXS:Ve,paddingSM:qe}=ee,Ze=Math.floor(xe*we);switch(K){case"large":return He*2+Ze;case"small":return Ve*2+Ze;default:return qe*2+Ze}},[ee,K]);return O&&(Ne.listItemHeight=We),X(C.createElement("div",{ref:de,className:xt,style:mt},C.createElement(bi,Object.assign({spinning:!1},_t),Ye,C.createElement(_e,Object.assign({},Ne,A,{ref:be,columns:$,direction:z,expandable:Q,prefixCls:U,className:re({[`${U}-middle`]:K==="middle",[`${U}-small`]:K==="small",[`${U}-bordered`]:f,[`${U}-empty`]:G.length===0},ue,J,te),data:lt,rowKey:ke,rowClassName:Ct,emptyText:Pe,internalHooks:vn,internalRefs:se,transformColumns:Qe,getContainerWidth:Ee})),dt)))},q0=C.forwardRef(W0),Z0=(e,t)=>{const i=C.useRef(0);return i.current+=1,C.createElement(q0,Object.assign({},e,{ref:t,_renderTimes:i.current}))},Lt=C.forwardRef(Z0);Lt.SELECTION_COLUMN=Bt;Lt.EXPAND_COLUMN=Ot;Lt.SELECTION_ALL=Ti;Lt.SELECTION_INVERT=Ni;Lt.SELECTION_NONE=Li;Lt.Column=du;Lt.ColumnGroup=uu;Lt.Summary=rs;const X0=Lt,gi=function(e,t){if(e&&t){var i=Array.isArray(t)?t:t.split(","),n=e.name||"",l=e.type||"",r=l.replace(/\/.*$/,"");return i.some(function(u){var c=u.trim();if(/^\*(\/\*)?$/.test(u))return!0;if(c.charAt(0)==="."){var o=n.toLowerCase(),f=c.toLowerCase(),d=[f];return(f===".jpg"||f===".jpeg")&&(d=[".jpg",".jpeg"]),d.some(function(g){return o.endsWith(g)})}return/\/\*$/.test(c)?r===c.replace(/\/.*$/,""):l===c?!0:/^\w+$/.test(c)?(Tt(!1,"Upload takes an invalidate 'accept' type '".concat(c,"'.Skip for check.")),!0):!1})}return!0};function G0(e,t){var i="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),n=new Error(i);return n.status=t.status,n.method=e.method,n.url=e.action,n}function bo(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}function Y0(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(r){r.total>0&&(r.percent=r.loaded/r.total*100),e.onProgress(r)});var i=new FormData;e.data&&Object.keys(e.data).forEach(function(l){var r=e.data[l];if(Array.isArray(r)){r.forEach(function(u){i.append("".concat(l,"[]"),u)});return}i.append(l,r)}),e.file instanceof Blob?i.append(e.filename,e.file,e.file.name):i.append(e.filename,e.file),t.onerror=function(r){e.onError(r)},t.onload=function(){return t.status<200||t.status>=300?e.onError(G0(e,t),bo(t)):e.onSuccess(bo(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var n=e.headers||{};return n["X-Requested-With"]!==null&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(n).forEach(function(l){n[l]!==null&&t.setRequestHeader(l,n[l])}),t.send(i),{abort:function(){t.abort()}}}function J0(e,t){var i=e.createReader(),n=[];function l(){i.readEntries(function(r){var u=Array.prototype.slice.apply(r);n=n.concat(u);var c=!u.length;c?t(n):l()})}l()}var Q0=function(t,i,n){var l=function r(u,c){u&&(u.path=c||"",u.isFile?u.file(function(o){n(o)&&(u.fullPath&&!o.webkitRelativePath&&(Object.defineProperties(o,{webkitRelativePath:{writable:!0}}),o.webkitRelativePath=u.fullPath.replace(/^\//,""),Object.defineProperties(o,{webkitRelativePath:{writable:!1}})),i([o]))}):u.isDirectory&&J0(u,function(o){o.forEach(function(f){r(f,"".concat(c).concat(u.name,"/"))})}))};t.forEach(function(r){l(r.webkitGetAsEntry())})},eh=+new Date,th=0;function pi(){return"rc-upload-".concat(eh,"-").concat(++th)}var nh=["component","prefixCls","className","classNames","disabled","id","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],ih=function(e){Kn(i,e);var t=Un(i);function i(){var n;jn(this,i);for(var l=arguments.length,r=new Array(l),u=0;u<l;u++)r[u]=arguments[u];return n=t.call.apply(t,[this].concat(r)),W(ne(n),"state",{uid:pi()}),W(ne(n),"reqs",{}),W(ne(n),"fileInput",void 0),W(ne(n),"_isMounted",void 0),W(ne(n),"onChange",function(c){var o=n.props,f=o.accept,d=o.directory,g=c.target.files,y=Te(g).filter(function(_){return!d||gi(_,f)});n.uploadFiles(y),n.reset()}),W(ne(n),"onClick",function(c){var o=n.fileInput;if(o){var f=c.target,d=n.props.onClick;if(f&&f.tagName==="BUTTON"){var g=o.parentNode;g.focus(),f.blur()}o.click(),d&&d(c)}}),W(ne(n),"onKeyDown",function(c){c.key==="Enter"&&n.onClick(c)}),W(ne(n),"onFileDrop",function(c){var o=n.props.multiple;if(c.preventDefault(),c.type!=="dragover")if(n.props.directory)Q0(Array.prototype.slice.call(c.dataTransfer.items),n.uploadFiles,function(d){return gi(d,n.props.accept)});else{var f=Te(c.dataTransfer.files).filter(function(d){return gi(d,n.props.accept)});o===!1&&(f=f.slice(0,1)),n.uploadFiles(f)}}),W(ne(n),"uploadFiles",function(c){var o=Te(c),f=o.map(function(d){return d.uid=pi(),n.processFile(d,o)});Promise.all(f).then(function(d){var g=n.props.onBatchStart;g==null||g(d.map(function(y){var _=y.origin,S=y.parsedFile;return{file:_,parsedFile:S}})),d.filter(function(y){return y.parsedFile!==null}).forEach(function(y){n.post(y)})})}),W(ne(n),"processFile",function(){var c=ma(zl().mark(function o(f,d){var g,y,_,S,T,s,a,h,p;return zl().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(g=n.props.beforeUpload,y=f,!g){v.next=14;break}return v.prev=3,v.next=6,g(f,d);case 6:y=v.sent,v.next=12;break;case 9:v.prev=9,v.t0=v.catch(3),y=!1;case 12:if(y!==!1){v.next=14;break}return v.abrupt("return",{origin:f,parsedFile:null,action:null,data:null});case 14:if(_=n.props.action,typeof _!="function"){v.next=21;break}return v.next=18,_(f);case 18:S=v.sent,v.next=22;break;case 21:S=_;case 22:if(T=n.props.data,typeof T!="function"){v.next=29;break}return v.next=26,T(f);case 26:s=v.sent,v.next=30;break;case 29:s=T;case 30:return a=(st(y)==="object"||typeof y=="string")&&y?y:f,a instanceof File?h=a:h=new File([a],f.name,{type:f.type}),p=h,p.uid=f.uid,v.abrupt("return",{origin:f,data:s,parsedFile:p,action:S});case 35:case"end":return v.stop()}},o,null,[[3,9]])}));return function(o,f){return c.apply(this,arguments)}}()),W(ne(n),"saveFileInput",function(c){n.fileInput=c}),n}return Wn(i,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(l){var r=this,u=l.data,c=l.origin,o=l.action,f=l.parsedFile;if(this._isMounted){var d=this.props,g=d.onStart,y=d.customRequest,_=d.name,S=d.headers,T=d.withCredentials,s=d.method,a=c.uid,h=y||Y0,p={action:o,filename:_,data:u,file:f,headers:S,withCredentials:T,method:s||"post",onProgress:function(v){var b=r.props.onProgress;b==null||b(v,f)},onSuccess:function(v,b){var w=r.props.onSuccess;w==null||w(v,f,b),delete r.reqs[a]},onError:function(v,b){var w=r.props.onError;w==null||w(v,b,f),delete r.reqs[a]}};g(c),this.reqs[a]=h(p)}}},{key:"reset",value:function(){this.setState({uid:pi()})}},{key:"abort",value:function(l){var r=this.reqs;if(l){var u=l.uid?l.uid:l;r[u]&&r[u].abort&&r[u].abort(),delete r[u]}else Object.keys(r).forEach(function(c){r[c]&&r[c].abort&&r[c].abort(),delete r[c]})}},{key:"render",value:function(){var l,r=this.props,u=r.component,c=r.prefixCls,o=r.className,f=r.classNames,d=f===void 0?{}:f,g=r.disabled,y=r.id,_=r.style,S=r.styles,T=S===void 0?{}:S,s=r.multiple,a=r.accept,h=r.capture,p=r.children,m=r.directory,v=r.openFileDialogOnClick,b=r.onMouseEnter,w=r.onMouseLeave,E=r.hasControlInside,x=ct(r,nh),k=re((l={},W(l,c,!0),W(l,"".concat(c,"-disabled"),g),W(l,o,o),l)),B=m?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},N=g?{}:{onClick:v?this.onClick:function(){},onKeyDown:v?this.onKeyDown:function(){},onMouseEnter:b,onMouseLeave:w,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:E?void 0:"0"};return Ke.createElement(u,Se({},N,{className:k,role:E?void 0:"button",style:_}),Ke.createElement("input",Se({},gn(x,{aria:!0,data:!0}),{id:y,disabled:g,type:"file",ref:this.saveFileInput,onClick:function(I){return I.stopPropagation()},key:this.state.uid,style:le({display:"none"},T.input),className:d.input,accept:a},B,{multiple:s,onChange:this.onChange},h!=null?{capture:h}:{})),p)}}]),i}(C.Component);function mi(){}var Di=function(e){Kn(i,e);var t=Un(i);function i(){var n;jn(this,i);for(var l=arguments.length,r=new Array(l),u=0;u<l;u++)r[u]=arguments[u];return n=t.call.apply(t,[this].concat(r)),W(ne(n),"uploader",void 0),W(ne(n),"saveUploader",function(c){n.uploader=c}),n}return Wn(i,[{key:"abort",value:function(l){this.uploader.abort(l)}},{key:"render",value:function(){return Ke.createElement(ih,Se({},this.props,{ref:this.saveUploader}))}}]),i}(C.Component);W(Di,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:mi,onError:mi,onSuccess:mi,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const lh=e=>{const{componentCls:t,iconCls:i}=e;return{[`${t}-wrapper`]:{[`${t}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${ie(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[t]:{padding:e.padding},[`${t}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${ie(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${t}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${t}-disabled):hover,
          &-hover:not(${t}-disabled)
        `]:{borderColor:e.colorPrimaryHover},[`p${t}-drag-icon`]:{marginBottom:e.margin,[i]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${t}-text`]:{margin:`0 0 ${ie(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${t}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${t}-disabled`]:{[`p${t}-drag-icon ${i},
            p${t}-text,
            p${t}-hint
          `]:{color:e.colorTextDisabled}}}}}},oh=lh,sh=e=>{const{componentCls:t,antCls:i,iconCls:n,fontSize:l,lineHeight:r,calc:u}=e,c=`${t}-list-item`,o=`${c}-actions`,f=`${c}-action`,d=e.fontHeightSM;return{[`${t}-wrapper`]:{[`${t}-list`]:Object.assign(Object.assign({},Ui()),{lineHeight:e.lineHeight,[c]:{position:"relative",height:u(e.lineHeight).mul(l).equal(),marginTop:e.marginXS,fontSize:l,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,"&:hover":{backgroundColor:e.controlItemBgHover},[`${c}-name`]:Object.assign(Object.assign({},Vn),{padding:`0 ${ie(e.paddingXS)}`,lineHeight:r,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[o]:{whiteSpace:"nowrap",[f]:{opacity:0},[n]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`
              ${f}:focus-visible,
              &.picture ${f}
            `]:{opacity:1},[`${f}${i}-btn`]:{height:d,border:0,lineHeight:1}},[`${t}-icon ${n}`]:{color:e.colorTextDescription,fontSize:l},[`${c}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:u(l).add(e.paddingXS).equal(),fontSize:l,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${c}:hover ${f}`]:{opacity:1},[`${c}-error`]:{color:e.colorError,[`${c}-name, ${t}-icon ${n}`]:{color:e.colorError},[o]:{[`${n}, ${n}:hover`]:{color:e.colorError},[f]:{opacity:1}}},[`${t}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},rh=sh,ah=e=>{const{componentCls:t}=e,i=new In("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),n=new In("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),l=`${t}-animate-inline`;return[{[`${t}-wrapper`]:{[`${l}-appear, ${l}-enter, ${l}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${l}-appear, ${l}-enter`]:{animationName:i},[`${l}-leave`]:{animationName:n}}},{[`${t}-wrapper`]:wa(e)},i,n]},ch=ah,dh=e=>{const{componentCls:t,iconCls:i,uploadThumbnailSize:n,uploadProgressOffset:l,calc:r}=e,u=`${t}-list`,c=`${u}-item`;return{[`${t}-wrapper`]:{[`
        ${u}${u}-picture,
        ${u}${u}-picture-card,
        ${u}${u}-picture-circle
      `]:{[c]:{position:"relative",height:r(n).add(r(e.lineWidth).mul(2)).add(r(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${ie(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${c}-thumbnail`]:Object.assign(Object.assign({},Vn),{width:n,height:n,lineHeight:ie(r(n).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[i]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${c}-progress`]:{bottom:l,width:`calc(100% - ${ie(r(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:r(n).add(e.paddingXS).equal()}},[`${c}-error`]:{borderColor:e.colorError,[`${c}-thumbnail ${i}`]:{[`svg path[fill='${Bl[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${Bl.primary}']`]:{fill:e.colorError}}},[`${c}-uploading`]:{borderStyle:"dashed",[`${c}-name`]:{marginBottom:l}}},[`${u}${u}-picture-circle ${c}`]:{[`&, &::before, ${c}-thumbnail`]:{borderRadius:"50%"}}}}},uh=e=>{const{componentCls:t,iconCls:i,fontSizeLG:n,colorTextLightSolid:l,calc:r}=e,u=`${t}-list`,c=`${u}-item`,o=e.uploadPicCardSize;return{[`
      ${t}-wrapper${t}-picture-card-wrapper,
      ${t}-wrapper${t}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},Ui()),{display:"block",[`${t}${t}-select`]:{width:o,height:o,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${ie(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${t}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${u}${u}-picture-card, ${u}${u}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},[`${u}-item-container`]:{display:"inline-block",width:o,height:o,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[c]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${ie(r(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${ie(r(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${c}:hover`]:{[`&::before, ${c}-actions`]:{opacity:1}},[`${c}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`
            ${i}-eye,
            ${i}-download,
            ${i}-delete
          `]:{zIndex:10,width:n,margin:`0 ${ie(e.marginXXS)}`,fontSize:n,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:l,"&:hover":{color:l},svg:{verticalAlign:"baseline"}}},[`${c}-thumbnail, ${c}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${c}-name`]:{display:"none",textAlign:"center"},[`${c}-file + ${c}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${ie(r(e.paddingXS).mul(2).equal())})`},[`${c}-uploading`]:{[`&${c}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${i}-eye, ${i}-download, ${i}-delete`]:{display:"none"}},[`${c}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${ie(r(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${t}-wrapper${t}-picture-circle-wrapper`]:{[`${t}${t}-select`]:{borderRadius:"50%"}}}},fh=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},hh=fh,gh=e=>{const{componentCls:t,colorTextDisabled:i}=e;return{[`${t}-wrapper`]:Object.assign(Object.assign({},St(e)),{[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${t}-select`]:{display:"inline-block"},[`${t}-disabled`]:{color:i,cursor:"not-allowed"}})}},ph=e=>({actionsColor:e.colorTextDescription}),mh=en("Upload",e=>{const{fontSizeHeading3:t,fontHeight:i,lineWidth:n,controlHeightLG:l,calc:r}=e,u=tn(e,{uploadThumbnailSize:r(t).mul(2).equal(),uploadProgressOffset:r(r(i).div(2)).add(n).equal(),uploadPicCardSize:r(l).mul(2.55).equal()});return[gh(u),oh(u),dh(u),uh(u),rh(u),ch(u),hh(u),Lo(u)]},ph);var vh={icon:function(t,i){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:i}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:t}}]}},name:"file",theme:"twotone"};const bh=vh;var yh=function(t,i){return C.createElement(ft,Se({},t,{ref:i,icon:bh}))},Ch=C.forwardRef(yh);const _h=Ch;var xh={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"};const wh=xh;var Sh=function(t,i){return C.createElement(ft,Se({},t,{ref:i,icon:wh}))},Eh=C.forwardRef(Sh);const kh=Eh;var Th={icon:function(t,i){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:t}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:i}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:i}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:i}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:t}}]}},name:"picture",theme:"twotone"};const Nh=Th;var Lh=function(t,i){return C.createElement(ft,Se({},t,{ref:i,icon:Nh}))},Ih=C.forwardRef(Lh);const Rh=Ih;function En(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function kn(e,t){const i=Te(t),n=i.findIndex(l=>{let{uid:r}=l;return r===e.uid});return n===-1?i.push(e):i[n]=e,i}function vi(e,t){const i=e.uid!==void 0?"uid":"name";return t.filter(n=>n[i]===e[i])[0]}function Bh(e,t){const i=e.uid!==void 0?"uid":"name",n=t.filter(l=>l[i]!==e[i]);return n.length===t.length?null:n}const Oh=function(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),n=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(n)||[""])[0]},Ms=e=>e.indexOf("image/")===0,Mh=e=>{if(e.type&&!e.thumbUrl)return Ms(e.type);const t=e.thumbUrl||e.url||"",i=Oh(t);return/^data:image\//.test(t)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(i)?!0:!(/^data:/.test(t)||i)},Rt=200;function Dh(e){return new Promise(t=>{if(!e.type||!Ms(e.type)){t("");return}const i=document.createElement("canvas");i.width=Rt,i.height=Rt,i.style.cssText=`position: fixed; left: 0; top: 0; width: ${Rt}px; height: ${Rt}px; z-index: 9999; display: none;`,document.body.appendChild(i);const n=i.getContext("2d"),l=new Image;if(l.onload=()=>{const{width:r,height:u}=l;let c=Rt,o=Rt,f=0,d=0;r>u?(o=u*(Rt/r),d=-(o-c)/2):(c=r*(Rt/u),f=-(c-o)/2),n.drawImage(l,f,d,c,o);const g=i.toDataURL();document.body.removeChild(i),window.URL.revokeObjectURL(l.src),t(g)},l.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const r=new FileReader;r.onload=()=>{r.result&&typeof r.result=="string"&&(l.src=r.result)},r.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const r=new FileReader;r.onload=()=>{r.result&&t(r.result)},r.readAsDataURL(e)}else l.src=window.URL.createObjectURL(e)})}var Ah={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};const zh=Ah;var $h=function(t,i){return C.createElement(ft,Se({},t,{ref:i,icon:zh}))},Ph=C.forwardRef($h);const Hh=Ph,Fh=C.forwardRef((e,t)=>{let{prefixCls:i,className:n,style:l,locale:r,listType:u,file:c,items:o,progress:f,iconRender:d,actionIconRender:g,itemRender:y,isImgUrl:_,showPreviewIcon:S,showRemoveIcon:T,showDownloadIcon:s,previewIcon:a,removeIcon:h,downloadIcon:p,onPreview:m,onDownload:v,onClose:b}=e;var w,E;const{status:x}=c,[k,B]=C.useState(x);C.useEffect(()=>{x!=="removed"&&B(x)},[x]);const[N,L]=C.useState(!1);C.useEffect(()=>{const U=setTimeout(()=>{L(!0)},300);return()=>{clearTimeout(U)}},[]);const I=d(c);let O=C.createElement("div",{className:`${i}-icon`},I);if(u==="picture"||u==="picture-card"||u==="picture-circle")if(k==="uploading"||!c.thumbUrl&&!c.url){const U=re(`${i}-list-item-thumbnail`,{[`${i}-list-item-file`]:k!=="uploading"});O=C.createElement("div",{className:U},I)}else{const U=_!=null&&_(c)?C.createElement("img",{src:c.thumbUrl||c.url,alt:c.name,className:`${i}-list-item-image`,crossOrigin:c.crossOrigin}):I,Y=re(`${i}-list-item-thumbnail`,{[`${i}-list-item-file`]:_&&!_(c)});O=C.createElement("a",{className:Y,onClick:ee=>m(c,ee),href:c.url||c.thumbUrl,target:"_blank",rel:"noopener noreferrer"},U)}const P=re(`${i}-list-item`,`${i}-list-item-${k}`),M=typeof c.linkProps=="string"?JSON.parse(c.linkProps):c.linkProps,R=T?g((typeof h=="function"?h(c):h)||C.createElement(ba,null),()=>b(c),i,r.removeFile,!0):null,$=s&&k==="done"?g((typeof p=="function"?p(c):p)||C.createElement(Hh,null),()=>v(c),i,r.downloadFile):null,A=u!=="picture-card"&&u!=="picture-circle"&&C.createElement("span",{key:"download-delete",className:re(`${i}-list-item-actions`,{picture:u==="picture"})},$,R),F=re(`${i}-list-item-name`),z=c.url?[C.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:F,title:c.name},M,{href:c.url,onClick:U=>m(c,U)}),c.name),A]:[C.createElement("span",{key:"view",className:F,onClick:U=>m(c,U),title:c.name},c.name),A],H=S&&(c.url||c.thumbUrl)?C.createElement("a",{href:c.url||c.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:U=>m(c,U),title:r.previewFile},typeof a=="function"?a(c):a||C.createElement(Sa,null)):null,D=(u==="picture-card"||u==="picture-circle")&&k!=="uploading"&&C.createElement("span",{className:`${i}-list-item-actions`},H,k==="done"&&$,R),{getPrefixCls:V}=C.useContext(yt),q=V(),K=C.createElement("div",{className:P},O,z,D,N&&C.createElement(Ki,{motionName:`${q}-fade`,visible:k==="uploading",motionDeadline:2e3},U=>{let{className:Y}=U;const ee="percent"in c?C.createElement(id,Object.assign({},f,{type:"line",percent:c.percent,"aria-label":c["aria-label"],"aria-labelledby":c["aria-labelledby"]})):null;return C.createElement("div",{className:re(`${i}-list-item-progress`,Y)},ee)})),Z=c.response&&typeof c.response=="string"?c.response:((w=c.error)===null||w===void 0?void 0:w.statusText)||((E=c.error)===null||E===void 0?void 0:E.message)||r.uploadError,G=k==="error"?C.createElement(Ln,{title:Z,getPopupContainer:U=>U.parentNode},K):K;return C.createElement("div",{className:re(`${i}-list-item-container`,n),style:l,ref:t},y?y(G,c,o,{download:v.bind(null,c),preview:m.bind(null,c),remove:b.bind(null,c)}):G)}),Vh=Fh,Kh=(e,t)=>{const{listType:i="text",previewFile:n=Dh,onPreview:l,onDownload:r,onRemove:u,locale:c,iconRender:o,isImageUrl:f=Mh,prefixCls:d,items:g=[],showPreviewIcon:y=!0,showRemoveIcon:_=!0,showDownloadIcon:S=!1,removeIcon:T,previewIcon:s,downloadIcon:a,progress:h={size:[-1,2],showInfo:!1},appendAction:p,appendActionVisible:m=!0,itemRender:v,disabled:b}=e,w=Vo(),[E,x]=C.useState(!1);C.useEffect(()=>{i!=="picture"&&i!=="picture-card"&&i!=="picture-circle"||(g||[]).forEach(H=>{typeof document>"u"||typeof window>"u"||!window.FileReader||!window.File||!(H.originFileObj instanceof File||H.originFileObj)||H.thumbUrl!==void 0||n&&n(H.originFileObj).then(D=>{H.thumbUrl=D||"",w()})})},[i,g,n]),C.useEffect(()=>{x(!0)},[]);const k=(H,D)=>{if(l)return D==null||D.preventDefault(),l(H)},B=H=>{typeof r=="function"?r(H):H.url&&window.open(H.url)},N=H=>{u==null||u(H)},L=H=>{if(o)return o(H,i);const D=H.status==="uploading",V=f&&f(H)?C.createElement(Rh,null):C.createElement(_h,null);let q=D?C.createElement(xi,null):C.createElement(kh,null);return i==="picture"?q=D?C.createElement(xi,null):V:(i==="picture-card"||i==="picture-circle")&&(q=D?c.uploading:V),q},I=(H,D,V,q,K)=>{const Z={type:"text",size:"small",title:q,onClick:G=>{var U,Y;D(),C.isValidElement(H)&&((Y=(U=H.props).onClick)===null||Y===void 0||Y.call(U,G))},className:`${V}-list-item-action`};if(K&&(Z.disabled=b),C.isValidElement(H)){const G=Rn(H,Object.assign(Object.assign({},H.props),{onClick:()=>{}}));return C.createElement(Je,Object.assign({},Z,{icon:G}))}return C.createElement(Je,Object.assign({},Z),C.createElement("span",null,H))};C.useImperativeHandle(t,()=>({handlePreview:k,handleDownload:B}));const{getPrefixCls:O}=C.useContext(yt),P=O("upload",d),M=O(),R=re(`${P}-list`,`${P}-list-${i}`),$=Te(g.map(H=>({key:H.uid,file:H})));let F={motionDeadline:2e3,motionName:`${P}-${i==="picture-card"||i==="picture-circle"?"animate-inline":"animate"}`,keys:$,motionAppear:E};const z=C.useMemo(()=>{const H=Object.assign({},Io(M));return delete H.onAppearEnd,delete H.onEnterEnd,delete H.onLeaveEnd,H},[M]);return i!=="picture-card"&&i!=="picture-circle"&&(F=Object.assign(Object.assign({},z),F)),C.createElement("div",{className:R},C.createElement(Ir,Object.assign({},F,{component:!1}),H=>{let{key:D,file:V,className:q,style:K}=H;return C.createElement(Vh,{key:D,locale:c,prefixCls:P,className:q,style:K,file:V,items:g,progress:h,listType:i,isImgUrl:f,showPreviewIcon:y,showRemoveIcon:_,showDownloadIcon:S,removeIcon:T,previewIcon:s,downloadIcon:a,iconRender:L,actionIconRender:I,itemRender:v,onPreview:k,onDownload:B,onClose:N})}),p&&C.createElement(Ki,Object.assign({},F,{visible:m,forceRender:!0}),H=>{let{className:D,style:V}=H;return Rn(p,q=>({className:re(q.className,D),style:Object.assign(Object.assign(Object.assign({},V),{pointerEvents:D?"none":void 0}),q.style)}))}))},Uh=C.forwardRef(Kh),jh=Uh;var Wh=globalThis&&globalThis.__awaiter||function(e,t,i,n){function l(r){return r instanceof i?r:new i(function(u){u(r)})}return new(i||(i=Promise))(function(r,u){function c(d){try{f(n.next(d))}catch(g){u(g)}}function o(d){try{f(n.throw(d))}catch(g){u(g)}}function f(d){d.done?r(d.value):l(d.value).then(c,o)}f((n=n.apply(e,t||[])).next())})};const cn=`__LIST_IGNORE_${Date.now()}__`,qh=(e,t)=>{const{fileList:i,defaultFileList:n,onRemove:l,showUploadList:r=!0,listType:u="text",onPreview:c,onDownload:o,onChange:f,onDrop:d,previewFile:g,disabled:y,locale:_,iconRender:S,isImageUrl:T,progress:s,prefixCls:a,className:h,type:p="select",children:m,style:v,itemRender:b,maxCount:w,data:E={},multiple:x=!1,hasControlInside:k=!0,action:B="",accept:N="",supportServerRender:L=!0,rootClassName:I}=e,O=C.useContext(To),P=y??O,[M,R]=Fn(n||[],{value:i,postState:ae=>ae??[]}),[$,A]=C.useState("drop"),F=C.useRef(null),z=C.useRef(null);C.useMemo(()=>{const ae=Date.now();(i||[]).forEach((ce,he)=>{!ce.uid&&!Object.isFrozen(ce)&&(ce.uid=`__AUTO__${ae}_${he}__`)})},[i]);const H=(ae,ce,he)=>{let pe=Te(ce),Ce=!1;w===1?pe=pe.slice(-1):w&&(Ce=pe.length>w,pe=pe.slice(0,w)),Ci.flushSync(()=>{R(pe)});const Re={file:ae,fileList:pe};he&&(Re.event=he),(!Ce||ae.status==="removed"||pe.some(Fe=>Fe.uid===ae.uid))&&Ci.flushSync(()=>{f==null||f(Re)})},D=(ae,ce)=>Wh(void 0,void 0,void 0,function*(){const{beforeUpload:he,transformFile:pe}=e;let Ce=ae;if(he){const Re=yield he(ae,ce);if(Re===!1)return!1;if(delete ae[cn],Re===cn)return Object.defineProperty(ae,cn,{value:!0,configurable:!0}),!1;typeof Re=="object"&&Re&&(Ce=Re)}return pe&&(Ce=yield pe(Ce)),Ce}),V=ae=>{const ce=ae.filter(Ce=>!Ce.file[cn]);if(!ce.length)return;const he=ce.map(Ce=>En(Ce.file));let pe=Te(M);he.forEach(Ce=>{pe=kn(Ce,pe)}),he.forEach((Ce,Re)=>{let Fe=Ce;if(ce[Re].parsedFile)Ce.status="uploading";else{const{originFileObj:Xe}=Ce;let it;try{it=new File([Xe],Xe.name,{type:Xe.type})}catch{it=new Blob([Xe],{type:Xe.type}),it.name=Xe.name,it.lastModifiedDate=new Date,it.lastModified=new Date().getTime()}it.uid=Ce.uid,Fe=it}H(Fe,pe)})},q=(ae,ce,he)=>{try{typeof ae=="string"&&(ae=JSON.parse(ae))}catch{}if(!vi(ce,M))return;const pe=En(ce);pe.status="done",pe.percent=100,pe.response=ae,pe.xhr=he;const Ce=kn(pe,M);H(pe,Ce)},K=(ae,ce)=>{if(!vi(ce,M))return;const he=En(ce);he.status="uploading",he.percent=ae.percent;const pe=kn(he,M);H(he,pe,ae)},Z=(ae,ce,he)=>{if(!vi(he,M))return;const pe=En(he);pe.error=ae,pe.response=ce,pe.status="error";const Ce=kn(pe,M);H(pe,Ce)},G=ae=>{let ce;Promise.resolve(typeof l=="function"?l(ae):l).then(he=>{var pe;if(he===!1)return;const Ce=Bh(ae,M);Ce&&(ce=Object.assign(Object.assign({},ae),{status:"removed"}),M==null||M.forEach(Re=>{const Fe=ce.uid!==void 0?"uid":"name";Re[Fe]===ce[Fe]&&!Object.isFrozen(Re)&&(Re.status="removed")}),(pe=F.current)===null||pe===void 0||pe.abort(ce),H(ce,Ce))})},U=ae=>{A(ae.type),ae.type==="drop"&&(d==null||d(ae))};C.useImperativeHandle(t,()=>({onBatchStart:V,onSuccess:q,onProgress:K,onError:Z,fileList:M,upload:F.current,nativeElement:z.current}));const{getPrefixCls:Y,direction:ee,upload:J}=C.useContext(yt),X=Y("upload",a),te=Object.assign(Object.assign({onBatchStart:V,onError:Z,onProgress:K,onSuccess:q},e),{data:E,multiple:x,action:B,accept:N,supportServerRender:L,prefixCls:X,disabled:P,beforeUpload:D,onChange:void 0,hasControlInside:k});delete te.className,delete te.style,(!m||P)&&delete te.id;const ue=`${X}-wrapper`,[Q,oe,me]=mh(X,ue),[se]=ka("Upload",Bo.Upload),{showRemoveIcon:Ee,showPreviewIcon:de,showDownloadIcon:be,removeIcon:ke,previewIcon:fe,downloadIcon:De}=typeof r=="boolean"?{}:r,Ae=typeof Ee>"u"?!P:!!Ee,ze=(ae,ce)=>r?C.createElement(jh,{prefixCls:X,listType:u,items:M,previewFile:g,onPreview:c,onDownload:o,onRemove:G,showRemoveIcon:Ae,showPreviewIcon:de,showDownloadIcon:be,removeIcon:ke,previewIcon:fe,downloadIcon:De,iconRender:S,locale:Object.assign(Object.assign({},se),_),isImageUrl:T,progress:s,appendAction:ae,appendActionVisible:ce,itemRender:b,disabled:P}):ae,ve=re(ue,h,I,oe,me,J==null?void 0:J.className,{[`${X}-rtl`]:ee==="rtl",[`${X}-picture-card-wrapper`]:u==="picture-card",[`${X}-picture-circle-wrapper`]:u==="picture-circle"}),ge=Object.assign(Object.assign({},J==null?void 0:J.style),v);if(p==="drag"){const ae=re(oe,X,`${X}-drag`,{[`${X}-drag-uploading`]:M.some(ce=>ce.status==="uploading"),[`${X}-drag-hover`]:$==="dragover",[`${X}-disabled`]:P,[`${X}-rtl`]:ee==="rtl"});return Q(C.createElement("span",{className:ve,ref:z},C.createElement("div",{className:ae,style:ge,onDrop:U,onDragOver:U,onDragLeave:U},C.createElement(Di,Object.assign({},te,{ref:F,className:`${X}-btn`}),C.createElement("div",{className:`${X}-drag-container`},m))),ze()))}const ye=re(X,`${X}-select`,{[`${X}-disabled`]:P}),Oe=C.createElement("div",{className:ye,style:m?void 0:{display:"none"}},C.createElement(Di,Object.assign({},te,{ref:F})));return Q(u==="picture-card"||u==="picture-circle"?C.createElement("span",{className:ve,ref:z},ze(Oe,!!m)):C.createElement("span",{className:ve,ref:z},Oe,ze()))},Zh=C.forwardRef(qh),Ds=Zh;var Xh=globalThis&&globalThis.__rest||function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(i[n[l]]=e[n[l]]);return i};const Gh=C.forwardRef((e,t)=>{var{style:i,height:n,hasControlInside:l=!1}=e,r=Xh(e,["style","height","hasControlInside"]);return C.createElement(Ds,Object.assign({ref:t,hasControlInside:l},r,{type:"drag",style:Object.assign(Object.assign({},i),{height:n})}))}),Yh=Gh,ll=Ds;ll.Dragger=Yh;ll.LIST_IGNORE=cn;const As=ll;function Jh(e){return Oo({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 2H8C4.691 2 2 4.691 2 8v13a1 1 0 0 0 1 1h13c3.309 0 6-2.691 6-6V8c0-3.309-2.691-6-6-6zm4 14c0 2.206-1.794 4-4 4H4V8c0-2.206 1.794-4 4-4h8c2.206 0 4 1.794 4 4v8z"}},{tag:"path",attr:{d:"M7 14.987v1.999h1.999l5.529-5.522-1.998-1.998zm8.47-4.465-1.998-2L14.995 7l2 1.999z"}}]})(e)}function Jt(e){return Oo({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5Zm-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5ZM4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06Zm6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528ZM8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5Z"}}]})(e)}function Qn({queryKey:e,pageSize:t,currentPage:i,total:n,setPage:l,footer:r,queryFn:u,columns:c}){const{data:o,refetch:f}=pn({queryKey:[e],queryFn:()=>u(t,i),select:g=>g}),d=g=>{l(g)};return C.useEffect(()=>{f(),window.scrollTo({top:0,behavior:"smooth"})},[i,f]),j.jsxs(j.Fragment,{children:[j.jsx(X0,{size:"middle",footer:()=>r,columns:c,dataSource:o,pagination:!1}),o&&o.length>0&&j.jsx("div",{className:"p-2 pb-8 mx-auto w-fit",children:j.jsx(Ko,{className:"p-2 bg-white border rounded-md ",total:n,defaultCurrent:1,defaultPageSize:t,onChange:g=>d(g)})})]})}const Qh=10,eg=[{title:"Thumbnail",dataIndex:"image",key:"image",render:e=>j.jsx("img",{src:e,alt:"thumbnail",style:{width:"100px"}})},{title:"Title",dataIndex:"title",key:"title"},{title:"Publish At",dataIndex:"publishedAt",key:"publishedAt",render:e=>Nt.toDateTime(e)},{title:"Viewed",dataIndex:"view",key:"view"}],tg=({changeFunction:e,setId:t})=>{const{trans:i}=C.useContext(Ft),[n,l]=C.useState(1),[,r]=je.useMessage(),[u,c]=C.useState(!1),{data:o}=pn({queryKey:["articlesSize"],queryFn:Vr}),f=async _=>{await Kr(_)&&(je.success("Delete article successfully"),g())},d=()=>{console.log("Clicked cancel button")},g=()=>{c(_=>!_)},y=[...eg,{title:"Action",key:"action",fixed:"right",width:100,render:(_,S)=>j.jsxs(qn,{size:"middle",children:[j.jsx(Je,{icon:j.jsx(Po,{}),onClick:()=>{t(S._id),e("EDIT_BLOG")}}),j.jsx(Xt,{title:"Delete article?",description:i({en:"Are you sure to delete this task? (It can recover later)",vi:"Bn c chc chn mun xa bi vit ny khng? (C th khi phc sau ny)"}),onConfirm:()=>f(S._id),onCancel:d,okText:"Delete",cancelText:"Cancel",children:j.jsx(Je,{icon:j.jsx(Jt,{})})})]})}];return j.jsxs(j.Fragment,{children:[r,j.jsx("div",{children:j.jsx(Qn,{currentPage:n,pageSize:Qh,setPage:l,total:o||0,queryFn:Fr,queryKey:"articles",columns:y,footer:j.jsx("div",{className:"grid place-items-end",children:j.jsx(Je,{icon:j.jsx(Jt,{}),type:"dashed",onClick:()=>e("ARTICLE_RECYCLE_BIN"),children:i({en:"Recover deleted articles",vi:"Khi phc bi vit  xa"})})})})},JSON.stringify(u))]})},ng=10,ig=[{title:"Thumbnail",dataIndex:"image",key:"image",render:e=>j.jsx("img",{src:e,alt:"thumbnail",style:{width:"100px"}})},{title:"Title",dataIndex:"title",key:"title"},{title:"Publish At",dataIndex:"publishedAt",key:"publishedAt",render:e=>Nt.toDate(e)},{title:"Deleted At",dataIndex:"deletedAt",key:"deletedAt",render:e=>Nt.toDateTime(e)}],lg=()=>{const{trans:e}=C.useContext(Ft),[t,i]=C.useState(1),[,n]=je.useMessage(),[l,r]=C.useState(!1),{data:u}=pn({queryKey:["articlesSize"],queryFn:jr}),c=async y=>{await Wr(y)&&(je.success("Delete article successfully"),d())},o=async y=>{await qr(y)&&(je.success("Restore article successfully"),d())},f=()=>{console.log("Clicked cancel button")},d=()=>{r(y=>!y)},g=[...ig,{title:"Action",key:"action",fixed:"right",width:100,render:(y,_)=>j.jsxs(qn,{size:"middle",children:[j.jsx(Xt,{title:"Restore article?",okType:"primary",description:e({en:"Are you sure you want to restore this article?",vi:"Bn c chc chn mun khi phc bi vit ny khng?"}),onConfirm:()=>o(_._id),onCancel:f,okText:"Restore",cancelText:"Cancel",children:j.jsx(Je,{icon:j.jsx(jo,{})})}),j.jsx(Xt,{title:"Delete article?",okType:"danger",description:e({en:"Are you sure you want to delete this article? (It can't be restored later)",vi:"Bn c chc chn mun xa bi vit ny khng? (Khng th khi phc sau ny)"}),onConfirm:()=>c(_._id),onCancel:f,okText:"Delete",cancelText:"Cancel",children:j.jsx(Je,{icon:j.jsx(Jt,{})})})]})}];return j.jsxs(j.Fragment,{children:[n,j.jsx("div",{children:j.jsx(Qn,{currentPage:t,pageSize:ng,setPage:i,total:u||0,queryFn:Ur,queryKey:"deletedArticles",columns:g})},JSON.stringify(l))]})},zs=Hr.getJWTInstance(),ol=async(e,t)=>{const i=new FormData;i.append(t,e);const n=await zs.post(`/files/${t}/`,i,{headers:{"Content-Type":"multipart/form-data"}});return Wo+"/"+n.data.path},og=async(e,t,i)=>{const n=new FormData;n.append(i,e),n.append("owner_id",t),n.append("type",i);const l=await zs.patch(`/files/${i}`,n,{headers:{"Content-Type":"multipart/form-data"}});return Wo+"/"+l.data.path};var ei={},sl={};const $s={name:"blockquote",display:"command",add:function(e,t){const i=e.context;i.blockquote={targetButton:t,tag:e.util.createElement("BLOCKQUOTE")}},active:function(e){if(!e)this.util.removeClass(this.context.blockquote.targetButton,"active");else if(/blockquote/i.test(e.nodeName))return this.util.addClass(this.context.blockquote.targetButton,"active"),!0;return!1},action:function(){const e=this.util.getParentElement(this.getSelectionNode(),"blockquote");e?this.detachRangeFormatElement(e,null,null,!1,!1):this.applyRangeFormatElement(this.context.blockquote.tag.cloneNode(!1))}},Ps={name:"align",display:"submenu",add:function(e,t){const i=e.icons,n=e.context;n.align={targetButton:t,_itemMenu:null,_alignList:null,currentAlign:"",defaultDir:e.options.rtl?"right":"left",icons:{justify:i.align_justify,left:i.align_left,right:i.align_right,center:i.align_center}};let l=this.setSubmenu(e),r=n.align._itemMenu=l.querySelector("ul");r.addEventListener("click",this.pickup.bind(e)),n.align._alignList=r.querySelectorAll("li button"),e.initMenuTarget(this.name,t,l),l=null,r=null},setSubmenu:function(e){const t=e.lang,i=e.icons,n=e.util.createElement("DIV"),l=e.options.alignItems;let r="";for(let u=0,c,o;u<l.length;u++)c=l[u],o=t.toolbar["align"+c.charAt(0).toUpperCase()+c.slice(1)],r+='<li><button type="button" class="se-btn-list se-btn-align" data-value="'+c+'" title="'+o+'" aria-label="'+o+'"><span class="se-list-icon">'+i["align_"+c]+"</span>"+o+"</button></li>";return n.className="se-submenu se-list-layer se-list-align",n.innerHTML='<div class="se-list-inner"><ul class="se-list-basic">'+r+"</ul></div>",n},active:function(e){const t=this.context.align,i=t.targetButton,n=i.firstElementChild;if(!e)this.util.changeElement(n,t.icons[t.defaultDir]),i.removeAttribute("data-focus");else if(this.util.isFormatElement(e)){const l=e.style.textAlign;if(l)return this.util.changeElement(n,t.icons[l]||t.icons[t.defaultDir]),i.setAttribute("data-focus",l),!0}return!1},on:function(){const e=this.context.align,t=e._alignList,i=e.targetButton.getAttribute("data-focus")||e.defaultDir;if(i!==e.currentAlign){for(let n=0,l=t.length;n<l;n++)i===t[n].getAttribute("data-value")?this.util.addClass(t[n],"active"):this.util.removeClass(t[n],"active");e.currentAlign=i}},exchangeDir:function(){const e=this.options.rtl?"right":"left";if(!this.context.align||this.context.align.defaultDir===e)return;this.context.align.defaultDir=e;let t=this.context.align._itemMenu,i=t.querySelector('[data-value="left"]'),n=t.querySelector('[data-value="right"]');if(i&&n){const l=i.parentElement,r=n.parentElement;l.appendChild(n),r.appendChild(i)}},pickup:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null;for(;!i&&!/UL/i.test(t.tagName);)i=t.getAttribute("data-value"),t=t.parentNode;if(!i)return;const n=this.context.align.defaultDir,l=this.getSelectedElements();for(let r=0,u=l.length;r<u;r++)this.util.setStyle(l[r],"textAlign",i===n?"":i);this.effectNode=null,this.submenuOff(),this.focus(),this.history.push(!1)}},Hs={name:"font",display:"submenu",add:function(e,t){const i=e.context;i.font={targetText:t.querySelector(".txt"),targetTooltip:t.parentNode.querySelector(".se-tooltip-text"),_fontList:null,currentFont:""};let n=this.setSubmenu(e);n.querySelector(".se-list-inner").addEventListener("click",this.pickup.bind(e)),i.font._fontList=n.querySelectorAll("ul li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){const t=e.lang,i=e.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-font-family";let n,l,r,u,c=e.options.font,o='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+t.toolbar.default+'" aria-label="'+t.toolbar.default+'">('+t.toolbar.default+")</button></li>";for(r=0,u=c.length;r<u;r++)n=c[r],l=n.split(",")[0],o+='<li><button type="button" class="se-btn-list" data-value="'+n+'" data-txt="'+l+'" title="'+l+'" aria-label="'+l+'" style="font-family:'+n+';">'+l+"</button></li>";return o+="</ul></div>",i.innerHTML=o,i},active:function(e){const t=this.context.font.targetText,i=this.context.font.targetTooltip;if(e){if(e.style&&e.style.fontFamily.length>0){const n=e.style.fontFamily.replace(/["']/g,"");return this.util.changeTxt(t,n),this.util.changeTxt(i,this.lang.toolbar.font+" ("+n+")"),!0}}else{const n=this.hasFocus?this.wwComputedStyle.fontFamily:this.lang.toolbar.font;this.util.changeTxt(t,n),this.util.changeTxt(i,this.hasFocus?this.lang.toolbar.font+(n?" ("+n+")":""):n)}return!1},on:function(){const e=this.context.font,t=e._fontList,i=e.targetText.textContent;if(i!==e.currentFont){for(let n=0,l=t.length;n<l;n++)i===(t[n].getAttribute("data-value")||"").replace(/'|"/g,"")?this.util.addClass(t[n],"active"):this.util.removeClass(t[n],"active");e.currentFont=i}},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();let t=e.target.getAttribute("data-value");if(t){const i=this.util.createElement("SPAN");/[\s\d\W]/.test(t)&&!/^['"].*['"]$/.test(t)&&(t='"'+t+'"'),i.style.fontFamily=t,this.nodeChange(i,["font-family"],null,null)}else this.nodeChange(null,["font-family"],["span"],!0);this.submenuOff()}},Fs={name:"fontSize",display:"submenu",add:function(e,t){const i=e.context;i.fontSize={targetText:t.querySelector(".txt"),_sizeList:null,currentSize:""};let n=this.setSubmenu(e),l=n.querySelector("ul");l.addEventListener("click",this.pickup.bind(e)),i.fontSize._sizeList=l.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,l=null},setSubmenu:function(e){const t=e.options,i=e.lang,n=e.util.createElement("DIV");n.className="se-submenu se-list-layer se-list-font-size";const l=t.fontSize?t.fontSize:[8,9,10,11,12,14,16,18,20,22,24,26,28,36,48,72];let r='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+i.toolbar.default+'" aria-label="'+i.toolbar.default+'">('+i.toolbar.default+")</button></li>";for(let u=0,c=t.fontSizeUnit,o=l.length,f;u<o;u++)f=l[u],r+='<li><button type="button" class="se-btn-list" data-value="'+f+c+'" title="'+f+c+'" aria-label="'+f+c+'" style="font-size:'+f+c+';">'+f+"</button></li>";return r+="</ul></div>",n.innerHTML=r,n},active:function(e){if(!e)this.util.changeTxt(this.context.fontSize.targetText,this.hasFocus?this._convertFontSize.call(this,this.options.fontSizeUnit,this.wwComputedStyle.fontSize):this.lang.toolbar.fontSize);else if(e.style&&e.style.fontSize.length>0)return this.util.changeTxt(this.context.fontSize.targetText,this._convertFontSize.call(this,this.options.fontSizeUnit,e.style.fontSize)),!0;return!1},on:function(){const e=this.context.fontSize,t=e._sizeList,i=e.targetText.textContent;if(i!==e.currentSize){for(let n=0,l=t.length;n<l;n++)i===t[n].getAttribute("data-value")?this.util.addClass(t[n],"active"):this.util.removeClass(t[n],"active");e.currentSize=i}},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();const t=e.target.getAttribute("data-value");if(t){const i=this.util.createElement("SPAN");i.style.fontSize=t,this.nodeChange(i,["font-size"],null,null)}else this.nodeChange(null,["font-size"],["span"],!0);this.submenuOff()}},Vs={name:"colorPicker",add:function(e){const t=e.context;t.colorPicker={colorListHTML:"",_colorInput:"",_defaultColor:"#000",_styleProperty:"color",_currentColor:"",_colorList:[]},t.colorPicker.colorListHTML=this.createColorList(e,this._makeColorList)},createColorList:function(e,t){const i=e.options,n=e.lang,l=!i.colorList||i.colorList.length===0?["#ff0000","#ff5e00","#ffe400","#abf200","#00d8ff","#0055ff","#6600ff","#ff00dd","#000000","#ffd8d8","#fae0d4","#faf4c0","#e4f7ba","#d4f4fa","#d9e5ff","#e8d9ff","#ffd9fa","#f1f1f1","#ffa7a7","#ffc19e","#faed7d","#cef279","#b2ebf4","#b2ccff","#d1b2ff","#ffb2f5","#bdbdbd","#f15f5f","#f29661","#e5d85c","#bce55c","#5cd1e5","#6699ff","#a366ff","#f261df","#8c8c8c","#980000","#993800","#998a00","#6b9900","#008299","#003399","#3d0099","#990085","#353535","#670000","#662500","#665c00","#476600","#005766","#002266","#290066","#660058","#222222"]:i.colorList;let r=[],u='<div class="se-list-inner">';for(let c=0,o=l.length,f;c<o;c++)f=l[c],f&&(typeof f=="string"&&(r.push(f),c<o-1)||(r.length>0&&(u+='<div class="se-selector-color">'+t(r)+"</div>",r=[]),typeof f=="object"&&(u+='<div class="se-selector-color">'+t(f)+"</div>")));return u+='<form class="se-form-group"><input type="text" maxlength="9" class="_se_color_picker_input se-color-input"/><button type="submit" class="se-btn-primary _se_color_picker_submit" title="'+n.dialogBox.submitButton+'" aria-label="'+n.dialogBox.submitButton+'">'+e.icons.checked+'</button><button type="button" class="se-btn _se_color_picker_remove" title="'+n.toolbar.removeFormat+'" aria-label="'+n.toolbar.removeFormat+'">'+e.icons.erase+"</button></form></div>",u},_makeColorList:function(e){let t="";t+='<ul class="se-color-pallet">';for(let i=0,n=e.length,l;i<n;i++)l=e[i],typeof l=="string"&&(t+='<li><button type="button" data-value="'+l+'" title="'+l+'" aria-label="'+l+'" style="background-color:'+l+';"></button></li>');return t+="</ul>",t},init:function(e,t){const i=this.plugins.colorPicker;let n=t||i.getColorInNode.call(this,e)||this.context.colorPicker._defaultColor;n=i.isHexColor(n)?n:i.rgb2hex(n)||n;const l=this.context.colorPicker._colorList;if(l)for(let r=0,u=l.length;r<u;r++)n.toLowerCase()===l[r].getAttribute("data-value").toLowerCase()?this.util.addClass(l[r],"active"):this.util.removeClass(l[r],"active");i.setInputText.call(this,i.colorName2hex.call(this,n))},setCurrentColor:function(e){this.context.colorPicker._currentColor=e,this.context.colorPicker._colorInput.style.borderColor=e},setInputText:function(e){e=/^#/.test(e)?e:"#"+e,this.context.colorPicker._colorInput.value=e,this.plugins.colorPicker.setCurrentColor.call(this,e)},getColorInNode:function(e){let t="";const i=this.context.colorPicker._styleProperty;for(;e&&!this.util.isWysiwygDiv(e)&&t.length===0;)e.nodeType===1&&e.style[i]&&(t=e.style[i]),e=e.parentNode;return t},isHexColor:function(e){return/^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(e)},rgb2hex:function(e){const t=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return t&&t.length===4?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""},colorName2hex:function(e){if(/^#/.test(e))return e;var t=this.util.createElement("div");t.style.display="none",t.style.color=e;var i=this._w.getComputedStyle(this._d.body.appendChild(t)).color.match(/\d+/g).map(function(n){return parseInt(n,10)});return this.util.removeItem(t),i.length>=3?"#"+((1<<24)+(i[0]<<16)+(i[1]<<8)+i[2]).toString(16).substr(1):!1}},Ks={name:"fontColor",display:"submenu",add:function(e,t){e.addModule([Vs]);const i=e.context;i.fontColor={previewEl:null,colorInput:null,colorList:null};let n=this.setSubmenu(e);i.fontColor.colorInput=n.querySelector("._se_color_picker_input"),i.fontColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(e)),n.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(e)),n.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(e)),n.addEventListener("click",this.pickup.bind(e)),i.fontColor.colorList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){const t=e.context.colorPicker.colorListHTML,i=e.util.createElement("DIV");return i.className="se-submenu se-list-layer",i.innerHTML=t,i},on:function(){const e=this.context.colorPicker,t=this.context.fontColor;e._colorInput=t.colorInput;const i=this.wwComputedStyle.color;e._defaultColor=i?this.plugins.colorPicker.isHexColor(i)?i:this.plugins.colorPicker.rgb2hex(i):"#333333",e._styleProperty="color",e._colorList=t.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(e){this.plugins.colorPicker.setCurrentColor.call(this,e.target.value)},submit:function(){this.plugins.fontColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(e){e.preventDefault(),e.stopPropagation(),this.plugins.fontColor.applyColor.call(this,e.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["color"],["span"],!0),this.submenuOff()},applyColor:function(e){if(!e)return;const t=this.util.createElement("SPAN");t.style.color=e,this.nodeChange(t,["color"],null,null),this.submenuOff()}},Us={name:"hiliteColor",display:"submenu",add:function(e,t){e.addModule([Vs]);const i=e.context;i.hiliteColor={previewEl:null,colorInput:null,colorList:null};let n=this.setSubmenu(e);i.hiliteColor.colorInput=n.querySelector("._se_color_picker_input"),i.hiliteColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(e)),n.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(e)),n.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(e)),n.addEventListener("click",this.pickup.bind(e)),i.hiliteColor.colorList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){const t=e.context.colorPicker.colorListHTML,i=e.util.createElement("DIV");return i.className="se-submenu se-list-layer",i.innerHTML=t,i},on:function(){const e=this.context.colorPicker,t=this.context.hiliteColor;e._colorInput=t.colorInput;const i=this.wwComputedStyle.backgroundColor;e._defaultColor=i?this.plugins.colorPicker.isHexColor(i)?i:this.plugins.colorPicker.rgb2hex(i):"#ffffff",e._styleProperty="backgroundColor",e._colorList=t.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(e){this.plugins.colorPicker.setCurrentColor.call(this,e.target.value)},submit:function(){this.plugins.hiliteColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(e){e.preventDefault(),e.stopPropagation(),this.plugins.hiliteColor.applyColor.call(this,e.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["background-color"],["span"],!0),this.submenuOff()},applyColor:function(e){if(!e)return;const t=this.util.createElement("SPAN");t.style.backgroundColor=e,this.nodeChange(t,["background-color"],null,null),this.submenuOff()}},js={name:"horizontalRule",display:"submenu",add:function(e,t){e.context.horizontalRule={currentHR:null};let i=this.setSubmenu(e);i.querySelector("ul").addEventListener("click",this.horizontalRulePick.bind(e)),e.initMenuTarget(this.name,t,i),i=null},setSubmenu:function(e){const t=e.lang,i=e.util.createElement("DIV"),n=e.options.hrItems||[{name:t.toolbar.hr_solid,class:"__se__solid"},{name:t.toolbar.hr_dashed,class:"__se__dashed"},{name:t.toolbar.hr_dotted,class:"__se__dotted"}];let l="";for(let r=0,u=n.length;r<u;r++)l+='<li><button type="button" class="se-btn-list btn_line" data-command="horizontalRule" data-value="'+n[r].class+'" title="'+n[r].name+'" aria-label="'+n[r].name+'"><hr'+(n[r].class?' class="'+n[r].class+'"':"")+(n[r].style?' style="'+n[r].style+'"':"")+"/></button></li>";return i.className="se-submenu se-list-layer se-list-line",i.innerHTML='<div class="se-list-inner"><ul class="se-list-basic">'+l+"</ul></div>",i},active:function(e){if(!e)this.util.hasClass(this.context.horizontalRule.currentHR,"on")&&this.controllersOff();else if(/HR/i.test(e.nodeName))return this.context.horizontalRule.currentHR=e,this.util.hasClass(e,"on")||(this.util.addClass(e,"on"),this.controllersOn("hr",this.util.removeClass.bind(this.util,e,"on"))),!0;return!1},appendHr:function(e){return this.focus(),this.insertComponent(e.cloneNode(!1),!1,!0,!1)},horizontalRulePick:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=t.getAttribute("data-command");for(;!i&&!/UL/i.test(t.tagName);)t=t.parentNode,i=t.getAttribute("data-command");if(!i)return;const n=this.plugins.horizontalRule.appendHr.call(this,t.firstElementChild);n&&(this.setRange(n,0,n,0),this.submenuOff())}},Ws={name:"list",display:"submenu",add:function(e,t){const i=e.context;i.list={targetButton:t,_list:null,currentList:"",icons:{bullets:e.icons.list_bullets,number:e.icons.list_number}};let n=this.setSubmenu(e),l=n.querySelector("ul");l.addEventListener("click",this.pickup.bind(e)),i.list._list=l.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,l=null},setSubmenu:function(e){const t=e.lang,i=e.util.createElement("DIV");return i.className="se-submenu se-list-layer",i.innerHTML='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="OL" title="'+t.toolbar.orderList+'" aria-label="'+t.toolbar.orderList+'">'+e.icons.list_number+'</button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="UL" title="'+t.toolbar.unorderList+'" aria-label="'+t.toolbar.unorderList+'">'+e.icons.list_bullets+"</button></li></ul></div>",i},active:function(e){const t=this.context.list.targetButton,i=t.firstElementChild,n=this.util;if(n.isList(e)){const l=e.nodeName;return t.setAttribute("data-focus",l),n.addClass(t,"active"),/UL/i.test(l)?n.changeElement(i,this.context.list.icons.bullets):n.changeElement(i,this.context.list.icons.number),!0}else t.removeAttribute("data-focus"),n.changeElement(i,this.context.list.icons.number),n.removeClass(t,"active");return!1},on:function(){const e=this.context.list,t=e._list,i=e.targetButton.getAttribute("data-focus")||"";if(i!==e.currentList){for(let n=0,l=t.length;n<l;n++)i===t[n].getAttribute("data-command")?this.util.addClass(t[n],"active"):this.util.removeClass(t[n],"active");e.currentList=i}},editList:function(e,t,i){let n=this.getRange(),l=t||this.getSelectedElementsAndComponents(!1);if(l.length===0&&(t||(n=this.getRange_addLine(n,null),l=this.getSelectedElementsAndComponents(!1),l.length===0)))return;const r=this.util;r.sortByDepth(l,!0);let u=l[0],c=l[l.length-1],o=(r.isListCell(u)||r.isComponent(u))&&!u.previousElementSibling?u.parentNode.previousElementSibling:u.previousElementSibling,f=(r.isListCell(c)||r.isComponent(c))&&!c.nextElementSibling?c.parentNode.nextElementSibling:c.nextElementSibling;const d=n.collapsed,g={sc:n.startContainer,so:n.startContainer===n.endContainer&&r.onlyZeroWidthSpace(n.startContainer)&&n.startOffset===0&&n.endOffset===1?n.endOffset:n.startOffset,ec:n.endContainer,eo:n.endOffset};let y=null,_=!0;for(let S=0,T=l.length;S<T;S++)if(!r.isList(r.getRangeFormatElement(l[S],(function(s){return this.getRangeFormatElement(s)&&s!==l[S]}).bind(r)))){_=!1;break}if(_&&(!o||u.tagName!==o.tagName||e!==o.tagName.toUpperCase())&&(!f||c.tagName!==f.tagName||e!==f.tagName.toUpperCase())){if(i){for(let p=0,m=l.length;p<m;p++)for(let v=p-1;v>=0;v--)if(l[v].contains(l[p])){l.splice(p,1),p--,m--;break}}const S=r.getRangeFormatElement(u),T=S&&S.tagName===e;let s,a;const h=(function(p){return!this.isComponent(p)}).bind(r);T||(a=r.createElement(e));for(let p=0,m=l.length,v,b;p<m;p++)b=r.getRangeFormatElement(l[p],h),!(!b||!r.isList(b))&&(v?v!==b?(i&&r.isListCell(b.parentNode)?this.plugins.list._detachNested.call(this,s.f):y=this.detachRangeFormatElement(s.f[0].parentNode,s.f,a,!1,!0),b=l[p].parentNode,T||(a=r.createElement(e)),v=b,s={r:v,f:[r.getParentElement(l[p],"LI")]}):s.f.push(r.getParentElement(l[p],"LI")):(v=b,s={r:v,f:[r.getParentElement(l[p],"LI")]}),p===m-1&&(i&&r.isListCell(b.parentNode)?this.plugins.list._detachNested.call(this,s.f):y=this.detachRangeFormatElement(s.f[0].parentNode,s.f,a,!1,!0)))}else{const S=o&&o.parentNode,T=f&&f.parentNode;o=S&&!r.isWysiwygDiv(S)&&S.nodeName===e?S:o,f=T&&!r.isWysiwygDiv(T)&&T.nodeName===e?T:f;const s=o&&o.tagName===e,a=f&&f.tagName===e;let h=s?o:r.createElement(e),p=null,m=null,v=null;const b=(function(w){return!this.isComponent(w)&&!this.isList(w)}).bind(r);for(let w=0,E=l.length,x,k,B,N,L,I,O,P,M;w<E;w++){if(k=l[w],k.childNodes.length===0&&!r._isIgnoreNodeChange(k)){r.removeItem(k);continue}if(N=l[w+1],L=k.parentNode,I=N?N.parentNode:null,B=r.isListCell(k),M=r.isRangeFormatElement(L)?L:null,O=B&&!r.isWysiwygDiv(L)?L.parentNode:L,P=B&&!r.isWysiwygDiv(L)?!N||r.isListCell(O)?L:L.nextSibling:k.nextSibling,x=r.createElement("LI"),r.copyFormatAttributes(x,k),w===0&&g.sc===k&&(g.sc=x),w===E-1&&g.ec===k&&(g.ec=x),r.isComponent(k)){const R=/^HR$/i.test(k.nodeName);R||(x.innerHTML="<br>"),x.innerHTML+=k.outerHTML,R&&(x.innerHTML+="<br>")}else{const R=k.childNodes;for(;R[0];)x.appendChild(R[0])}h.appendChild(x),(!N||O!==I||r.isRangeFormatElement(P))&&(p||(p=h),(!s||!N||O!==I)&&!(N&&r.isList(I)&&I===L)&&h.parentNode!==O&&O.insertBefore(h,P)),r.removeItem(k),s&&m===null&&(m=h.children.length-1),N&&(r.getRangeFormatElement(I,b)!==r.getRangeFormatElement(L,b)||r.isList(I)&&r.isList(L)&&r.getElementDepth(I)!==r.getElementDepth(L))&&(h=r.createElement(e)),M&&M.children.length===0&&r.removeItem(M)}m&&(p=p.children[m]),a&&(v=h.children.length-1,h.innerHTML+=f.innerHTML,h.children[v],r.removeItem(f))}return this.effectNode=null,d?y:g},_detachNested:function(e){const t=e[0],i=e[e.length-1],n=i.nextElementSibling,l=t.parentNode,r=l.parentNode.nextElementSibling,u=l.parentNode.parentNode;for(let o=0,f=e.length;o<f;o++)u.insertBefore(e[o],r);if(n&&l.children.length>0){const o=l.cloneNode(!1),f=l.childNodes,d=this.util.getPositionIndex(n);for(;f[d];)o.appendChild(f[d]);i.appendChild(o)}l.children.length===0&&this.util.removeItem(l),this.util.mergeSameTags(u);const c=this.util.getEdgeChildNodes(t,i);return{cc:t.parentNode,sc:c.sc,ec:c.ec}},editInsideList:function(e,t){t=t||this.getSelectedElements().filter((function(u){return this.isListCell(u)}).bind(this.util));const i=t.length;if(i===0||!e&&!this.util.isListCell(t[0].previousElementSibling)&&!this.util.isListCell(t[i-1].nextElementSibling))return{sc:t[0],so:0,ec:t[i-1],eo:1};let n=t[0].parentNode,l=t[i-1],r=null;if(e){if(n!==l.parentNode&&this.util.isList(l.parentNode.parentNode)&&l.nextElementSibling)for(l=l.nextElementSibling;l;)t.push(l),l=l.nextElementSibling;r=this.plugins.list.editList.call(this,n.nodeName.toUpperCase(),t,!0)}else{let u=this.util.createElement(n.nodeName),c=t[0].previousElementSibling,o=l.nextElementSibling;const f={s:null,e:null,sl:n,el:n};for(let y=0,_=i,S;y<_;y++)S=t[y],S.parentNode!==n&&(this.plugins.list._insiedList.call(this,n,u,c,o,f),n=S.parentNode,u=this.util.createElement(n.nodeName)),c=S.previousElementSibling,o=S.nextElementSibling,u.appendChild(S);this.plugins.list._insiedList.call(this,n,u,c,o,f);const d=this.util.getNodeFromPath(f.s,f.sl),g=this.util.getNodeFromPath(f.e,f.el);r={sc:d,so:0,ec:g,eo:g.textContent.length}}return r},_insiedList:function(e,t,i,n,l){let r=!1;if(i&&t.tagName===i.tagName){const u=t.children;for(;u[0];)i.appendChild(u[0]);t=i,r=!0}if(n&&t.tagName===n.tagName){const u=n.children;for(;u[0];)t.appendChild(u[0]);const c=n.nextElementSibling;n.parentNode.removeChild(n),n=c}if(!r){this.util.isListCell(i)&&(e=i,n=null),e.insertBefore(t,n),l.s||(l.s=this.util.getNodePath(t.firstElementChild.firstChild,e,null),l.sl=e);const u=e.contains(l.sl)?this.util.getNodePath(l.sl,e):null;l.e=this.util.getNodePath(t.lastElementChild.firstChild,e,null),l.el=e,this.util.mergeSameTags(e,[l.s,l.e,u],!1),this.util.mergeNestedTags(e),u&&(l.sl=this.util.getNodeFromPath(u,e))}return t},pickup:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i="";for(;!i&&!/^UL$/i.test(t.tagName);)i=t.getAttribute("data-command"),t=t.parentNode;if(!i)return;const n=this.plugins.list.editList.call(this,i,null,!1);n&&this.setRange(n.sc,n.so,n.ec,n.eo),this.submenuOff(),this.history.push(!1)}},qs={name:"table",display:"submenu",add:function(e,t){const i=e.context;let n=i.table={_element:null,_tdElement:null,_trElement:null,_trElements:null,_tableXY:[],_maxWidth:!0,_fixedColumn:!1,_rtl:e.options.rtl,cellControllerTop:e.options.tableCellControllerPosition==="top",resizeText:null,headerButton:null,mergeButton:null,splitButton:null,splitMenu:null,maxText:e.lang.controller.maxSize,minText:e.lang.controller.minSize,_physical_cellCnt:0,_logical_cellCnt:0,_rowCnt:0,_rowIndex:0,_physical_cellIndex:0,_logical_cellIndex:0,_current_colSpan:0,_current_rowSpan:0,icons:{expansion:e.icons.expansion,reduction:e.icons.reduction}},l=this.setSubmenu(e),r=l.querySelector(".se-controller-table-picker");n.tableHighlight=l.querySelector(".se-table-size-highlighted"),n.tableUnHighlight=l.querySelector(".se-table-size-unhighlighted"),n.tableDisplay=l.querySelector(".se-table-size-display"),e.options.rtl&&(n.tableHighlight.style.left=10*18-13+"px");let u=this.setController_table(e);n.tableController=u,n.resizeButton=u.querySelector("._se_table_resize"),n.resizeText=u.querySelector("._se_table_resize > span > span"),n.columnFixedButton=u.querySelector("._se_table_fixed_column"),n.headerButton=u.querySelector("._se_table_header");let c=this.setController_tableEditor(e,n.cellControllerTop);n.resizeDiv=c,n.splitMenu=c.querySelector(".se-btn-group-sub"),n.mergeButton=c.querySelector("._se_table_merge_button"),n.splitButton=c.querySelector("._se_table_split_button"),n.insertRowAboveButton=c.querySelector("._se_table_insert_row_a"),n.insertRowBelowButton=c.querySelector("._se_table_insert_row_b"),r.addEventListener("mousemove",this.onMouseMove_tablePicker.bind(e,n)),r.addEventListener("click",this.appendTable.bind(e)),c.addEventListener("click",this.onClick_tableController.bind(e)),u.addEventListener("click",this.onClick_tableController.bind(e)),e.initMenuTarget(this.name,t,l),i.element.relative.appendChild(c),i.element.relative.appendChild(u),l=null,r=null,c=null,u=null,n=null},setSubmenu:function(e){const t=e.util.createElement("DIV");return t.className="se-submenu se-selector-table",t.innerHTML='<div class="se-table-size"><div class="se-table-size-picker se-controller-table-picker"></div><div class="se-table-size-highlighted"></div><div class="se-table-size-unhighlighted"></div></div><div class="se-table-size-display">1 x 1</div>',t},setController_table:function(e){const t=e.lang,i=e.icons,n=e.util.createElement("DIV");return n.className="se-controller se-controller-table",n.innerHTML='<div><div class="se-btn-group"><button type="button" data-command="resize" class="se-btn se-tooltip _se_table_resize">'+i.expansion+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.maxSize+'</span></span></button><button type="button" data-command="layout" class="se-btn se-tooltip _se_table_fixed_column">'+i.fixed_column_width+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.fixedColumnWidth+'</span></span></button><button type="button" data-command="header" class="se-btn se-tooltip _se_table_header">'+i.table_header+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.tableHeader+'</span></span></button><button type="button" data-command="remove" class="se-btn se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div></div>",n},setController_tableEditor:function(e,t){const i=e.lang,n=e.icons,l=e.util.createElement("DIV");return l.className="se-controller se-controller-table-cell",l.innerHTML=(t?"":'<div class="se-arrow se-arrow-up"></div>')+'<div class="se-btn-group"><button type="button" data-command="insert" data-value="row" data-option="up" class="se-btn se-tooltip _se_table_insert_row_a">'+n.insert_row_above+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertRowAbove+'</span></span></button><button type="button" data-command="insert" data-value="row" data-option="down" class="se-btn se-tooltip _se_table_insert_row_b">'+n.insert_row_below+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertRowBelow+'</span></span></button><button type="button" data-command="delete" data-value="row" class="se-btn se-tooltip">'+n.delete_row+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.deleteRow+'</span></span></button><button type="button" data-command="merge" class="_se_table_merge_button se-btn se-tooltip" disabled>'+n.merge_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.mergeCells+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="insert" data-value="cell" data-option="left" class="se-btn se-tooltip">'+n.insert_column_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertColumnBefore+'</span></span></button><button type="button" data-command="insert" data-value="cell" data-option="right" class="se-btn se-tooltip">'+n.insert_column_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertColumnAfter+'</span></span></button><button type="button" data-command="delete" data-value="cell" class="se-btn se-tooltip">'+n.delete_column+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.deleteColumn+'</span></span></button><button type="button" data-command="onsplit" class="_se_table_split_button se-btn se-tooltip">'+n.split_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.splitCells+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer se-table-split"><div class="se-list-inner"><ul class="se-list-basic"><li class="se-btn-list" data-command="split" data-value="vertical" style="line-height:32px;" title="'+i.controller.VerticalSplit+'" aria-label="'+i.controller.VerticalSplit+'">'+i.controller.VerticalSplit+'</li><li class="se-btn-list" data-command="split" data-value="horizontal" style="line-height:32px;" title="'+i.controller.HorizontalSplit+'" aria-label="'+i.controller.HorizontalSplit+'">'+i.controller.HorizontalSplit+"</li></ul></div></div></div>",l},appendTable:function(){const e=this.util.createElement("TABLE"),t=this.plugins.table.createCells,i=this.context.table._tableXY[0];let n=this.context.table._tableXY[1],l="<tbody>";for(;n>0;)l+="<tr>"+t.call(this,"td",i)+"</tr>",--n;if(l+="</tbody>",e.innerHTML=l,this.insertComponent(e,!1,!0,!1)){const u=e.querySelector("td div");this.setRange(u,0,u,0),this.plugins.table.reset_table_picker.call(this)}},createCells:function(e,t,i){if(e=e.toLowerCase(),i){const n=this.util.createElement(e);return n.innerHTML="<div><br></div>",n}else{let n="";for(;t>0;)n+="<"+e+"><div><br></div></"+e+">",t--;return n}},onMouseMove_tablePicker:function(e,t){t.stopPropagation();let i=this._w.Math.ceil(t.offsetX/18),n=this._w.Math.ceil(t.offsetY/18);i=i<1?1:i,n=n<1?1:n,e._rtl&&(e.tableHighlight.style.left=i*18-13+"px",i=11-i),e.tableHighlight.style.width=i+"em",e.tableHighlight.style.height=n+"em",this.util.changeTxt(e.tableDisplay,i+" x "+n),e._tableXY=[i,n]},reset_table_picker:function(){if(!this.context.table.tableHighlight)return;const e=this.context.table.tableHighlight.style,t=this.context.table.tableUnHighlight.style;e.width="1em",e.height="1em",t.width="10em",t.height="10em",this.util.changeTxt(this.context.table.tableDisplay,"1 x 1"),this.submenuOff()},init:function(){const e=this.context.table,t=this.plugins.table;if(t._removeEvents.call(this),t._selectedTable){const i=t._selectedTable.querySelectorAll(".se-table-selected-cell");for(let n=0,l=i.length;n<l;n++)this.util.removeClass(i[n],"se-table-selected-cell")}t._toggleEditor.call(this,!0),e._element=null,e._tdElement=null,e._trElement=null,e._trElements=null,e._tableXY=[],e._maxWidth=!0,e._fixedColumn=!1,e._physical_cellCnt=0,e._logical_cellCnt=0,e._rowCnt=0,e._rowIndex=0,e._physical_cellIndex=0,e._logical_cellIndex=0,e._current_colSpan=0,e._current_rowSpan=0,t._shift=!1,t._selectedCells=null,t._selectedTable=null,t._ref=null,t._fixedCell=null,t._selectedCell=null,t._fixedCellName=null},call_controller_tableEdit:function(e){const t=this.plugins.table,i=this.context.table;if(!this.getSelection().isCollapsed&&!t._selectedCell){this.controllersOff(),this.util.removeClass(e,"se-table-selected-cell");return}const n=i._element||this.plugins.table._selectedTable||this.util.getParentElement(e,"TABLE");i._maxWidth=this.util.hasClass(n,"se-table-size-100")||n.style.width==="100%"||!n.style.width&&!this.util.hasClass(n,"se-table-size-auto"),i._fixedColumn=this.util.hasClass(n,"se-table-layout-fixed")||n.style.tableLayout==="fixed",t.setTableStyle.call(this,i._maxWidth?"width|column":"width"),t.setPositionControllerTop.call(this,n),t.setPositionControllerDiv.call(this,e,t._shift),t._shift||this.controllersOn(i.resizeDiv,i.tableController,t.init.bind(this),e,"table")},setPositionControllerTop:function(e){this.setControllerPosition(this.context.table.tableController,e,"top",{left:0,top:0})},setPositionControllerDiv:function(e,t){const i=this.context.table,n=i.resizeDiv;this.plugins.table.setCellInfo.call(this,e,t),i.cellControllerTop?this.setControllerPosition(n,i._element,"top",{left:i.tableController.offsetWidth,top:0}):this.setControllerPosition(n,e,"bottom",{left:0,top:0})},setCellInfo:function(e,t){const i=this.context.table,n=i._element=this.plugins.table._selectedTable||this.util.getParentElement(e,"TABLE");if(/THEAD/i.test(n.firstElementChild.nodeName)?this.util.addClass(i.headerButton,"active"):this.util.removeClass(i.headerButton,"active"),t||i._physical_cellCnt===0){i._tdElement!==e&&(i._tdElement=e,i._trElement=e.parentNode);const l=i._trElements=n.rows,r=e.cellIndex;let u=0;for(let d=0,g=l[0].cells,y=l[0].cells.length;d<y;d++)u+=g[d].colSpan;const c=i._rowIndex=i._trElement.rowIndex;i._rowCnt=l.length,i._physical_cellCnt=i._trElement.cells.length,i._logical_cellCnt=u,i._physical_cellIndex=r,i._current_colSpan=i._tdElement.colSpan-1,i._current_rowSpan-i._trElement.cells[r].rowSpan-1;let o=[],f=[];for(let d=0,g,y;d<=c;d++){g=l[d].cells,y=0;for(let _=0,S=g.length,T,s,a,h;_<S;_++){if(T=g[_],s=T.colSpan-1,a=T.rowSpan-1,h=_+y,f.length>0)for(let p=0,m;p<f.length;p++)m=f[p],!(m.row>d)&&(h>=m.index?(y+=m.cs,h+=m.cs,m.rs-=1,m.row=d+1,m.rs<1&&(f.splice(p,1),p--)):_===S-1&&(m.rs-=1,m.row=d+1,m.rs<1&&(f.splice(p,1),p--)));if(d===c&&_===r){i._logical_cellIndex=h;break}a>0&&o.push({index:h,cs:s+1,rs:a,row:-1}),y+=s}f=f.concat(o).sort(function(_,S){return _.index-S.index}),o=[]}o=null,f=null}},editTable:function(e,t){const i=this.plugins.table,n=this.context.table,l=n._element,r=e==="row";if(r){const u=n._trElement.parentNode;if(/^THEAD$/i.test(u.nodeName)){if(t==="up")return;if(!u.nextElementSibling||!/^TBODY$/i.test(u.nextElementSibling.nodeName)){l.innerHTML+="<tbody><tr>"+i.createCells.call(this,"td",n._logical_cellCnt,!1)+"</tr></tbody>";return}}}if(i._ref){const u=n._tdElement,c=i._selectedCells;if(r)if(t)i.setCellInfo.call(this,t==="up"?c[0]:c[c.length-1],!0),i.editRow.call(this,t,u);else{let o=c[0].parentNode;const f=[c[0]];for(let d=1,g=c.length,y;d<g;d++)y=c[d],o!==y.parentNode&&(f.push(y),o=y.parentNode);for(let d=0,g=f.length;d<g;d++)i.setCellInfo.call(this,f[d],!0),i.editRow.call(this,t)}else{const o=c[0].parentNode;if(t){let f=null;for(let d=0,g=c.length-1;d<g;d++)if(o!==c[d+1].parentNode){f=c[d];break}i.setCellInfo.call(this,t==="left"?c[0]:f||c[0],!0),i.editCell.call(this,t,u)}else{const f=[c[0]];for(let d=1,g=c.length,y;d<g&&(y=c[d],o===y.parentNode);d++)f.push(y);for(let d=0,g=f.length;d<g;d++)i.setCellInfo.call(this,f[d],!0),i.editCell.call(this,t)}}t||i.init.call(this)}else i[r?"editRow":"editCell"].call(this,t);if(!t){const u=l.children;for(let c=0;c<u.length;c++)u[c].children.length===0&&(this.util.removeItem(u[c]),c--);l.children.length===0&&this.util.removeItem(l)}},editRow:function(e,t){const i=this.context.table,n=!e,l=e==="up",r=i._rowIndex,u=n||l?r:r+i._current_rowSpan+1,c=n?-1:1,o=i._trElements;let f=i._logical_cellCnt;for(let d=0,g=r+(n?-1:0),y;d<=g;d++){if(y=o[d].cells,y.length===0)return;for(let _=0,S=y.length,T,s;_<S;_++)T=y[_].rowSpan,s=y[_].colSpan,!(T<2&&s<2)&&T+d>u&&u>d&&(y[_].rowSpan=T+c,f-=s)}if(n){const d=o[r+1];if(d){const g=[];let y=o[r].cells,_=0;for(let S=0,T=y.length,s,a;S<T;S++)s=y[S],a=S+_,_+=s.colSpan-1,s.rowSpan>1&&(s.rowSpan-=1,g.push({cell:s.cloneNode(!1),index:a}));if(g.length>0){let S=g.shift();y=d.cells,_=0;for(let T=0,s=y.length,a,h;T<s&&(a=y[T],h=T+_,_+=a.colSpan-1,!(h>=S.index&&(T--,_--,_+=S.cell.colSpan-1,d.insertBefore(S.cell,a),S=g.shift(),!S)));T++);if(S){d.appendChild(S.cell);for(let T=0,s=g.length;T<s;T++)d.appendChild(g[T].cell)}}}i._element.deleteRow(u)}else{const d=i._element.insertRow(u);d.innerHTML=this.plugins.table.createCells.call(this,"td",f,!1)}n?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,t||i._tdElement,!0)},editCell:function(e,t){const i=this.context.table,n=this.util,l=!e,r=e==="left",u=i._current_colSpan,c=l||r?i._logical_cellIndex:i._logical_cellIndex+u+1,o=i._trElements;let f=[],d=[],g=0;const y=[],_=[];for(let S=0,T=i._rowCnt,s,a,h,p,m,v;S<T;S++){s=o[S],a=c,m=!1,h=s.cells,v=0;for(let b=0,w,E=h.length,x,k,B;b<E&&(w=h[b],!!w);b++)if(x=w.rowSpan-1,k=w.colSpan-1,l){if(B=b+v,d.length>0){const N=!h[b+1];for(let L=0,I;L<d.length;L++)I=d[L],!(I.row>S)&&(B>=I.index?(v+=I.cs,B=b+v,I.rs-=1,I.row=S+1,I.rs<1&&(d.splice(L,1),L--)):N&&(I.rs-=1,I.row=S+1,I.rs<1&&(d.splice(L,1),L--)))}x>0&&f.push({rs:x,cs:k+1,index:B,row:-1}),B>=a&&B+k<=a+u?y.push(w):B<=a+u&&B+k>=a?w.colSpan-=n.getOverlapRangeAtIndex(c,c+u,B,B+k):x>0&&(B<a||B+k>a+u)&&_.push({cell:w,i:S,rs:S+x}),v+=k}else{if(b>=a)break;if(k>0){if(g<1&&k+b>=a){w.colSpan+=1,a=null,g=x+1;break}a-=k}if(!m){for(let N=0,L;N<d.length;N++)L=d[N],a-=L.cs,L.rs-=1,L.rs<1&&(d.splice(N,1),N--);m=!0}}if(d=d.concat(f).sort(function(b,w){return b.index-w.index}),f=[],!l){if(g>0){g-=1;continue}a!==null&&h.length>0&&(p=this.plugins.table.createCells.call(this,h[0].nodeName,0,!0),p=s.insertBefore(p,h[a]))}}if(l){let S,T;for(let s=0,a=y.length,h;s<a;s++)h=y[s].parentNode,n.removeItem(y[s]),h.cells.length===0&&(S||(S=n.getArrayIndex(o,h)),T=n.getArrayIndex(o,h),n.removeItem(h));for(let s=0,a=_.length,h;s<a;s++)h=_[s],h.cell.rowSpan=n.getOverlapRangeAtIndex(S,T,h.i,h.rs);this.controllersOff()}else this.plugins.table.setPositionControllerDiv.call(this,t||i._tdElement,!0)},_closeSplitMenu:null,openSplitMenu:function(){this.util.addClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="inline-table",this.plugins.table._closeSplitMenu=(function(){this.util.removeClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="none",this.removeDocEvent("click",this.plugins.table._closeSplitMenu),this.plugins.table._closeSplitMenu=null}).bind(this),this.addDocEvent("click",this.plugins.table._closeSplitMenu)},splitCells:function(e){const t=this.util,i=e==="vertical",n=this.context.table,l=n._tdElement,r=n._trElements,u=n._trElement,c=n._logical_cellIndex,o=n._rowIndex,f=this.plugins.table.createCells.call(this,l.nodeName,0,!0);if(i){const d=l.colSpan;if(f.rowSpan=l.rowSpan,d>1)f.colSpan=this._w.Math.floor(d/2),l.colSpan=d-f.colSpan,u.insertBefore(f,l.nextElementSibling);else{let g=[],y=[];for(let _=0,S=n._rowCnt,T,s;_<S;_++){T=r[_].cells,s=0;for(let a=0,h=T.length,p,m,v,b;a<h;a++){if(p=T[a],m=p.colSpan-1,v=p.rowSpan-1,b=a+s,y.length>0)for(let w=0,E;w<y.length;w++)E=y[w],!(E.row>_)&&(b>=E.index?(s+=E.cs,b+=E.cs,E.rs-=1,E.row=_+1,E.rs<1&&(y.splice(w,1),w--)):a===h-1&&(E.rs-=1,E.row=_+1,E.rs<1&&(y.splice(w,1),w--)));if(b<=c&&v>0&&g.push({index:b,cs:m+1,rs:v,row:-1}),p!==l&&b<=c&&b+m>=c+d-1){p.colSpan+=1;break}if(b>c)break;s+=m}y=y.concat(g).sort(function(a,h){return a.index-h.index}),g=[]}u.insertBefore(f,l.nextElementSibling)}}else{const d=l.rowSpan;if(f.colSpan=l.colSpan,d>1){f.rowSpan=this._w.Math.floor(d/2);const g=d-f.rowSpan,y=[],_=t.getArrayIndex(r,u)+g;for(let a=0,h,p;a<_;a++){h=r[a].cells,p=0;for(let m=0,v=h.length,b,w,E;m<v&&(E=m+p,!(E>=c));m++)b=h[m],w=b.rowSpan-1,w>0&&w+a>=_&&E<c&&y.push({index:E,cs:b.colSpan}),p+=b.colSpan-1}const S=r[_],T=S.cells;let s=y.shift();for(let a=0,h=T.length,p=0,m,v,b,w;a<h;a++){if(b=a+p,m=T[a],v=m.colSpan-1,w=b+v+1,s&&w>=s.index&&(p+=s.cs,w+=s.cs,s=y.shift()),w>=c||a===h-1){S.insertBefore(f,m.nextElementSibling);break}p+=v}l.rowSpan=g}else{f.rowSpan=l.rowSpan;const g=t.createElement("TR");g.appendChild(f);for(let S=0,T;S<o;S++){if(T=r[S].cells,T.length===0)return;for(let s=0,a=T.length;s<a;s++)S+T[s].rowSpan-1>=o&&(T[s].rowSpan+=1)}const y=n._physical_cellIndex,_=u.cells;for(let S=0,T=_.length;S<T;S++)S!==y&&(_[S].rowSpan+=1);u.parentNode.insertBefore(g,u.nextElementSibling)}}this.focusEdge(l),this.plugins.table.setPositionControllerDiv.call(this,l,!0)},mergeCells:function(){const e=this.plugins.table,t=this.context.table,i=this.util,n=e._ref,l=e._selectedCells,r=l[0];let u=null,c=null,o=n.ce-n.cs+1,f=n.re-n.rs+1,d="",g=null;for(let y=1,_=l.length,S,T;y<_;y++){S=l[y],g!==S.parentNode&&(g=S.parentNode),T=S.children;for(let s=0,a=T.length;s<a;s++)i.isFormatElement(T[s])&&i.onlyZeroWidthSpace(T[s].textContent)&&i.removeItem(T[s]);d+=S.innerHTML,i.removeItem(S),g.cells.length===0&&(u?c=g:u=g,f-=1)}if(u){const y=t._trElements,_=i.getArrayIndex(y,u),S=i.getArrayIndex(y,c||u),T=[];for(let s=0,a;s<=S;s++){if(a=y[s].cells,a.length===0){T.push(y[s]);continue}for(let h=0,p=a.length,m,v;h<p;h++)m=a[h],v=m.rowSpan-1,v>0&&s+v>=_&&(m.rowSpan-=i.getOverlapRangeAtIndex(_,S,s,s+v))}for(let s=0,a=T.length;s<a;s++)i.removeItem(T[s])}r.innerHTML+=d,r.colSpan=o,r.rowSpan=f,this.controllersOff(),e.setActiveButton.call(this,!0,!1),e.call_controller_tableEdit.call(this,r),i.addClass(r,"se-table-selected-cell"),this.focusEdge(r)},toggleHeader:function(){const e=this.util,t=this.context.table.headerButton,i=e.hasClass(t,"active"),n=this.context.table._element;if(i)e.removeItem(n.querySelector("thead"));else{const l=e.createElement("THEAD");l.innerHTML="<tr>"+this.plugins.table.createCells.call(this,"th",this.context.table._logical_cellCnt,!1)+"</tr>",n.insertBefore(l,n.firstElementChild)}e.toggleClass(t,"active"),/TH/i.test(this.context.table._tdElement.nodeName)?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,this.context.table._tdElement,!1)},setTableStyle:function(e){const t=this.context.table,i=t._element;let n,l,r,u;e.indexOf("width")>-1&&(n=t.resizeButton.firstElementChild,l=t.resizeText,t._maxWidth?(r=t.icons.reduction,u=t.minText,t.columnFixedButton.style.display="block",this.util.removeClass(i,"se-table-size-auto"),this.util.addClass(i,"se-table-size-100")):(r=t.icons.expansion,u=t.maxText,t.columnFixedButton.style.display="none",this.util.removeClass(i,"se-table-size-100"),this.util.addClass(i,"se-table-size-auto")),this.util.changeElement(n,r),this.util.changeTxt(l,u)),e.indexOf("column")>-1&&(t._fixedColumn?(this.util.removeClass(i,"se-table-layout-auto"),this.util.addClass(i,"se-table-layout-fixed"),this.util.addClass(t.columnFixedButton,"active")):(this.util.removeClass(i,"se-table-layout-fixed"),this.util.addClass(i,"se-table-layout-auto"),this.util.removeClass(t.columnFixedButton,"active")))},setActiveButton:function(e,t){const i=this.context.table;/^TH$/i.test(e.nodeName)?(i.insertRowAboveButton.setAttribute("disabled",!0),i.insertRowBelowButton.setAttribute("disabled",!0)):(i.insertRowAboveButton.removeAttribute("disabled"),i.insertRowBelowButton.removeAttribute("disabled")),!t||e===t?(i.splitButton.removeAttribute("disabled"),i.mergeButton.setAttribute("disabled",!0)):(i.splitButton.setAttribute("disabled",!0),i.mergeButton.removeAttribute("disabled"))},_bindOnSelect:null,_bindOffSelect:null,_bindOffShift:null,_selectedCells:null,_shift:!1,_fixedCell:null,_fixedCellName:null,_selectedCell:null,_selectedTable:null,_ref:null,_toggleEditor:function(e){this.context.element.wysiwyg.setAttribute("contenteditable",e),e?this.util.removeClass(this.context.element.wysiwyg,"se-disabled"):this.util.addClass(this.context.element.wysiwyg,"se-disabled")},_offCellMultiSelect:function(e){e.stopPropagation();const t=this.plugins.table;t._shift?t._initBind&&(this._wd.removeEventListener("touchmove",t._initBind),t._initBind=null):(t._removeEvents.call(this),t._toggleEditor.call(this,!0)),!(!t._fixedCell||!t._selectedTable)&&(t.setActiveButton.call(this,t._fixedCell,t._selectedCell),t.call_controller_tableEdit.call(this,t._selectedCell||t._fixedCell),t._selectedCells=t._selectedTable.querySelectorAll(".se-table-selected-cell"),t._selectedCell&&t._fixedCell&&this.focusEdge(t._selectedCell),t._shift||(t._fixedCell=null,t._selectedCell=null,t._fixedCellName=null))},_onCellMultiSelect:function(e){this._antiBlur=!0;const t=this.plugins.table,i=this.util.getParentElement(e.target,this.util.isCell);if(t._shift)i===t._fixedCell?t._toggleEditor.call(this,!0):t._toggleEditor.call(this,!1);else if(!t._ref){if(i===t._fixedCell)return;t._toggleEditor.call(this,!1)}!i||i===t._selectedCell||t._fixedCellName!==i.nodeName||t._selectedTable!==this.util.getParentElement(i,"TABLE")||(t._selectedCell=i,t._setMultiCells.call(this,t._fixedCell,i))},_setMultiCells:function(e,t){const i=this.plugins.table,n=i._selectedTable.rows,l=this.util,r=i._selectedTable.querySelectorAll(".se-table-selected-cell");for(let d=0,g=r.length;d<g;d++)l.removeClass(r[d],"se-table-selected-cell");if(e===t&&(l.addClass(e,"se-table-selected-cell"),!i._shift))return;let u=!0,c=[],o=[];const f=i._ref={_i:0,cs:null,ce:null,rs:null,re:null};for(let d=0,g=n.length,y,_;d<g;d++){y=n[d].cells,_=0;for(let S=0,T=y.length,s,a,h,p;S<T;S++){if(s=y[S],h=s.colSpan-1,p=s.rowSpan-1,a=S+_,c.length>0)for(let m=0,v;m<c.length;m++)v=c[m],!(v.row>d)&&(a>=v.index?(_+=v.cs,a+=v.cs,v.rs-=1,v.row=d+1,v.rs<1&&(c.splice(m,1),m--)):S===T-1&&(v.rs-=1,v.row=d+1,v.rs<1&&(c.splice(m,1),m--)));if(u){if((s===e||s===t)&&(f.cs=f.cs!==null&&f.cs<a?f.cs:a,f.ce=f.ce!==null&&f.ce>a+h?f.ce:a+h,f.rs=f.rs!==null&&f.rs<d?f.rs:d,f.re=f.re!==null&&f.re>d+p?f.re:d+p,f._i+=1),f._i===2){u=!1,c=[],o=[],d=-1;break}}else if(l.getOverlapRangeAtIndex(f.cs,f.ce,a,a+h)&&l.getOverlapRangeAtIndex(f.rs,f.re,d,d+p)){const m=f.cs<a?f.cs:a,v=f.ce>a+h?f.ce:a+h,b=f.rs<d?f.rs:d,w=f.re>d+p?f.re:d+p;if(f.cs!==m||f.ce!==v||f.rs!==b||f.re!==w){f.cs=m,f.ce=v,f.rs=b,f.re=w,d=-1,c=[],o=[];break}l.addClass(s,"se-table-selected-cell")}p>0&&o.push({index:a,cs:h+1,rs:p,row:-1}),_+=s.colSpan-1}c=c.concat(o).sort(function(S,T){return S.index-T.index}),o=[]}},_removeEvents:function(){const e=this.plugins.table;e._initBind&&(this._wd.removeEventListener("touchmove",e._initBind),e._initBind=null),e._bindOnSelect&&(this._wd.removeEventListener("mousedown",e._bindOnSelect),this._wd.removeEventListener("mousemove",e._bindOnSelect),e._bindOnSelect=null),e._bindOffSelect&&(this._wd.removeEventListener("mouseup",e._bindOffSelect),e._bindOffSelect=null),e._bindOffShift&&(this._wd.removeEventListener("keyup",e._bindOffShift),e._bindOffShift=null)},_initBind:null,onTableCellMultiSelect:function(e,t){const i=this.plugins.table;i._removeEvents.call(this),this.controllersOff(),i._shift=t,i._fixedCell=e,i._fixedCellName=e.nodeName,i._selectedTable=this.util.getParentElement(e,"TABLE");const n=i._selectedTable.querySelectorAll(".se-table-selected-cell");for(let l=0,r=n.length;l<r;l++)this.util.removeClass(n[l],"se-table-selected-cell");this.util.addClass(e,"se-table-selected-cell"),i._bindOnSelect=i._onCellMultiSelect.bind(this),i._bindOffSelect=i._offCellMultiSelect.bind(this),t?(i._bindOffShift=(function(){this.controllersOn(this.context.table.resizeDiv,this.context.table.tableController,this.plugins.table.init.bind(this),e,"table"),i._ref||this.controllersOff()}).bind(this),this._wd.addEventListener("keyup",i._bindOffShift,!1),this._wd.addEventListener("mousedown",i._bindOnSelect,!1)):this._wd.addEventListener("mousemove",i._bindOnSelect,!1),this._wd.addEventListener("mouseup",i._bindOffSelect,!1),i._initBind=i.init.bind(this),this._wd.addEventListener("touchmove",i._initBind,!1)},onClick_tableController:function(e){e.stopPropagation();const t=e.target.getAttribute("data-command")?e.target:e.target.parentNode;if(t.getAttribute("disabled"))return;const i=t.getAttribute("data-command"),n=t.getAttribute("data-value"),l=t.getAttribute("data-option"),r=this.plugins.table;if(typeof r._closeSplitMenu=="function"&&(r._closeSplitMenu(),i==="onsplit")||!i)return;e.preventDefault();const u=this.context.table;switch(i){case"insert":case"delete":r.editTable.call(this,n,l);break;case"header":r.toggleHeader.call(this);break;case"onsplit":r.openSplitMenu.call(this);break;case"split":r.splitCells.call(this,n);break;case"merge":r.mergeCells.call(this);break;case"resize":u._maxWidth=!u._maxWidth,r.setTableStyle.call(this,"width"),r.setPositionControllerTop.call(this,u._element),r.setPositionControllerDiv.call(this,u._tdElement,r._shift);break;case"layout":u._fixedColumn=!u._fixedColumn,r.setTableStyle.call(this,"column"),r.setPositionControllerTop.call(this,u._element),r.setPositionControllerDiv.call(this,u._tdElement,r._shift);break;case"remove":const c=u._element.parentNode;this.util.removeItem(u._element),this.controllersOff(),c!==this.context.element.wysiwyg&&this.util.removeItemAllParents(c,function(o){return o.childNodes.length===0},null),this.focus()}this.history.push(!1)}},Zs={name:"formatBlock",display:"submenu",add:function(e,t){const i=e.context;i.formatBlock={targetText:t.querySelector(".txt"),targetTooltip:t.parentNode.querySelector(".se-tooltip-text"),_formatList:null,currentFormat:""};let n=this.setSubmenu(e);n.querySelector("ul").addEventListener("click",this.pickUp.bind(e)),i.formatBlock._formatList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){const t=e.options,i=e.lang.toolbar,n=e.util.createElement("DIV");n.className="se-submenu se-list-layer se-list-format";const l=["p","div","blockquote","pre","h1","h2","h3","h4","h5","h6"],r=!t.formats||t.formats.length===0?l:t.formats;let u='<div class="se-list-inner"><ul class="se-list-basic">';for(let c=0,o=r.length,f,d,g,y,_,S,T;c<o;c++)f=r[c],typeof f=="string"&&l.indexOf(f)>-1?(d=f.toLowerCase(),g=d==="blockquote"?"range":d==="pre"?"free":"replace",_=/^h/.test(d)?d.match(/\d+/)[0]:"",y=i["tag_"+(_?"h":d)]+_,T="",S=""):(d=f.tag.toLowerCase(),g=f.command,y=f.name||d,T=f.class,S=T?' class="'+T+'"':""),u+='<li><button type="button" class="se-btn-list" data-command="'+g+'" data-value="'+d+'" data-class="'+T+'" title="'+y+'" aria-label="'+y+'"><'+d+S+">"+y+"</"+d+"></button></li>";return u+="</ul></div>",n.innerHTML=u,n},active:function(e){let t=this.lang.toolbar.formats;const i=this.context.formatBlock.targetText;if(!e)this.util.changeTxt(i,t);else if(this.util.isFormatElement(e)){const l=this.context.formatBlock._formatList,r=e.nodeName.toLowerCase(),u=(e.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim();for(let c=0,o=l.length,f;c<o;c++)if(f=l[c],r===f.getAttribute("data-value")&&u===f.getAttribute("data-class")){t=f.title;break}return this.util.changeTxt(i,t),i.setAttribute("data-value",r),i.setAttribute("data-class",u),!0}return!1},on:function(){const e=this.context.formatBlock,t=e._formatList,i=e.targetText,n=(i.getAttribute("data-value")||"")+(i.getAttribute("data-class")||"");if(n!==e.currentFormat){for(let l=0,r=t.length,u;l<r;l++)u=t[l],n===u.getAttribute("data-value")+u.getAttribute("data-class")?this.util.addClass(u,"active"):this.util.removeClass(u,"active");e.currentFormat=n}},pickUp:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null,n=null,l=null,r="";for(;!i&&!/UL/i.test(t.tagName);){if(i=t.getAttribute("data-command"),n=t.getAttribute("data-value"),r=t.getAttribute("data-class"),i){l=t.firstChild;break}t=t.parentNode}if(i){if(i==="range"){const u=l.cloneNode(!1);this.applyRangeFormatElement(u)}else{let u=this.getRange(),c=this.getSelectedElementsAndComponents(!1);if(c.length===0&&(u=this.getRange_addLine(u,null),c=this.getSelectedElementsAndComponents(!1),c.length===0))return;const o=u.startOffset,f=u.endOffset,d=this.util;let g=c[0],y=c[c.length-1];const _=d.getNodePath(u.startContainer,g,null,null),S=d.getNodePath(u.endContainer,y,null,null),T=this.detachList(c,!1);T.sc&&(g=T.sc),T.ec&&(y=T.ec),this.setRange(d.getNodeFromPath(_,g),o,d.getNodeFromPath(S,y),f);const s=this.getSelectedElementsAndComponents(!1);if(i==="free"){const a=s.length-1;let h=s[a].parentNode,p=l.cloneNode(!1);const m=p;for(let v=a,b,w,E,x,k,B,N=!0;v>=0;v--)if(b=s[v],b!==(s[v+1]?s[v+1].parentNode:null)){if(B=d.isComponent(b),w=B?"":b.innerHTML.replace(/(?!>)\s+(?=<)|\n/g," "),E=d.getParentElement(b,function(L){return L.parentNode===h}),(h!==b.parentNode||B)&&(d.isFormatElement(h)?(h.parentNode.insertBefore(p,h.nextSibling),h=h.parentNode):(h.insertBefore(p,E?E.nextSibling:null),h=b.parentNode),x=p.nextSibling,x&&p.nodeName===x.nodeName&&d.isSameAttributes(p,x)&&(p.innerHTML+="<BR>"+x.innerHTML,d.removeItem(x)),p=l.cloneNode(!1),N=!0),k=p.innerHTML,p.innerHTML=(N||!w||!k||/<br>$/i.test(w)?w:w+"<BR>")+k,v===0){h.insertBefore(p,b),x=b.nextSibling,x&&p.nodeName===x.nodeName&&d.isSameAttributes(p,x)&&(p.innerHTML+="<BR>"+x.innerHTML,d.removeItem(x));const L=p.previousSibling;L&&p.nodeName===L.nodeName&&d.isSameAttributes(p,L)&&(L.innerHTML+="<BR>"+p.innerHTML,d.removeItem(p))}B||d.removeItem(b),w&&(N=!1)}this.setRange(m,0,m,0)}else{for(let a=0,h=s.length,p,m;a<h;a++)p=s[a],(p.nodeName.toLowerCase()!==n.toLowerCase()||(p.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim()!==r)&&!d.isComponent(p)&&(m=l.cloneNode(!1),d.copyFormatAttributes(m,p),m.innerHTML=p.innerHTML,p.parentNode.replaceChild(m,p)),a===0&&(g=m||p),a===h-1&&(y=m||p),m=null;this.setRange(d.getNodeFromPath(_,g),o,d.getNodeFromPath(S,y),f)}this.history.push(!1)}this.submenuOff()}}},Xs={name:"lineHeight",display:"submenu",add:function(e,t){const i=e.context;i.lineHeight={_sizeList:null,currentSize:-1};let n=this.setSubmenu(e),l=n.querySelector("ul");l.addEventListener("click",this.pickup.bind(e)),i.lineHeight._sizeList=l.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,l=null},setSubmenu:function(e){const t=e.options,i=e.lang,n=e.util.createElement("DIV");n.className="se-submenu se-list-layer";const l=t.lineHeights?t.lineHeights:[{text:"1",value:1},{text:"1.15",value:1.15},{text:"1.5",value:1.5},{text:"2",value:2}];let r='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+i.toolbar.default+'" aria-label="'+i.toolbar.default+'">('+i.toolbar.default+")</button></li>";for(let u=0,c=l.length,o;u<c;u++)o=l[u],r+='<li><button type="button" class="se-btn-list" data-value="'+o.value+'" title="'+o.text+'" aria-label="'+o.text+'">'+o.text+"</button></li>";return r+="</ul></div>",n.innerHTML=r,n},on:function(){const e=this.context.lineHeight,t=e._sizeList,i=this.util.getFormatElement(this.getSelectionNode()),n=i?i.style.lineHeight+"":"";if(n!==e.currentSize){for(let l=0,r=t.length;l<r;l++)n===t[l].getAttribute("data-value")?this.util.addClass(t[l],"active"):this.util.removeClass(t[l],"active");e.currentSize=n}},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();const t=e.target.getAttribute("data-value")||"",i=this.getSelectedElements();for(let n=0,l=i.length;n<l;n++)i[n].style.lineHeight=t;this.submenuOff(),this.history.push(!1)}},Gs={name:"template",display:"submenu",add:function(e,t){const i=e.context;i.template={selectedIndex:-1};let n=this.setSubmenu(e);n.querySelector("ul").addEventListener("click",this.pickup.bind(e)),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){const t=e.options.templates;if(!t||t.length===0)throw Error('[SUNEDITOR.plugins.template.fail] To use the "template" plugin, please define the "templates" option.');const i=e.util.createElement("DIV");i.className="se-list-layer";let n='<div class="se-submenu se-list-inner"><ul class="se-list-basic">';for(let l=0,r=t.length,u;l<r;l++)u=t[l],n+='<li><button type="button" class="se-btn-list" data-value="'+l+'" title="'+u.name+'" aria-label="'+u.name+'">'+u.name+"</button></li>";return n+="</ul></div>",i.innerHTML=n,i},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation(),this.context.template.selectedIndex=e.target.getAttribute("data-value")*1;const t=this.options.templates[this.context.template.selectedIndex];if(t.html)this.setContents(t.html);else throw this.submenuOff(),Error('[SUNEDITOR.template.fail] cause : "templates[i].html not found"');this.submenuOff()}},Ys={name:"paragraphStyle",display:"submenu",add:function(e,t){const i=e.context;i.paragraphStyle={_classList:null};let n=this.setSubmenu(e);n.querySelector("ul").addEventListener("click",this.pickUp.bind(e)),i.paragraphStyle._classList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){const t=e.options,i=e.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-format";const n=e.lang.menu,l={spaced:{name:n.spaced,class:"__se__p-spaced",_class:""},bordered:{name:n.bordered,class:"__se__p-bordered",_class:""},neon:{name:n.neon,class:"__se__p-neon",_class:""}},r=!t.paragraphStyles||t.paragraphStyles.length===0?["spaced","bordered","neon"]:t.paragraphStyles;let u='<div class="se-list-inner"><ul class="se-list-basic">';for(let c=0,o=r.length,f,d,g,y;c<o;c++){if(f=r[c],typeof f=="string"){const _=l[f.toLowerCase()];if(!_)continue;f=_}d=f.name,g=f.class?' class="'+f.class+'"':"",y=f._class,u+='<li><button type="button" class="se-btn-list'+(y?" "+y:"")+'" data-value="'+f.class+'" title="'+d+'" aria-label="'+d+'"><div'+g+">"+d+"</div></button></li>"}return u+="</ul></div>",i.innerHTML=u,i},on:function(){const t=this.context.paragraphStyle._classList,i=this.util.getFormatElement(this.getSelectionNode());for(let n=0,l=t.length;n<l;n++)this.util.hasClass(i,t[n].getAttribute("data-value"))?this.util.addClass(t[n],"active"):this.util.removeClass(t[n],"active")},pickUp:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null;for(;!/^UL$/i.test(t.tagName)&&(i=t.getAttribute("data-value"),!i);)t=t.parentNode;if(!i)return;let n=this.getSelectedElements();if(n.length===0&&(this.getRange_addLine(this.getRange(),null),n=this.getSelectedElements(),n.length===0))return;const l=this.util.hasClass(t,"active")?this.util.removeClass.bind(this.util):this.util.addClass.bind(this.util);for(let r=0,u=n.length;r<u;r++)l(n[r],i);this.submenuOff(),this.history.push(!1)}},Js={name:"textStyle",display:"submenu",add:function(e,t){const i=e.context;i.textStyle={_styleList:null};let n=this.setSubmenu(e),l=n.querySelector("ul");l.addEventListener("click",this.pickup.bind(e)),i.textStyle._styleList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,l=null},setSubmenu:function(e){const t=e.options,i=e.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-format";const n={code:{name:e.lang.menu.code,class:"__se__t-code",tag:"code"},translucent:{name:e.lang.menu.translucent,style:"opacity: 0.5;",tag:"span"},shadow:{name:e.lang.menu.shadow,class:"__se__t-shadow",tag:"span"}},l=t.textStyles?t.textStyles:e._w.Object.keys(n);let r='<div class="se-list-inner"><ul class="se-list-basic">';for(let u=0,c=l.length,o,f,d,g,y,_,S;u<c;u++){if(o=l[u],g="",_="",y=[],typeof o=="string"){const T=n[o.toLowerCase()];if(!T)continue;o=T}d=o.name,f=o.tag||"span",S=o._class,o.style&&(g+=' style="'+o.style+'"',_+=o.style.replace(/:[^;]+(;|$)\s*/g,","),y.push("style")),o.class&&(g+=' class="'+o.class+'"',_+="."+o.class.trim().replace(/\s+/g,",."),y.push("class")),_=_.replace(/,$/,""),r+='<li><button type="button" class="se-btn-list'+(S?" "+S:"")+'" data-command="'+f+'" data-value="'+_+'" title="'+d+'" aria-label="'+d+'"><'+f+g+">"+d+"</"+f+"></button></li>"}return r+="</ul></div>",i.innerHTML=r,i},on:function(){const e=this.util,i=this.context.textStyle._styleList,n=this.getSelectionNode();for(let l=0,r=i.length,u,c,o;l<r;l++){u=i[l],c=u.getAttribute("data-value").split(",");for(let f=0,d,g;f<c.length;f++){for(d=n,o=!1;d&&!e.isFormatElement(d)&&!e.isComponent(d);){if(d.nodeName.toLowerCase()===u.getAttribute("data-command").toLowerCase()&&(g=c[f],/^\./.test(g)?e.hasClass(d,g.replace(/^\./,"")):d.style[g])){o=!0;break}d=d.parentNode}if(!o)break}o?e.addClass(u,"active"):e.removeClass(u,"active")}},pickup:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null,n=null;for(;!i&&!/UL/i.test(t.tagName);){if(i=t.getAttribute("data-command"),i){n=t.firstChild;break}t=t.parentNode}if(!i)return;const l=n.style.cssText.replace(/:.+(;|$)/g,",").split(",");l.pop();const r=n.classList;for(let o=0,f=r.length;o<f;o++)l.push("."+r[o]);const u=this.util.hasClass(t,"active")?null:n.cloneNode(!1),c=u?null:[n.nodeName];this.nodeChange(u,l,c,!0),this.submenuOff()}};var Qs={exports:{}};(function(e){(function(t,i){e.exports=t.document?i(t,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_MODULES a window with a document");return i(n)}})(typeof window<"u"?window:Ue,function(t,i){const n={name:"dialog",add:function(l){const r=l.context;r.dialog={kind:"",updateModal:!1,_closeSignal:!1};let u=l.util.createElement("DIV");u.className="se-dialog sun-editor-common";let c=l.util.createElement("DIV");c.className="se-dialog-back",c.style.display="none";let o=l.util.createElement("DIV");o.className="se-dialog-inner",o.style.display="none",u.appendChild(c),u.appendChild(o),r.dialog.modalArea=u,r.dialog.back=c,r.dialog.modal=o,r.dialog.modal.addEventListener("mousedown",this._onMouseDown_dialog.bind(l)),r.dialog.modal.addEventListener("click",this._onClick_dialog.bind(l)),r.element.relative.appendChild(u),u=null,c=null,o=null},_onMouseDown_dialog:function(l){/se-dialog-inner/.test(l.target.className)?this.context.dialog._closeSignal=!0:this.context.dialog._closeSignal=!1},_onClick_dialog:function(l){(/close/.test(l.target.getAttribute("data-command"))||this.context.dialog._closeSignal)&&this.plugins.dialog.close.call(this)},open:function(l,r){if(this.modalForm)return!1;this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null),this.plugins.dialog._bindClose=(function(c){/27/.test(c.keyCode)&&this.plugins.dialog.close.call(this)}).bind(this),this._d.addEventListener("keydown",this.plugins.dialog._bindClose),this.context.dialog.updateModal=r,this.options.popupDisplay==="full"?this.context.dialog.modalArea.style.position="fixed":this.context.dialog.modalArea.style.position="absolute",this.context.dialog.kind=l,this.modalForm=this.context[l].modal;const u=this.context[l].focusElement;typeof this.plugins[l].on=="function"&&this.plugins[l].on.call(this,r),this.context.dialog.modalArea.style.display="block",this.context.dialog.back.style.display="block",this.context.dialog.modal.style.display="block",this.modalForm.style.display="block",u&&u.focus()},_bindClose:null,close:function(){this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null);const l=this.context.dialog.kind;this.modalForm.style.display="none",this.context.dialog.back.style.display="none",this.context.dialog.modalArea.style.display="none",this.context.dialog.updateModal=!1,typeof this.plugins[l].init=="function"&&this.plugins[l].init.call(this),this.context.dialog.kind="",this.modalForm=null,this.focus()}};return typeof i>"u"&&(t.SUNEDITOR_MODULES||Object.defineProperty(t,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(t.SUNEDITOR_MODULES,"dialog",{enumerable:!0,writable:!1,configurable:!1,value:n})),n})})(Qs);var sg=Qs.exports;const yn=nn(sg),rg={name:"selectMenu",add:function(e){e.context.selectMenu={caller:{},callerContext:null}},setForm:function(){return'<div class="se-select-list"></div>'},createList:function(e,t,i){e.form.innerHTML="<ul>"+i+"</ul>",e.items=t,e.menus=e.form.querySelectorAll("li")},initEvent:function(e,t){const i=t.querySelector(".se-select-list"),n=this.context.selectMenu.caller[e]={form:i,items:[],menus:[],index:-1,item:null,clickMethod:null,callerName:e};i.addEventListener("mousedown",this.plugins.selectMenu.onMousedown_list),i.addEventListener("mousemove",this.plugins.selectMenu.onMouseMove_list.bind(this,n)),i.addEventListener("click",this.plugins.selectMenu.onClick_list.bind(this,n))},onMousedown_list:function(e){e.preventDefault(),e.stopPropagation()},onMouseMove_list:function(e,t){this.util.addClass(e.form,"__se_select-menu-mouse-move");const i=t.target.getAttribute("data-index");i&&(e.index=i*1)},onClick_list:function(e,t){const i=t.target.getAttribute("data-index");i&&e.clickMethod.call(this,e.items[i])},moveItem:function(e,t){this.util.removeClass(e.form,"__se_select-menu-mouse-move"),t=e.index+t;const i=e.menus,n=i.length,l=e.index=t>=n?0:t<0?n-1:t;for(let r=0;r<n;r++)r===l?this.util.addClass(i[r],"active"):this.util.removeClass(i[r],"active");e.item=e.items[l]},getItem:function(e,t){return t=!t||t<0?e.index:t,e.items[t]},on:function(e,t){const i=this.context.selectMenu.caller[e];this.context.selectMenu.callerContext=i,i.clickMethod=t,i.callerName=e},open:function(e,t){const i=e.form;i.style.visibility="hidden",i.style.display="block",t(i),i.style.visibility=""},close:function(e){e.form.style.display="none",e.items=[],e.menus=[],e.index=-1,e.item=null},init:function(e){e&&(e.items=[],e.menus=[],e.index=-1,e.item=null,e.callerName="",this.context.selectMenu.callerContext=null)}},er={name:"anchor",add:function(e){e.addModule([rg]),e.context.anchor={caller:{},forms:this.setDialogForm(e),host:(e._w.location.origin+e._w.location.pathname).replace(/\/$/,""),callerContext:null}},setDialogForm:function(e){const t=e.lang,i=e.options.linkRel,n=(e.options.linkRelDefault.default||"").split(" "),l=e.icons,r=e.util.createElement("DIV");let u='<div class="se-dialog-body"><div class="se-dialog-form"><label>'+t.dialogBox.linkBox.url+'</label><div class="se-dialog-form-files"><input class="se-input-form se-input-url" type="text" placeholder="'+(e.options.protocol||"")+'" /><button type="button" class="se-btn se-dialog-files-edge-button _se_bookmark_button" title="'+t.dialogBox.linkBox.bookmark+'" aria-label="'+t.dialogBox.linkBox.bookmark+'">'+l.bookmark+"</button>"+e.plugins.selectMenu.setForm()+'</div><div class="se-anchor-preview-form"><span class="se-svg se-anchor-preview-icon _se_anchor_bookmark_icon">'+l.bookmark+'</span><span class="se-svg se-anchor-preview-icon _se_anchor_download_icon">'+l.download+'</span><pre class="se-link-preview"></pre></div></div><div class="se-dialog-form"><label>'+t.dialogBox.linkBox.text+'</label><input class="se-input-form _se_anchor_text" type="text" /></div><div class="se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_anchor_check" />&nbsp;'+t.dialogBox.linkBox.newWindowCheck+'</label><label><input type="checkbox" class="se-dialog-btn-check _se_anchor_download" />&nbsp;'+t.dialogBox.linkBox.downloadLinkCheck+"</label>";if(i.length>0){u+='<div class="se-anchor-rel"><button type="button" class="se-btn se-btn-select se-anchor-rel-btn">&lt;rel&gt;</button><div class="se-anchor-rel-wrapper"><pre class="se-link-preview se-anchor-rel-preview"></pre></div><div class="se-list-layer"><div class="se-list-inner"><ul class="se-list-basic se-list-checked">';for(let c=0,o=i.length,f;c<o;c++)f=i[c],u+='<li><button type="button" class="se-btn-list'+(n.indexOf(f)>-1?" se-checked":"")+'" data-command="'+f+'" title="'+f+'" aria-label="'+f+'"><span class="se-svg">'+l.checked+"</span>"+f+"</button></li>";u+="</ul></div></div></div>"}return u+="</div></div>",r.innerHTML=u,r},initEvent:function(e,t){const i=this.plugins.anchor,n=this.context.anchor.caller[e]={modal:t,urlInput:null,linkDefaultRel:this.options.linkRelDefault,defaultRel:this.options.linkRelDefault.default||"",currentRel:[],linkAnchor:null,linkValue:"",_change:!1,callerName:e};typeof n.linkDefaultRel.default=="string"&&(n.linkDefaultRel.default=n.linkDefaultRel.default.trim()),typeof n.linkDefaultRel.check_new_window=="string"&&(n.linkDefaultRel.check_new_window=n.linkDefaultRel.check_new_window.trim()),typeof n.linkDefaultRel.check_bookmark=="string"&&(n.linkDefaultRel.check_bookmark=n.linkDefaultRel.check_bookmark.trim()),n.urlInput=t.querySelector(".se-input-url"),n.anchorText=t.querySelector("._se_anchor_text"),n.newWindowCheck=t.querySelector("._se_anchor_check"),n.downloadCheck=t.querySelector("._se_anchor_download"),n.download=t.querySelector("._se_anchor_download_icon"),n.preview=t.querySelector(".se-link-preview"),n.bookmark=t.querySelector("._se_anchor_bookmark_icon"),n.bookmarkButton=t.querySelector("._se_bookmark_button"),this.plugins.selectMenu.initEvent.call(this,e,t);const l=this.context.selectMenu.caller[e];this.options.linkRel.length>0&&(n.relButton=t.querySelector(".se-anchor-rel-btn"),n.relList=t.querySelector(".se-list-layer"),n.relPreview=t.querySelector(".se-anchor-rel-preview"),n.relButton.addEventListener("click",i.onClick_relButton.bind(this,n)),n.relList.addEventListener("click",i.onClick_relList.bind(this,n))),n.newWindowCheck.addEventListener("change",i.onChange_newWindowCheck.bind(this,n)),n.downloadCheck.addEventListener("change",i.onChange_downloadCheck.bind(this,n)),n.anchorText.addEventListener("input",i.onChangeAnchorText.bind(this,n)),n.urlInput.addEventListener("input",i.onChangeUrlInput.bind(this,n)),n.urlInput.addEventListener("keydown",i.onKeyDownUrlInput.bind(this,l)),n.urlInput.addEventListener("focus",i.onFocusUrlInput.bind(this,n,l)),n.urlInput.addEventListener("blur",i.onBlurUrlInput.bind(this,l)),n.bookmarkButton.addEventListener("click",i.onClick_bookmarkButton.bind(this,n))},on:function(e,t){const i=this.plugins.anchor;if(!t)i.init.call(this,e),e.anchorText.value=this.getSelection().toString().trim(),e.newWindowCheck.checked=this.options.linkTargetNewWindow;else if(e.linkAnchor){this.context.dialog.updateModal=!0;const n=e.linkAnchor.getAttribute("href");e.linkValue=e.preview.textContent=e.urlInput.value=i.selfPathBookmark.call(this,n)?n.substr(n.lastIndexOf("#")):n,e.anchorText.value=e.linkAnchor.textContent,e.newWindowCheck.checked=!!/_blank/i.test(e.linkAnchor.target),e.downloadCheck.checked=e.linkAnchor.download}this.context.anchor.callerContext=e,i.setRel.call(this,e,t&&e.linkAnchor?e.linkAnchor.rel:e.defaultRel),i.setLinkPreview.call(this,e,e.linkValue),this.plugins.selectMenu.on.call(this,e.callerName,this.plugins.anchor.setHeaderBookmark)},selfPathBookmark:function(e){const t=this._w.location.href.replace(/\/$/,"");return e.indexOf("#")===0||e.indexOf(t)===0&&e.indexOf("#")===(t.indexOf("#")===-1?t.length:t.substr(0,t.indexOf("#")).length)},_closeRelMenu:null,toggleRelList:function(e,t){if(!t)this.plugins.anchor._closeRelMenu&&this.plugins.anchor._closeRelMenu();else{const i=e.relButton,n=e.relList;this.util.addClass(i,"active"),n.style.visibility="hidden",n.style.display="block",this.options.rtl?n.style.left=i.offsetLeft-n.offsetWidth-1+"px":n.style.left=i.offsetLeft+i.offsetWidth+1+"px",n.style.top=i.offsetTop+i.offsetHeight/2-n.offsetHeight/2+"px",n.style.visibility="",this.plugins.anchor._closeRelMenu=(function(l,r,u){u&&(l.relButton.contains(u.target)||l.relList.contains(u.target))||(this.util.removeClass(r,"active"),l.relList.style.display="none",this.modalForm.removeEventListener("click",this.plugins.anchor._closeRelMenu),this.plugins.anchor._closeRelMenu=null)}).bind(this,e,i),this.modalForm.addEventListener("click",this.plugins.anchor._closeRelMenu)}},onClick_relButton:function(e,t){this.plugins.anchor.toggleRelList.call(this,e,!this.util.hasClass(t.target,"active"))},onClick_relList:function(e,t){const i=t.target,n=i.getAttribute("data-command");if(!n)return;const l=e.currentRel,r=this.util.toggleClass(i,"se-checked"),u=l.indexOf(n);r?u===-1&&l.push(n):u>-1&&l.splice(u,1),e.relPreview.title=e.relPreview.textContent=l.join(" ")},setRel:function(e,t){const i=e.relList,n=e.currentRel=t?t.split(" "):[];if(!i)return;const l=i.querySelectorAll("button");for(let r=0,u=l.length,c;r<u;r++)c=l[r].getAttribute("data-command"),n.indexOf(c)>-1?this.util.addClass(l[r],"se-checked"):this.util.removeClass(l[r],"se-checked");e.relPreview.title=e.relPreview.textContent=n.join(" ")},createHeaderList:function(e,t,i){const n=this.util.getListChildren(this.context.element.wysiwyg,function(c){return/h[1-6]/i.test(c.nodeName)});if(n.length===0)return;const l=new this._w.RegExp("^"+i.replace(/^#/,""),"i"),r=[];let u="";for(let c=0,o=n.length,f;c<o;c++)f=n[c],l.test(f.textContent)&&(r.push(f),u+='<li class="se-select-item" data-index="'+c+'">'+f.textContent+"</li>");r.length===0?this.plugins.selectMenu.close.call(this,t):(this.plugins.selectMenu.createList(t,r,u),this.plugins.selectMenu.open.call(this,t,this.plugins.anchor._setMenuListPosition.bind(this,e)))},_setMenuListPosition:function(e,t){t.style.top=e.urlInput.offsetHeight+1+"px"},onKeyDownUrlInput:function(e,t){switch(t.keyCode){case 38:t.preventDefault(),t.stopPropagation(),this.plugins.selectMenu.moveItem.call(this,e,-1);break;case 40:t.preventDefault(),t.stopPropagation(),this.plugins.selectMenu.moveItem.call(this,e,1);break;case 13:e.index>-1&&(t.preventDefault(),t.stopPropagation(),this.plugins.anchor.setHeaderBookmark.call(this,this.plugins.selectMenu.getItem(e,null)));break}},setHeaderBookmark:function(e){const t=this.context.anchor.callerContext,i=e.id||"h_"+this._w.Math.random().toString().replace(/.+\./,"");e.id=i,t.urlInput.value="#"+i,(!t.anchorText.value.trim()||!t._change)&&(t.anchorText.value=e.textContent),this.plugins.anchor.setLinkPreview.call(this,t,t.urlInput.value),this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext),this.context.anchor.callerContext.urlInput.focus()},onChangeAnchorText:function(e,t){e._change=!!t.target.value.trim()},onChangeUrlInput:function(e,t){const i=t.target.value.trim();this.plugins.anchor.setLinkPreview.call(this,e,i),this.plugins.anchor.selfPathBookmark.call(this,i)?this.plugins.anchor.createHeaderList.call(this,e,this.context.selectMenu.callerContext,i):this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext)},onFocusUrlInput:function(e,t){const i=e.urlInput.value;this.plugins.anchor.selfPathBookmark.call(this,i)&&this.plugins.anchor.createHeaderList.call(this,e,t,i)},onBlurUrlInput:function(e){this.plugins.selectMenu.close.call(this,e)},setLinkPreview:function(e,t){const i=e.preview,n=this.options.linkProtocol,l=this.options.linkNoPrefix,r=/^(mailto\:|tel\:|sms\:|https*\:\/\/|#)/.test(t)||t.indexOf(n)===0,u=n?this._w.RegExp("^"+this.util.escapeStringRegexp(t.substr(0,n.length))).test(n):!1;t=e.linkValue=i.textContent=t?l?t:n&&!r&&!u?n+t:r?t:/^www\./.test(t)?"http://"+t:this.context.anchor.host+(/^\//.test(t)?"":"/")+t:"",this.plugins.anchor.selfPathBookmark.call(this,t)?(e.bookmark.style.display="block",this.util.addClass(e.bookmarkButton,"active")):(e.bookmark.style.display="none",this.util.removeClass(e.bookmarkButton,"active")),!this.plugins.anchor.selfPathBookmark.call(this,t)&&e.downloadCheck.checked?e.download.style.display="block":e.download.style.display="none"},setCtx:function(e,t){e&&(t.linkAnchor=e,t.linkValue=e.href,t.currentRel=e.rel.split(" "))},updateAnchor:function(e,t,i,n,l){!this.plugins.anchor.selfPathBookmark.call(this,t)&&n.downloadCheck.checked?e.setAttribute("download",i||t):e.removeAttribute("download"),n.newWindowCheck.checked?e.target="_blank":e.removeAttribute("target");const r=n.currentRel.join(" ");r?e.rel=r:e.removeAttribute("rel"),e.href=t,l?e.children.length===0&&(e.textContent=""):e.textContent=i},createAnchor:function(e,t){if(e.linkValue.length===0)return null;const i=e.linkValue,n=e.anchorText,l=n.value.length===0?i:n.value,r=e.linkAnchor||this.util.createElement("A");return this.plugins.anchor.updateAnchor.call(this,r,i,l,e,t),e.linkValue=e.preview.textContent=e.urlInput.value=e.anchorText.value="",r},onClick_bookmarkButton:function(e){let t=e.urlInput.value;this.plugins.anchor.selfPathBookmark.call(this,t)?(t=t.substr(1),e.bookmark.style.display="none",this.util.removeClass(e.bookmarkButton,"active"),this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext)):(t="#"+t,e.bookmark.style.display="block",this.util.addClass(e.bookmarkButton,"active"),e.downloadCheck.checked=!1,e.download.style.display="none",this.plugins.anchor.createHeaderList.call(this,e,this.context.selectMenu.callerContext,t)),e.urlInput.value=t,this.plugins.anchor.setLinkPreview.call(this,e,t),e.urlInput.focus()},onChange_newWindowCheck:function(e,t){typeof e.linkDefaultRel.check_new_window=="string"&&(t.target.checked?this.plugins.anchor.setRel.call(this,e,this.plugins.anchor._relMerge.call(this,e,e.linkDefaultRel.check_new_window)):this.plugins.anchor.setRel.call(this,e,this.plugins.anchor._relDelete.call(this,e,e.linkDefaultRel.check_new_window)))},onChange_downloadCheck:function(e,t){t.target.checked?(e.download.style.display="block",e.bookmark.style.display="none",this.util.removeClass(e.bookmarkButton,"active"),e.linkValue=e.preview.textContent=e.urlInput.value=e.urlInput.value.replace(/^\#+/,""),typeof e.linkDefaultRel.check_bookmark=="string"&&this.plugins.anchor.setRel.call(this,e,this.plugins.anchor._relMerge.call(this,e,e.linkDefaultRel.check_bookmark))):(e.download.style.display="none",typeof e.linkDefaultRel.check_bookmark=="string"&&this.plugins.anchor.setRel.call(this,e,this.plugins.anchor._relDelete.call(this,e,e.linkDefaultRel.check_bookmark)))},_relMerge:function(e,t){const i=e.currentRel;if(!t)return i.join(" ");if(/^only\:/.test(t))return t=t.replace(/^only\:/,"").trim(),e.currentRel=t.split(" "),t;const n=t.split(" ");for(let l=0,r=n.length,u;l<r;l++)u=i.indexOf(n[l]),u===-1&&i.push(n[l]);return i.join(" ")},_relDelete:function(e,t){if(!t)return e.currentRel.join(" ");/^only\:/.test(t)&&(t=t.replace(/^only\:/,"").trim());const i=e.currentRel.join(" ").replace(this._w.RegExp(t+"\\s*"),"");return e.currentRel=i.split(" "),i},init:function(e){e.linkAnchor=null,e.linkValue=e.preview.textContent=e.urlInput.value="",e.anchorText.value="",e.newWindowCheck.checked=!1,e.downloadCheck.checked=!1,e._change=!1,this.plugins.anchor.setRel.call(this,e,e.defaultRel),e.relList&&this.plugins.anchor.toggleRelList.call(this,e,!1),this.context.anchor.callerContext=null,this.plugins.selectMenu.init.call(this,this.context.selectMenu.callerContext)}},tr={name:"link",display:"dialog",add:function(e){e.addModule([yn,er]);const t=e.context,i=t.link={focusElement:null,_linkAnchor:null,anchorCtx:null};let n=this.setDialog(e);i.modal=n;let l=this.setController_LinkButton(e);i.linkController=l,n.querySelector("form").addEventListener("submit",this.submit.bind(e)),l.addEventListener("click",this.onClick_linkController.bind(e)),t.dialog.modal.appendChild(n),t.element.relative.appendChild(l),e.plugins.anchor.initEvent.call(e,"link",n),i.focusElement=t.anchor.caller.link.urlInput,n=null,l=null},setDialog:function(e){const t=e.lang,i=e.util.createElement("DIV"),n=e.icons;i.className="se-dialog-content",i.style.display="none";let l='<form><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+t.dialogBox.close+'" aria-label="'+t.dialogBox.close+'">'+n.cancel+'</button><span class="se-modal-title">'+t.dialogBox.linkBox.title+"</span></div>"+e.context.anchor.forms.innerHTML+'<div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+t.dialogBox.submitButton+'" aria-label="'+t.dialogBox.submitButton+'"><span>'+t.dialogBox.submitButton+"</span></button></div></form>";return i.innerHTML=l,i},setController_LinkButton:function(e){const t=e.lang,i=e.icons,n=e.util.createElement("DIV");return n.className="se-controller se-controller-link",n.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><span><a target="_blank" href=""></a>&nbsp;</span><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+i.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.edit+'</span></span></button><button type="button" data-command="unlink" tabindex="-1" class="se-btn se-tooltip">'+i.unlink+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.unlink+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div></div>",n},open:function(){this.plugins.dialog.open.call(this,"link",this.currentControllerName==="link")},submit:function(e){this.showLoading(),e.preventDefault(),e.stopPropagation();try{const t=this.plugins.anchor.createAnchor.call(this,this.context.anchor.caller.link,!1);if(t===null)return;if(this.context.dialog.updateModal){const i=this.context.link._linkAnchor.childNodes[0];this.setRange(i,0,i,i.textContent.length)}else{const i=this.getSelectedElements();if(i.length>1){const n=this.util.createElement(i[0].nodeName);if(n.appendChild(t),!this.insertNode(n,null,!0))return}else if(!this.insertNode(t,null,!0))return;this.setRange(t.childNodes[0],0,t.childNodes[0],t.textContent.length)}}finally{this.plugins.dialog.close.call(this),this.closeLoading(),this.history.push(!1)}return!1},active:function(e){if(!e)this.controllerArray.indexOf(this.context.link.linkController)>-1&&this.controllersOff();else if(this.util.isAnchor(e)&&e.getAttribute("data-image-link")===null)return this.controllerArray.indexOf(this.context.link.linkController)<0&&this.plugins.link.call_controller.call(this,e),!0;return!1},on:function(e){this.plugins.anchor.on.call(this,this.context.anchor.caller.link,e)},call_controller:function(e){this.editLink=this.context.link._linkAnchor=this.context.anchor.caller.link.linkAnchor=e;const t=this.context.link.linkController,i=t.querySelector("a");i.href=e.href,i.title=e.textContent,i.textContent=e.textContent,this.util.addClass(e,"on"),this.setControllerPosition(t,e,"bottom",{left:0,top:0}),this.controllersOn(t,e,"link",this.util.removeClass.bind(this.util,this.context.link._linkAnchor,"on"))},onClick_linkController:function(e){e.stopPropagation();const t=e.target.getAttribute("data-command")||e.target.parentNode.getAttribute("data-command");if(t){if(e.preventDefault(),/update/.test(t))this.plugins.dialog.open.call(this,"link",!0);else if(/unlink/.test(t)){const i=this.util.getChildElement(this.context.link._linkAnchor,function(l){return l.childNodes.length===0||l.nodeType===3},!1),n=this.util.getChildElement(this.context.link._linkAnchor,function(l){return l.childNodes.length===0||l.nodeType===3},!0);this.setRange(i,0,n,n.textContent.length),this.nodeChange(null,null,["A"],!1)}else this.util.removeItem(this.context.link._linkAnchor),this.context.anchor.caller.link.linkAnchor=null,this.focus(),this.history.push(!1);this.controllersOff()}},init:function(){this.context.link.linkController.style.display="none",this.plugins.anchor.init.call(this,this.context.anchor.caller.link)}};var nr={exports:{}};(function(e){(function(t,i){e.exports=t.document?i(t,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_MODULES a window with a document");return i(n)}})(typeof window<"u"?window:Ue,function(t,i){const n={name:"component",set_container:function(l,r){const u=this.util.createElement("DIV");return u.className="se-component "+r,u.appendChild(l),u},set_cover:function(l){const r=this.util.createElement("FIGURE");return r.appendChild(l),r},create_caption:function(){const l=this.util.createElement("FIGCAPTION");return l.innerHTML="<div>"+this.lang.dialogBox.caption+"</div>",l}};return typeof i>"u"&&(t.SUNEDITOR_MODULES||Object.defineProperty(t,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(t.SUNEDITOR_MODULES,"component",{enumerable:!0,writable:!1,configurable:!1,value:n})),n})})(nr);var ag=nr.exports;const rl=nn(ag);var ir={exports:{}};(function(e){(function(t,i){e.exports=t.document?i(t,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_MODULES a window with a document");return i(n)}})(typeof window<"u"?window:Ue,function(t,i){const n={name:"resizing",add:function(l){const r=l.icons,u=l.context;u.resizing={_resizeClientX:0,_resizeClientY:0,_resize_plugin:"",_resize_w:0,_resize_h:0,_origin_w:0,_origin_h:0,_rotateVertical:!1,_resize_direction:"",_move_path:null,_isChange:!1,alignIcons:{basic:r.align_justify,left:r.align_left,right:r.align_right,center:r.align_center}};let c=this.setController_resize(l);u.resizing.resizeContainer=c,u.resizing.resizeDiv=c.querySelector(".se-modal-resize"),u.resizing.resizeDot=c.querySelector(".se-resize-dot"),u.resizing.resizeDisplay=c.querySelector(".se-resize-display");let o=this.setController_button(l);u.resizing.resizeButton=o;let f=u.resizing.resizeHandles=u.resizing.resizeDot.querySelectorAll("span");u.resizing.resizeButtonGroup=o.querySelector("._se_resizing_btn_group"),u.resizing.rotationButtons=o.querySelectorAll("._se_resizing_btn_group ._se_rotation"),u.resizing.percentageButtons=o.querySelectorAll("._se_resizing_btn_group ._se_percentage"),u.resizing.alignMenu=o.querySelector(".se-resizing-align-list"),u.resizing.alignMenuList=u.resizing.alignMenu.querySelectorAll("button"),u.resizing.alignButton=o.querySelector("._se_resizing_align_button"),u.resizing.autoSizeButton=o.querySelector("._se_resizing_btn_group ._se_auto_size"),u.resizing.captionButton=o.querySelector("._se_resizing_caption_button"),c.addEventListener("mousedown",function(d){d.preventDefault()}),f[0].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(l)),f[1].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(l)),f[2].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(l)),f[3].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(l)),f[4].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(l)),f[5].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(l)),f[6].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(l)),f[7].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(l)),o.addEventListener("click",this.onClick_resizeButton.bind(l)),u.element.relative.appendChild(c),u.element.relative.appendChild(o),c=null,o=null,f=null},setController_resize:function(l){const r=l.util.createElement("DIV");return r.className="se-controller se-resizing-container",r.style.display="none",r.innerHTML='<div class="se-modal-resize"></div><div class="se-resize-dot"><span class="tl"></span><span class="tr"></span><span class="bl"></span><span class="br"></span><span class="lw"></span><span class="th"></span><span class="rw"></span><span class="bh"></span><div class="se-resize-display"></div></div>',r},setController_button:function(l){const r=l.lang,u=l.icons,c=l.util.createElement("DIV");return c.className="se-controller se-controller-resizing",c.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="se-btn-group _se_resizing_btn_group"><button type="button" data-command="percent" data-value="1" class="se-tooltip _se_percentage"><span>100%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.controller.resize100+'</span></span></button><button type="button" data-command="percent" data-value="0.75" class="se-tooltip _se_percentage"><span>75%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.controller.resize75+'</span></span></button><button type="button" data-command="percent" data-value="0.5" class="se-tooltip _se_percentage"><span>50%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.controller.resize50+'</span></span></button><button type="button" data-command="auto" class="se-btn se-tooltip _se_auto_size">'+u.auto_size+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.controller.autoSize+'</span></span></button><button type="button" data-command="rotate" data-value="-90" class="se-btn se-tooltip _se_rotation">'+u.rotate_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.controller.rotateLeft+'</span></span></button><button type="button" data-command="rotate" data-value="90" class="se-btn se-tooltip _se_rotation">'+u.rotate_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.controller.rotateRight+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="mirror" data-value="h" class="se-btn se-tooltip">'+u.mirror_horizontal+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.controller.mirrorHorizontal+'</span></span></button><button type="button" data-command="mirror" data-value="v" class="se-btn se-tooltip">'+u.mirror_vertical+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.controller.mirrorVertical+'</span></span></button><button type="button" data-command="onalign" class="se-btn se-tooltip _se_resizing_align_button">'+u.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.toolbar.align+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer se-resizing-align-list"><div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="basic">'+u.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.dialogBox.basic+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="left">'+u.align_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.dialogBox.left+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="center">'+u.align_center+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.dialogBox.center+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="right">'+u.align_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.dialogBox.right+'</span></span></button></li></ul></div></div><button type="button" data-command="caption" class="se-btn se-tooltip _se_resizing_caption_button">'+u.caption+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.dialogBox.caption+'</span></span></button><button type="button" data-command="revert" class="se-btn se-tooltip">'+u.revert+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.dialogBox.revertButton+'</span></span></button><button type="button" data-command="update" class="se-btn se-tooltip">'+u.modify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.controller.edit+'</span></span></button><button type="button" data-command="delete" class="se-btn se-tooltip">'+u.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.controller.remove+"</span></span></button></div>",c},_module_getSizeX:function(l,r,u,c){return r||(r=l._element),u||(u=l._cover),c||(c=l._container),r?/%$/.test(r.style.width)?(c&&this.util.getNumber(c.style.width,2)||100)+"%":r.style.width:""},_module_getSizeY:function(l,r,u,c){return r||(r=l._element),u||(u=l._cover),c||(c=l._container),!c||!u?r&&r.style.height||"":this.util.getNumber(u.style.paddingBottom,0)>0&&!this.context.resizing._rotateVertical?u.style.height:!/%$/.test(r.style.height)||!/%$/.test(r.style.width)?r.style.height:(c&&this.util.getNumber(c.style.height,2)||100)+"%"},_module_setModifyInputSize:function(l,r){const u=l._onlyPercentage&&this.context.resizing._rotateVertical;l.proportion.checked=l._proportionChecked=l._element.getAttribute("data-proportion")!=="false";let c=u?"":this.plugins.resizing._module_getSizeX.call(this,l);if(c===l._defaultSizeX&&(c=""),l._onlyPercentage&&(c=this.util.getNumber(c,2)),l.inputX.value=c,r.setInputSize.call(this,"x"),!l._onlyPercentage){let o=u?"":this.plugins.resizing._module_getSizeY.call(this,l);o===l._defaultSizeY&&(o=""),l._onlyPercentage&&(o=this.util.getNumber(o,2)),l.inputY.value=o}l.inputX.disabled=!!u,l.inputY.disabled=!!u,l.proportion.disabled=!!u,r.setRatio.call(this)},_module_setInputSize:function(l,r){if(l._onlyPercentage){r==="x"&&l.inputX.value>100&&(l.inputX.value=100);return}if(l.proportion.checked&&l._ratio&&/\d/.test(l.inputX.value)&&/\d/.test(l.inputY.value)){const u=l.inputX.value.replace(/\d+|\./g,"")||l.sizeUnit,c=l.inputY.value.replace(/\d+|\./g,"")||l.sizeUnit;if(u!==c)return;const o=u==="%"?2:0;r==="x"?l.inputY.value=this.util.getNumber(l._ratioY*this.util.getNumber(l.inputX.value,o),o)+c:l.inputX.value=this.util.getNumber(l._ratioX*this.util.getNumber(l.inputY.value,o),o)+u}},_module_setRatio:function(l){const r=l.inputX.value,u=l.inputY.value;if(l.proportion.checked&&/\d+/.test(r)&&/\d+/.test(u)){const c=r.replace(/\d+|\./g,"")||l.sizeUnit,o=u.replace(/\d+|\./g,"")||l.sizeUnit;if(c!==o)l._ratio=!1;else if(!l._ratio){const f=this.util.getNumber(r,0),d=this.util.getNumber(u,0);l._ratio=!0,l._ratioX=f/d,l._ratioY=d/f}}else l._ratio=!1},_module_sizeRevert:function(l){l._onlyPercentage?l.inputX.value=l._origin_w>100?100:l._origin_w:(l.inputX.value=l._origin_w,l.inputY.value=l._origin_h)},_module_saveCurrentSize:function(l){const r=this.plugins.resizing._module_getSizeX.call(this,l),u=this.plugins.resizing._module_getSizeY.call(this,l);l._element.setAttribute("width",r.replace("px","")),l._element.setAttribute("height",u.replace("px","")),l._element.setAttribute("data-size",r+","+u),l._videoRatio&&(l._videoRatio=u)},call_controller_resize:function(l,r){const u=this.context.resizing,c=this.context[r];u._resize_plugin=r;const o=u.resizeContainer,f=u.resizeDiv,d=this.util.getOffset(l,this.context.element.wysiwygFrame),g=u._rotateVertical=/^(90|270)$/.test(Math.abs(l.getAttribute("data-rotate")).toString()),y=g?l.offsetHeight:l.offsetWidth,_=g?l.offsetWidth:l.offsetHeight,S=d.top,T=d.left-this.context.element.wysiwygFrame.scrollLeft;o.style.top=S+"px",o.style.left=T+"px",o.style.width=y+"px",o.style.height=_+"px",f.style.top="0px",f.style.left="0px",f.style.width=y+"px",f.style.height=_+"px";let s=l.getAttribute("data-align")||"basic";s=s==="none"?"basic":s;const a=this.util.getParentElement(l,this.util.isComponent),h=this.util.getParentElement(l,"FIGURE"),p=this.plugins.resizing._module_getSizeX.call(this,c,l,h,a)||"auto",m=c._onlyPercentage&&r==="image"?"":", "+(this.plugins.resizing._module_getSizeY.call(this,c,l,h,a)||"auto");this.util.changeTxt(u.resizeDisplay,this.lang.dialogBox[s]+" ("+p+m+")"),u.resizeButtonGroup.style.display=c._resizing?"":"none";const v=c._resizing&&!c._resizeDotHide&&!c._onlyPercentage?"flex":"none",b=u.resizeHandles;for(let N=0,L=b.length;N<L;N++)b[N].style.display=v;if(c._resizing){const N=u.rotationButtons;N[0].style.display=N[1].style.display=c._rotation?"":"none"}if(c._alignHide)u.alignButton.style.display="none";else{u.alignButton.style.display="";const N=u.alignMenuList;this.util.changeElement(u.alignButton.firstElementChild,u.alignIcons[s]);for(let L=0,I=N.length;L<I;L++)N[L].getAttribute("data-value")===s?this.util.addClass(N[L],"on"):this.util.removeClass(N[L],"on")}const w=u.percentageButtons,E=/%$/.test(l.style.width)&&/%$/.test(a.style.width)?this.util.getNumber(a.style.width,0)/100+"":"";for(let N=0,L=w.length;N<L;N++)w[N].getAttribute("data-value")===E?this.util.addClass(w[N],"active"):this.util.removeClass(w[N],"active");c._captionShow?(u.captionButton.style.display="",this.util.getChildElement(l.parentNode,"figcaption")?(this.util.addClass(u.captionButton,"active"),c._captionChecked=!0):(this.util.removeClass(u.captionButton,"active"),c._captionChecked=!1)):u.captionButton.style.display="none",o.style.display="block";const x={left:0,top:50};this.options.iframe&&(x.left-=this.context.element.wysiwygFrame.parentElement.offsetLeft,x.top-=this.context.element.wysiwygFrame.parentElement.offsetTop),this.setControllerPosition(u.resizeButton,o,"bottom",x);const k=function(){this.util.setDisabledButtons.call(this.util,!1,this.resizingDisabledButtons),this.history._resetCachingButton()};this.controllersOn(o,u.resizeButton,k.bind(this),l,r),this.util.setDisabledButtons(!0,this.resizingDisabledButtons),u._resize_w=y,u._resize_h=_;const B=(l.getAttribute("origin-size")||"").split(",");return u._origin_w=B[0]||l.naturalWidth,u._origin_h=B[1]||l.naturalHeight,{w:y,h:_,t:S,l:T}},_closeAlignMenu:null,openAlignMenu:function(){const l=this.context.resizing.alignButton;this.util.addClass(l,"on"),this.context.resizing.alignMenu.style.top=l.offsetTop+l.offsetHeight+"px",this.context.resizing.alignMenu.style.left=l.offsetLeft-l.offsetWidth/2+"px",this.context.resizing.alignMenu.style.display="block",this.plugins.resizing._closeAlignMenu=(function(){this.util.removeClass(this.context.resizing.alignButton,"on"),this.context.resizing.alignMenu.style.display="none",this.removeDocEvent("click",this.plugins.resizing._closeAlignMenu),this.plugins.resizing._closeAlignMenu=null}).bind(this),this.addDocEvent("click",this.plugins.resizing._closeAlignMenu)},onClick_resizeButton:function(l){l.stopPropagation();const r=l.target,u=r.getAttribute("data-command")||r.parentNode.getAttribute("data-command");if(!u)return;const c=r.getAttribute("data-value")||r.parentNode.getAttribute("data-value"),o=this.context.resizing._resize_plugin,f=this.context[o],d=f._element,g=this.plugins[o];if(l.preventDefault(),!(typeof this.plugins.resizing._closeAlignMenu=="function"&&(this.plugins.resizing._closeAlignMenu(),u==="onalign"))){switch(u){case"auto":this.plugins.resizing.resetTransform.call(this,d),g.setAutoSize.call(this),this.selectComponent(d,o);break;case"percent":let y=this.plugins.resizing._module_getSizeY.call(this,f);if(this.context.resizing._rotateVertical){const v=d.getAttribute("data-percentage");v&&(y=v.split(",")[1])}this.plugins.resizing.resetTransform.call(this,d),g.setPercentSize.call(this,c*100,this.util.getNumber(y,0)===null||!/%$/.test(y)?"":y),this.selectComponent(d,o);break;case"mirror":const _=d.getAttribute("data-rotate")||"0";let S=d.getAttribute("data-rotateX")||"",T=d.getAttribute("data-rotateY")||"";c==="h"&&!this.context.resizing._rotateVertical||c==="v"&&this.context.resizing._rotateVertical?T=T?"":"180":S=S?"":"180",d.setAttribute("data-rotateX",S),d.setAttribute("data-rotateY",T),this.plugins.resizing._setTransForm(d,_,S,T);break;case"rotate":const s=this.context.resizing,a=d.getAttribute("data-rotate")*1+c*1,h=this._w.Math.abs(a)>=360?0:a;d.setAttribute("data-rotate",h),s._rotateVertical=/^(90|270)$/.test(this._w.Math.abs(h).toString()),this.plugins.resizing.setTransformSize.call(this,d,null,null),this.selectComponent(d,o);break;case"onalign":this.plugins.resizing.openAlignMenu.call(this);return;case"align":const p=c==="basic"?"none":c;g.setAlign.call(this,p,null,null,null),this.selectComponent(d,o);break;case"caption":const m=!f._captionChecked;if(g.openModify.call(this,!0),f._captionChecked=f.captionCheckEl.checked=m,g.update_image.call(this,!1,!1,!1),m){const v=this.util.getChildElement(f._caption,function(b){return b.nodeType===3});v?this.setRange(v,0,v,v.textContent.length):f._caption.focus(),this.controllersOff()}else this.selectComponent(d,o),g.openModify.call(this,!0);break;case"revert":g.setOriginSize.call(this),this.selectComponent(d,o);break;case"update":g.openModify.call(this),this.controllersOff();break;case"delete":g.destroy.call(this);break}this.history.push(!1)}},resetTransform:function(l){const r=(l.getAttribute("data-size")||l.getAttribute("data-origin")||"").split(",");this.context.resizing._rotateVertical=!1,l.style.maxWidth="",l.style.transform="",l.style.transformOrigin="",l.setAttribute("data-rotate",""),l.setAttribute("data-rotateX",""),l.setAttribute("data-rotateY",""),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,r[0]?r[0]:"auto",r[1]?r[1]:"",!0)},setTransformSize:function(l,r,u){let c=l.getAttribute("data-percentage");const o=this.context.resizing._rotateVertical,f=l.getAttribute("data-rotate")*1;let d="";if(c&&!o)c=c.split(","),c[0]==="auto"&&c[1]==="auto"?this.plugins[this.context.resizing._resize_plugin].setAutoSize.call(this):this.plugins[this.context.resizing._resize_plugin].setPercentSize.call(this,c[0],c[1]);else{const g=this.util.getParentElement(l,"FIGURE"),y=r||l.offsetWidth,_=u||l.offsetHeight,S=(o?_:y)+"px",T=(o?y:_)+"px";if(this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,y+"px",_+"px",!0),g.style.width=S,g.style.height=this.context[this.context.resizing._resize_plugin]._caption?"":T,o){let s=y/2+"px "+y/2+"px 0",a=_/2+"px "+_/2+"px 0";d=f===90||f===-270?a:s}}l.style.transformOrigin=d,this.plugins.resizing._setTransForm(l,f.toString(),l.getAttribute("data-rotateX")||"",l.getAttribute("data-rotateY")||""),o?l.style.maxWidth="none":l.style.maxWidth="",this.plugins.resizing.setCaptionPosition.call(this,l)},_setTransForm:function(l,r,u,c){let o=(l.offsetWidth-l.offsetHeight)*(/-/.test(r)?1:-1),f="";if(/[1-9]/.test(r)&&(u||c))switch(f=u?"Y":"X",r){case"90":f=u&&c?"X":c?f:"";break;case"270":o*=-1,f=u&&c?"Y":u?f:"";break;case"-90":f=u&&c?"Y":u?f:"";break;case"-270":o*=-1,f=u&&c?"X":c?f:"";break;default:f=""}r%180===0&&(l.style.maxWidth=""),l.style.transform="rotate("+r+"deg)"+(u?" rotateX("+u+"deg)":"")+(c?" rotateY("+c+"deg)":"")+(f?" translate"+f+"("+o+"px)":"")},setCaptionPosition:function(l){const r=this.util.getChildElement(this.util.getParentElement(l,"FIGURE"),"FIGCAPTION");r&&(r.style.marginTop=(this.context.resizing._rotateVertical?l.offsetWidth-l.offsetHeight:0)+"px")},onMouseDown_resize_handle:function(l){l.stopPropagation(),l.preventDefault();const r=this.context.resizing,u=r._resize_direction=l.target.classList[0];r._resizeClientX=l.clientX,r._resizeClientY=l.clientY,this.context.element.resizeBackground.style.display="block",r.resizeButton.style.display="none",r.resizeDiv.style.float=/l/.test(u)?"right":/r/.test(u)?"left":"none";const c=(function(d){if(d.type==="keydown"&&d.keyCode!==27)return;const g=r._isChange;r._isChange=!1,this.removeDocEvent("mousemove",o),this.removeDocEvent("mouseup",c),this.removeDocEvent("keydown",c),d.type==="keydown"?(this.controllersOff(),this.context.element.resizeBackground.style.display="none",this.plugins[this.context.resizing._resize_plugin].init.call(this)):(this.plugins.resizing.cancel_controller_resize.call(this,u),g&&this.history.push(!1))}).bind(this),o=this.plugins.resizing.resizing_element.bind(this,r,u,this.context[r._resize_plugin]);this.addDocEvent("mousemove",o),this.addDocEvent("mouseup",c),this.addDocEvent("keydown",c)},resizing_element:function(l,r,u,c){const o=c.clientX,f=c.clientY;let d=u._element_w,g=u._element_h;const y=u._element_w+(/r/.test(r)?o-l._resizeClientX:l._resizeClientX-o),_=u._element_h+(/b/.test(r)?f-l._resizeClientY:l._resizeClientY-f),S=u._element_h/u._element_w*y;/t/.test(r)&&(l.resizeDiv.style.top=u._element_h-(/h/.test(r)?_:S)+"px"),/l/.test(r)&&(l.resizeDiv.style.left=u._element_w-y+"px"),/r|l/.test(r)&&(l.resizeDiv.style.width=y+"px",d=y),/^(t|b)[^h]$/.test(r)?(l.resizeDiv.style.height=S+"px",g=S):/^(t|b)h$/.test(r)&&(l.resizeDiv.style.height=_+"px",g=_),l._resize_w=d,l._resize_h=g,this.util.changeTxt(l.resizeDisplay,this._w.Math.round(d)+" x "+this._w.Math.round(g)),l._isChange=!0},cancel_controller_resize:function(l){const r=this.context.resizing._rotateVertical;this.controllersOff(),this.context.element.resizeBackground.style.display="none";let u=this._w.Math.round(r?this.context.resizing._resize_h:this.context.resizing._resize_w),c=this._w.Math.round(r?this.context.resizing._resize_w:this.context.resizing._resize_h);if(!r&&!/%$/.test(u)){const d=this.context.element.wysiwygFrame.clientWidth-32-2;this.util.getNumber(u,0)>d&&(c=this._w.Math.round(c/u*d),u=d)}const o=this.context.resizing._resize_plugin;this.plugins[o].setSize.call(this,u,c,!1,l),r&&this.plugins.resizing.setTransformSize.call(this,this.context[this.context.resizing._resize_plugin]._element,u,c),this.selectComponent(this.context[o]._element,o)}};return typeof i>"u"&&(t.SUNEDITOR_MODULES||Object.defineProperty(t,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(t.SUNEDITOR_MODULES,"resizing",{enumerable:!0,writable:!1,configurable:!1,value:n})),n})})(ir);var cg=ir.exports;const lr=nn(cg);var or={exports:{}};(function(e){(function(t,i){e.exports=t.document?i(t,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_MODULES a window with a document");return i(n)}})(typeof window<"u"?window:Ue,function(t,i){const n={name:"fileManager",_xmlHttp:null,_checkMediaComponent:function(l){return/IMG/i.test(l)?!/FIGURE/i.test(l.parentElement.nodeName)||!/FIGURE/i.test(l.parentElement.parentElement.nodeName):!0},upload:function(l,r,u,c,o){this.showLoading();const f=this.plugins.fileManager,d=f._xmlHttp=this.util.getXMLHttpRequest();if(d.onreadystatechange=f._callBackUpload.bind(this,d,c,o),d.open("post",l,!0),r!==null&&typeof r=="object"&&this._w.Object.keys(r).length>0)for(let g in r)d.setRequestHeader(g,r[g]);d.send(u)},_callBackUpload:function(l,r,u){if(l.readyState===4)if(l.status===200)try{r(l)}catch(c){throw Error('[SUNEDITOR.fileManager.upload.callBack.fail] cause : "'+c.message+'"')}finally{this.closeLoading()}else{this.closeLoading();const c=l.responseText?JSON.parse(l.responseText):l;if(typeof u!="function"||u("",c,this)){const o="[SUNEDITOR.fileManager.upload.serverException] status: "+l.status+", response: "+(c.errorMessage||l.responseText);throw this.functions.noticeOpen(o),Error(o)}}},checkInfo:function(l,r,u,c,o){let f=[];for(let a=0,h=r.length;a<h;a++)f=f.concat([].slice.call(this.context.element.wysiwyg.querySelectorAll(r[a]+':not([data-se-embed="true"])')));const d=this.plugins.fileManager,g=this.context[l],y=g._infoList,_=d.setInfo.bind(this);if(f.length===y.length)if(this._componentsInfoReset){for(let a=0,h=f.length;a<h;a++)_(l,f[a],u,null,o);return}else{let a=!1;for(let h=0,p=y.length,m;h<p;h++)if(m=y[h],f.filter(function(v){return m.src===v.src&&m.index.toString()===v.getAttribute("data-index")}).length===0){a=!0;break}if(!a)return}const S=o?this.context.resizing._resize_plugin:"";o&&(this.context.resizing._resize_plugin=l);const T=[],s=[];for(let a=0,h=y.length;a<h;a++)s[a]=y[a].index;for(g.__updateTags=f;f.length>0;){const a=f.shift();!this.util.getParentElement(a,this.util.isMediaComponent)||!d._checkMediaComponent(a)?(T.push(g._infoIndex),c(a)):!a.getAttribute("data-index")||s.indexOf(a.getAttribute("data-index")*1)<0?(T.push(g._infoIndex),a.removeAttribute("data-index"),_(l,a,u,null,o)):T.push(a.getAttribute("data-index")*1)}for(let a=0,h;a<y.length;a++)h=y[a].index,!(T.indexOf(h)>-1)&&(y.splice(a,1),typeof u=="function"&&u(null,h,"delete",null,0,this),a--);o&&(this.context.resizing._resize_plugin=S)},setInfo:function(l,r,u,c,o){const f=o?this.context.resizing._resize_plugin:"";o&&(this.context.resizing._resize_plugin=l);const d=this.plugins[l],g=this.context[l],y=g._infoList;let _=r.getAttribute("data-index"),S=null,T="";if(c||(c={name:r.getAttribute("data-file-name")||(typeof r.src=="string"?r.src.split("/").pop():""),size:r.getAttribute("data-file-size")||0}),!_||this._componentsInfoInit)T="create",_=g._infoIndex++,r.setAttribute("data-index",_),r.setAttribute("data-file-name",c.name),r.setAttribute("data-file-size",c.size),S={src:r.src,index:_*1,name:c.name,size:c.size},y.push(S);else{T="update",_*=1;for(let s=0,a=y.length;s<a;s++)if(_===y[s].index){S=y[s];break}S||(_=g._infoIndex++,S={index:_},y.push(S)),S.src=r.src,S.name=r.getAttribute("data-file-name"),S.size=r.getAttribute("data-file-size")*1}if(S.element=r,S.delete=d.destroy.bind(this,r),S.select=(function(s){s.scrollIntoView(!0),this._w.setTimeout(d.select.bind(this,s))}).bind(this,r),o){if(!r.getAttribute("origin-size")&&r.naturalWidth&&r.setAttribute("origin-size",r.naturalWidth+","+r.naturalHeight),!r.getAttribute("data-origin")){const s=this.util.getParentElement(r,this.util.isMediaComponent),a=this.util.getParentElement(r,"FIGURE"),h=this.plugins.resizing._module_getSizeX.call(this,g,r,a,s),p=this.plugins.resizing._module_getSizeY.call(this,g,r,a,s);r.setAttribute("data-origin",h+","+p),r.setAttribute("data-size",h+","+p)}if(!r.style.width){const s=(r.getAttribute("data-size")||r.getAttribute("data-origin")||"").split(",");d.onModifyMode.call(this,r,null),d.applySize.call(this,s[0],s[1])}this.context.resizing._resize_plugin=f}typeof u=="function"&&u(r,_,T,S,--g._uploadFileLength<0?0:g._uploadFileLength,this)},deleteInfo:function(l,r,u){if(r>=0){const c=this.context[l]._infoList;for(let o=0,f=c.length;o<f;o++)if(r===c[o].index){c.splice(o,1),typeof u=="function"&&u(null,r,"delete",null,0,this);return}}},resetInfo:function(l,r){const u=this.context[l];if(typeof r=="function"){const c=u._infoList;for(let o=0,f=c.length;o<f;o++)r(null,c[o].index,"delete",null,0,this)}u._infoList=[],u._infoIndex=0}};return typeof i>"u"&&(t.SUNEDITOR_MODULES||Object.defineProperty(t,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(t.SUNEDITOR_MODULES,"fileManager",{enumerable:!0,writable:!1,configurable:!1,value:n})),n})})(or);var dg=or.exports;const al=nn(dg),sr={name:"image",display:"dialog",add:function(e){e.addModule([yn,er,rl,lr,al]);const t=e.options,i=e.context,n=i.image={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,sizeUnit:t._imageSizeUnit,_linkElement:"",_altText:"",_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_v_src:{_linkValue:""},svgDefaultSize:"30%",base64RenderIndex:0,_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"auto",_defaultSizeY:"auto",_origin_w:t.imageWidth==="auto"?"":t.imageWidth,_origin_h:t.imageHeight==="auto"?"":t.imageHeight,_proportionChecked:!0,_resizing:t.imageResizing,_resizeDotHide:!t.imageHeightShow,_rotation:t.imageRotation,_alignHide:!t.imageAlignShow,_onlyPercentage:t.imageSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!0,_captionChecked:!1,_caption:null,captionCheckEl:null};let l=this.setDialog(e);n.modal=l,n.imgInputFile=l.querySelector("._se_image_file"),n.imgUrlFile=l.querySelector("._se_image_url"),n.focusElement=n.imgInputFile||n.imgUrlFile,n.altText=l.querySelector("._se_image_alt"),n.captionCheckEl=l.querySelector("._se_image_check_caption"),n.previewSrc=l.querySelector("._se_tab_content_image .se-link-preview"),l.querySelector(".se-dialog-tabs").addEventListener("click",this.openTab.bind(e)),l.querySelector("form").addEventListener("submit",this.submit.bind(e)),n.imgInputFile&&l.querySelector(".se-file-remove").addEventListener("click",this._removeSelectedFiles.bind(n.imgInputFile,n.imgUrlFile,n.previewSrc)),n.imgUrlFile&&n.imgUrlFile.addEventListener("input",this._onLinkPreview.bind(n.previewSrc,n._v_src,t.linkProtocol)),n.imgInputFile&&n.imgUrlFile&&n.imgInputFile.addEventListener("change",this._fileInputChange.bind(n));const r=l.querySelector(".__se__gallery");r&&r.addEventListener("click",this._openGallery.bind(e)),n.proportion={},n.inputX={},n.inputY={},t.imageResizing&&(n.proportion=l.querySelector("._se_image_check_proportion"),n.inputX=l.querySelector("._se_image_size_x"),n.inputY=l.querySelector("._se_image_size_y"),n.inputX.value=t.imageWidth,n.inputY.value=t.imageHeight,n.inputX.addEventListener("keyup",this.setInputSize.bind(e,"x")),n.inputY.addEventListener("keyup",this.setInputSize.bind(e,"y")),n.inputX.addEventListener("change",this.setRatio.bind(e)),n.inputY.addEventListener("change",this.setRatio.bind(e)),n.proportion.addEventListener("change",this.setRatio.bind(e)),l.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(e))),i.dialog.modal.appendChild(l),e.plugins.anchor.initEvent.call(e,"image",l.querySelector("._se_tab_content_url")),n.anchorCtx=e.context.anchor.caller.image,l=null},setDialog:function(e){const t=e.options,i=e.lang,n=e.util.createElement("DIV");n.className="se-dialog-content se-dialog-image",n.style.display="none";let l='<div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" class="close" title="'+i.dialogBox.close+'" aria-label="'+i.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-modal-title">'+i.dialogBox.imageBox.title+'</span></div><div class="se-dialog-tabs"><button type="button" class="_se_tab_link active" data-tab-link="image">'+i.toolbar.image+'</button><button type="button" class="_se_tab_link" data-tab-link="url">'+i.toolbar.link+'</button></div><form method="post" enctype="multipart/form-data"><div class="_se_tab_content _se_tab_content_image"><div class="se-dialog-body"><div style="border-bottom: 1px dashed #ccc;">';if(t.imageFileInput&&(l+='<div class="se-dialog-form"><label>'+i.dialogBox.imageBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_image_file" type="file" accept="'+t.imageAccept+'"'+(t.imageMultipleFile?' multiple="multiple"':"")+'/><button type="button" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+i.controller.remove+'" aria-label="'+i.controller.remove+'">'+e.icons.cancel+"</button></div></div>"),t.imageUrlInput&&(l+='<div class="se-dialog-form"><label>'+i.dialogBox.imageBox.url+'</label><div class="se-dialog-form-files"><input class="se-input-form se-input-url _se_image_url" type="text" />'+(t.imageGalleryUrl&&e.plugins.imageGallery?'<button type="button" class="se-btn se-dialog-files-edge-button __se__gallery" title="'+i.toolbar.imageGallery+'" aria-label="'+i.toolbar.imageGallery+'">'+e.icons.image_gallery+"</button>":"")+'</div><pre class="se-link-preview"></pre></div>'),l+='</div><div class="se-dialog-form"><label>'+i.dialogBox.imageBox.altText+'</label><input class="se-input-form _se_image_alt" type="text" /></div>',t.imageResizing){const r=t.imageSizeOnlyPercentage,u=r?' style="display: none !important;"':"",c=t.imageHeightShow?"":' style="display: none !important;"';l+='<div class="se-dialog-form">',r||!t.imageHeightShow?l+='<div class="se-dialog-size-text"><label class="size-w">'+i.dialogBox.size+"</label></div>":l+='<div class="se-dialog-size-text"><label class="size-w">'+i.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h">'+i.dialogBox.height+"</label></div>",l+='<input class="se-input-control _se_image_size_x" placeholder="auto"'+(r?' type="number" min="1"':'type="text"')+(r?' max="100"':"")+' /><label class="se-dialog-size-x"'+c+">"+(r?"%":"x")+'</label><input type="text" class="se-input-control _se_image_size_y" placeholder="auto"'+u+(r?' max="100"':"")+c+"/><label"+u+c+'><input type="checkbox" class="se-dialog-btn-check _se_image_check_proportion" checked/>&nbsp;'+i.dialogBox.proportion+'</label><button type="button" title="'+i.dialogBox.revertButton+'" aria-label="'+i.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+e.icons.revert+"</button></div>"}return l+='<div class="se-dialog-form se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_image_check_caption" />&nbsp;'+i.dialogBox.caption+'</label></div></div></div><div class="_se_tab_content _se_tab_content_url" style="display: none">'+e.context.anchor.forms.innerHTML+'</div><div class="se-dialog-footer"><div'+(t.imageAlignShow?"":' style="display: none"')+'><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="none" checked>'+i.dialogBox.basic+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="left">'+i.dialogBox.left+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="center">'+i.dialogBox.center+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="right">'+i.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+i.dialogBox.submitButton+'" aria-label="'+i.dialogBox.submitButton+'"><span>'+i.dialogBox.submitButton+"</span></button></div></form>",n.innerHTML=l,n},_fileInputChange:function(){this.imgInputFile.value?(this.imgUrlFile.setAttribute("disabled",!0),this.previewSrc.style.textDecoration="line-through"):(this.imgUrlFile.removeAttribute("disabled"),this.previewSrc.style.textDecoration="")},_removeSelectedFiles:function(e,t){this.value="",e&&(e.removeAttribute("disabled"),t.style.textDecoration="")},_openGallery:function(){this.callPlugin("imageGallery",this.plugins.imageGallery.open.bind(this,this.plugins.image._setUrlInput.bind(this.context.image)),null)},_setUrlInput:function(e){this.altText.value=e.alt,this._v_src._linkValue=this.previewSrc.textContent=this.imgUrlFile.value=e.getAttribute("data-value")||e.src,this.imgUrlFile.focus()},_onLinkPreview:function(e,t,i){const n=i.target.value.trim();e._linkValue=this.textContent=n?t&&n.indexOf("://")===-1&&n.indexOf("#")!==0?t+n:n.indexOf("://")===-1?"/"+n:n:""},fileTags:["img"],select:function(e){this.plugins.image.onModifyMode.call(this,e,this.plugins.resizing.call_controller_resize.call(this,e,"image"))},destroy:function(e){const t=e||this.context.image._element,i=this.util.getParentElement(t,this.util.isMediaComponent)||t,n=t.getAttribute("data-index")*1;if(typeof this.functions.onImageDeleteBefore=="function"&&this.functions.onImageDeleteBefore(t,i,n,this)===!1)return;let l=i.previousElementSibling||i.nextElementSibling;const r=i.parentNode;this.util.removeItem(i),this.plugins.image.init.call(this),this.controllersOff(),r!==this.context.element.wysiwyg&&this.util.removeItemAllParents(r,function(u){return u.childNodes.length===0},null),this.focusEdge(l),this.plugins.fileManager.deleteInfo.call(this,"image",n,this.functions.onImageUpload),this.history.push(!1)},on:function(e){const t=this.context.image;e?t.imgInputFile&&this.options.imageMultipleFile&&t.imgInputFile.removeAttribute("multiple"):(t.inputX.value=t._origin_w=this.options.imageWidth===t._defaultSizeX?"":this.options.imageWidth,t.inputY.value=t._origin_h=this.options.imageHeight===t._defaultSizeY?"":this.options.imageHeight,t.imgInputFile&&this.options.imageMultipleFile&&t.imgInputFile.setAttribute("multiple","multiple")),this.plugins.anchor.on.call(this,t.anchorCtx,e)},open:function(){this.plugins.dialog.open.call(this,"image",this.currentControllerName==="image")},openTab:function(e){const t=this.context.image.modal,i=e==="init"?t.querySelector("._se_tab_link"):e.target;if(!/^BUTTON$/i.test(i.tagName))return!1;const n=i.getAttribute("data-tab-link"),l="_se_tab_content";let r,u,c;for(u=t.getElementsByClassName(l),r=0;r<u.length;r++)u[r].style.display="none";for(c=t.getElementsByClassName("_se_tab_link"),r=0;r<c.length;r++)this.util.removeClass(c[r],"active");return t.querySelector("."+l+"_"+n).style.display="block",this.util.addClass(i,"active"),n==="image"&&this.context.image.focusElement?this.context.image.focusElement.focus():n==="url"&&this.context.anchor.caller.image.urlInput.focus(),!1},submit:function(e){const t=this.context.image,i=this.plugins.image;e.preventDefault(),e.stopPropagation(),t._altText=t.altText.value,t._align=t.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,t._captionChecked=t.captionCheckEl.checked,t._resizing&&(t._proportionChecked=t.proportion.checked);try{this.context.dialog.updateModal&&i.update_image.call(this,!1,!0,!1),t.imgInputFile&&t.imgInputFile.files.length>0?(this.showLoading(),i.submitAction.call(this,this.context.image.imgInputFile.files)):t.imgUrlFile&&t._v_src._linkValue.length>0&&(this.showLoading(),i.onRender_imgUrl.call(this,t._v_src._linkValue))}catch(n){throw this.closeLoading(),Error('[SUNEDITOR.image.submit.fail] cause : "'+n.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(e){if(e.length===0)return;let t=0,i=[];for(let c=0,o=e.length;c<o;c++)/image/i.test(e[c].type)&&(i.push(e[c]),t+=e[c].size);const n=this.options.imageUploadSizeLimit;if(n>0){let c=0;const o=this.context.image._infoList;for(let f=0,d=o.length;f<d;f++)c+=o[f].size*1;if(t+c>n){this.closeLoading();const f="[SUNEDITOR.imageUpload.fail] Size of uploadable total images: "+n/1e3+"KB";(typeof this.functions.onImageUploadError!="function"||this.functions.onImageUploadError(f,{limitSize:n,currentSize:c,uploadSize:t},this))&&this.functions.noticeOpen(f);return}}const l=this.context.image;l._uploadFileLength=i.length;const u={anchor:this.plugins.anchor.createAnchor.call(this,l.anchorCtx,!0),inputWidth:l.inputX.value,inputHeight:l.inputY.value,align:l._align,isUpdate:this.context.dialog.updateModal,alt:l._altText,element:l._element};if(typeof this.functions.onImageUploadBefore=="function"){const c=this.functions.onImageUploadBefore(i,u,this,(function(o){o&&this._w.Array.isArray(o.result)?this.plugins.image.register.call(this,u,o):this.plugins.image.upload.call(this,u,o)}).bind(this));if(typeof c>"u")return;if(!c){this.closeLoading();return}this._w.Array.isArray(c)&&c.length>0&&(i=c)}this.plugins.image.upload.call(this,u,i)},error:function(e,t){if(this.closeLoading(),typeof this.functions.onImageUploadError!="function"||this.functions.onImageUploadError(e,t,this))throw this.functions.noticeOpen(e),Error("[SUNEDITOR.plugin.image.error] response: "+e)},upload:function(e,t){if(!t){this.closeLoading();return}if(typeof t=="string"){this.plugins.image.error.call(this,t,null);return}const i=this.options.imageUploadUrl,n=this.context.dialog.updateModal?1:t.length;if(typeof i=="string"&&i.length>0){const l=new FormData;for(let r=0;r<n;r++)l.append("file-"+r,t[r]);this.plugins.fileManager.upload.call(this,i,this.options.imageUploadHeader,l,this.plugins.image.callBack_imgUpload.bind(this,e),this.functions.onImageUploadError)}else this.plugins.image.setup_reader.call(this,t,e.anchor,e.inputWidth,e.inputHeight,e.align,e.alt,n,e.isUpdate)},callBack_imgUpload:function(e,t){if(typeof this.functions.imageUploadHandler=="function")this.functions.imageUploadHandler(t,e,this);else{const i=JSON.parse(t.responseText);i.errorMessage?this.plugins.image.error.call(this,i.errorMessage,i):this.plugins.image.register.call(this,e,i)}},register:function(e,t){const i=t.result;for(let n=0,l=i.length,r;n<l;n++)if(r={name:i[n].name,size:i[n].size},e.isUpdate){this.plugins.image.update_src.call(this,i[n].url,e.element,r);break}else this.plugins.image.create_image.call(this,i[n].url,e.anchor,e.inputWidth,e.inputHeight,e.align,r,e.alt);this.closeLoading()},setup_reader:function(e,t,i,n,l,r,u,c){try{if(u===0){this.closeLoading(),console.warn("[SUNEDITOR.image.base64.fail] cause : No applicable files");return}this.context.image.base64RenderIndex=u;const o=this._w.FileReader,f=[u];this.context.image.inputX.value=i,this.context.image.inputY.value=n;for(let d=0,g,y;d<u;d++)g=new o,y=e[d],g.onload=(function(_,S,T,s,a){f[a]={result:_.result,file:s},--this.context.image.base64RenderIndex===0&&(this.plugins.image.onRender_imgBase64.call(this,S,f,T,t,i,n,l,r),this.closeLoading())}).bind(this,g,c,this.context.image._element,y,d),g.readAsDataURL(y)}catch(o){throw this.closeLoading(),Error('[SUNEDITOR.image.setup_reader.fail] cause : "'+o.message+'"')}},onRender_imgBase64:function(e,t,i,n,l,r,u,c){const o=this.plugins.image.update_src,f=this.plugins.image.create_image;for(let d=0,g=t.length;d<g;d++)e?(this.context.image._element.setAttribute("data-file-name",t[d].file.name),this.context.image._element.setAttribute("data-file-size",t[d].file.size),o.call(this,t[d].result,i,t[d].file)):f.call(this,t[d].result,n,l,r,u,t[d].file,c)},onRender_imgUrl:function(e){if(e||(e=this.context.image._v_src._linkValue),!e)return!1;const t=this.context.image;try{const i={name:e.split("/").pop(),size:0};this.context.dialog.updateModal?this.plugins.image.update_src.call(this,e,t._element,i):this.plugins.image.create_image.call(this,e,this.plugins.anchor.createAnchor.call(this,t.anchorCtx,!0),t.inputX.value,t.inputY.value,t._align,i,t._altText)}catch(i){throw Error('[SUNEDITOR.image.URLRendering.fail] cause : "'+i.message+'"')}finally{this.closeLoading()}},onRender_link:function(e,t){return t?(t.setAttribute("data-image-link","image"),e.setAttribute("data-image-link",t.href),t.appendChild(e),t):e},setInputSize:function(e,t){if(t&&t.keyCode===32){t.preventDefault();return}this.plugins.resizing._module_setInputSize.call(this,this.context.image,e)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.image)},checkFileInfo:function(){const e=this.plugins.image,t=this.context.image,i=(function(n){e.onModifyMode.call(this,n,null),e.openModify.call(this,!0),t.inputX.value=t._origin_w,t.inputY.value=t._origin_h;const l=this.util.getFormatElement(n);l&&(t._align=l.style.textAlign||l.style.float),this.util.isAnchor(n.parentNode)&&!t.anchorCtx.linkValue&&(t.anchorCtx.linkValue=" "),e.update_image.call(this,!0,!1,!0),e.init.call(this)}).bind(this);this.plugins.fileManager.checkInfo.call(this,"image",["img"],this.functions.onImageUpload,i,!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"image",this.functions.onImageUpload)},create_image:function(e,t,i,n,l,r,u){const c=this.plugins.image,o=this.context.image;this.context.resizing._resize_plugin="image";let f=this.util.createElement("IMG");f.src=e,f.alt=u,f.setAttribute("data-rotate","0"),t=c.onRender_link.call(this,f,t?t.cloneNode(!1):null),o._resizing&&f.setAttribute("data-proportion",o._proportionChecked);const d=this.plugins.component.set_cover.call(this,t),g=this.plugins.component.set_container.call(this,d,"se-image-container");o._captionChecked&&(o._caption=this.plugins.component.create_caption.call(this),d.appendChild(o._caption)),o._element=f,o._cover=d,o._container=g,c.applySize.call(this,i,n),c.setAlign.call(this,l,f,d,g),f.onload=c._image_create_onload.bind(this,f,o.svgDefaultSize,g),this.insertComponent(g,!0,!0,!0)&&this.plugins.fileManager.setInfo.call(this,"image",f,this.functions.onImageUpload,r,!0),this.context.resizing._resize_plugin=""},_image_create_onload:function(e,t,i){if(e.offsetWidth===0&&this.plugins.image.applySize.call(this,t,""),this.options.mediaAutoSelect)this.selectComponent(e,"image");else{const n=this.appendFormatTag(i,null);n&&this.setRange(n,0,n,0)}},update_image:function(e,t,i){const n=this.context.image;let l=n._element,r=n._cover,u=n._container,c=!1;r===null&&(c=!0,l=n._element.cloneNode(!0),r=this.plugins.component.set_cover.call(this,l)),u===null?(r=r.cloneNode(!0),l=r.querySelector("img"),c=!0,u=this.plugins.component.set_container.call(this,r,"se-image-container")):c&&(u.innerHTML="",u.appendChild(r),n._cover=r,n._element=l,c=!1);let o;const f=this.util.isNumber(n.inputX.value)?n.inputX.value+n.sizeUnit:n.inputX.value,d=this.util.isNumber(n.inputY.value)?n.inputY.value+n.sizeUnit:n.inputY.value;/%$/.test(l.style.width)?o=f!==u.style.width||d!==u.style.height:o=f!==l.style.width||d!==l.style.height,l.alt=n._altText;let g=!1;n._captionChecked?n._caption||(n._caption=this.plugins.component.create_caption.call(this),r.appendChild(n._caption),g=!0):n._caption&&(this.util.removeItem(n._caption),n._caption=null,g=!0);let y=null;const _=this.plugins.anchor.createAnchor.call(this,n.anchorCtx,!0);if(_)n._linkElement!==_||c&&!u.contains(_)?(n._linkElement=_.cloneNode(!1),r.insertBefore(this.plugins.image.onRender_link.call(this,l,n._linkElement),n._caption),y=n._element):n._linkElement.setAttribute("data-image-link","image");else if(n._linkElement!==null){const T=l;if(T.setAttribute("data-image-link",""),r.contains(n._linkElement)){const s=T.cloneNode(!0);r.removeChild(n._linkElement),r.insertBefore(s,n._caption),n._element=l=s}}let S=null;if(c){if(S=this.util.isRangeFormatElement(n._element.parentNode)||this.util.isWysiwygDiv(n._element.parentNode)?n._element:this.util.isAnchor(n._element.parentNode)?n._element.parentNode:this.util.getFormatElement(n._element)||n._element,this.util.getParentElement(n._element,this.util.isNotCheckingNode))S=y?_:n._element,S.parentNode.replaceChild(u,S);else if(this.util.isListCell(S)){const T=this.util.getParentElement(n._element,function(s){return s.parentNode===S});S.insertBefore(u,T),this.util.removeItem(n._element),this.util.removeEmptyNode(T,null,!0)}else if(this.util.isFormatElement(S)){const T=this.util.getParentElement(n._element,function(s){return s.parentNode===S});S=this.util.splitElement(S,T),S.parentNode.insertBefore(u,S),this.util.removeItem(n._element),this.util.removeEmptyNode(S,null,!0),S.children.length===0&&(S.innerHTML=this.util.htmlRemoveWhiteSpace(S.innerHTML))}else if(this.util.isFormatElement(S.parentNode)){const T=S.parentNode;T.parentNode.insertBefore(u,S.previousSibling?T.nextElementSibling:T),n.__updateTags.map(function(s){return S.contains(s)}).length===0&&this.util.removeItem(S)}else S=this.util.isFigures(S.parentNode)?S.parentNode:S,S.parentNode.replaceChild(u,S);l=u.querySelector("img"),n._element=l,n._cover=r,n._container=u}y&&(c?(this.util.removeItem(y),this.util.getListChildren(_,function(T){return/IMG/i.test(T.tagName)}).length===0&&this.util.removeItem(_)):this.util.removeItem(_)),(g||!n._onlyPercentage&&o)&&!e&&(/\d+/.test(l.style.height)||this.context.resizing._rotateVertical&&n._captionChecked)&&(/%$/.test(n.inputX.value)||/%$/.test(n.inputY.value)?this.plugins.resizing.resetTransform.call(this,l):this.plugins.resizing.setTransformSize.call(this,l,this.util.getNumber(n.inputX.value,0),this.util.getNumber(n.inputY.value,0))),n._resizing&&(l.setAttribute("data-proportion",n._proportionChecked),o&&this.plugins.image.applySize.call(this)),this.plugins.image.setAlign.call(this,null,l,null,null),e&&this.plugins.fileManager.setInfo.call(this,"image",l,this.functions.onImageUpload,null,!0),t&&this.selectComponent(l,"image"),i||this.history.push(!1)},update_src:function(e,t,i){t.src=e,this._w.setTimeout(this.plugins.fileManager.setInfo.bind(this,"image",t,this.functions.onImageUpload,i,!0)),this.selectComponent(t,"image")},onModifyMode:function(e,t){if(!e)return;const i=this.context.image;i._linkElement=i.anchorCtx.linkAnchor=this.util.isAnchor(e.parentNode)?e.parentNode:null,i._element=e,i._cover=this.util.getParentElement(e,"FIGURE"),i._container=this.util.getParentElement(e,this.util.isMediaComponent),i._caption=this.util.getChildElement(i._cover,"FIGCAPTION"),i._align=e.getAttribute("data-align")||e.style.float||"none",e.style.float="",this.plugins.anchor.setCtx(i._linkElement,i.anchorCtx),t&&(i._element_w=t.w,i._element_h=t.h,i._element_t=t.t,i._element_l=t.l);let n=i._element.getAttribute("data-size")||i._element.getAttribute("data-origin"),l,r;n?(n=n.split(","),l=n[0],r=n[1]):t&&(l=t.w,r=t.h),i._origin_w=l||e.style.width||e.width||"",i._origin_h=r||e.style.height||e.height||""},openModify:function(e){const t=this.context.image;t.imgUrlFile&&(t._v_src._linkValue=t.previewSrc.textContent=t.imgUrlFile.value=t._element.src),t._altText=t.altText.value=t._element.alt,(t.modal.querySelector('input[name="suneditor_image_radio"][value="'+t._align+'"]')||t.modal.querySelector('input[name="suneditor_image_radio"][value="none"]')).checked=!0,t._align=t.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,t._captionChecked=t.captionCheckEl.checked=!!t._caption,t._resizing&&this.plugins.resizing._module_setModifyInputSize.call(this,t,this.plugins.image),e||this.plugins.dialog.open.call(this,"image",!0)},applySize:function(e,t){const i=this.context.image;return e||(e=i.inputX.value||this.options.imageWidth),t||(t=i.inputY.value||this.options.imageHeight),i._onlyPercentage&&e||/%$/.test(e)?(this.plugins.image.setPercentSize.call(this,e,t),!0):((!e||e==="auto")&&(!t||t==="auto")?this.plugins.image.setAutoSize.call(this):this.plugins.image.setSize.call(this,e,t,!1),!1)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.image)},setSize:function(e,t,i,n){const l=this.context.image,r=/^(rw|lw)$/.test(n)&&/\d+/.test(l._element.style.height);/^(th|bh)$/.test(n)&&/\d+/.test(l._element.style.width)||(l._element.style.width=this.util.isNumber(e)?e+l.sizeUnit:e,this.plugins.image.cancelPercentAttr.call(this)),r||(l._element.style.height=this.util.isNumber(t)?t+l.sizeUnit:/%$/.test(t)?"":t),l._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null),i||l._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,l)},setAutoSize:function(){const e=this.context.image;e._caption&&(e._caption.style.marginTop=""),this.plugins.resizing.resetTransform.call(this,e._element),this.plugins.image.cancelPercentAttr.call(this),e._element.style.maxWidth="",e._element.style.width="",e._element.style.height="",e._cover.style.width="",e._cover.style.height="",this.plugins.image.setAlign.call(this,null,null,null,null),e._element.setAttribute("data-percentage","auto,auto"),this.plugins.resizing._module_saveCurrentSize.call(this,e)},setOriginSize:function(){const e=this.context.image;e._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,e._element),this.plugins.image.cancelPercentAttr.call(this);const t=(e._element.getAttribute("data-origin")||"").split(","),i=t[0],n=t[1];t&&(e._onlyPercentage||/%$/.test(i)&&(/%$/.test(n)||!/\d/.test(n))?this.plugins.image.setPercentSize.call(this,i,n):this.plugins.image.setSize.call(this,i,n),this.plugins.resizing._module_saveCurrentSize.call(this,e))},setPercentSize:function(e,t){const i=this.context.image;t=t&&!/%$/.test(t)&&!this.util.getNumber(t,0)?this.util.isNumber(t)?t+"%":t:this.util.isNumber(t)?t+i.sizeUnit:t||"";const n=/%$/.test(t);i._container.style.width=this.util.isNumber(e)?e+"%":e,i._container.style.height="",i._cover.style.width="100%",i._cover.style.height=n?t:"",i._element.style.width="100%",i._element.style.height=n?"":t,i._element.style.maxWidth="",i._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null),i._element.setAttribute("data-percentage",e+","+t),this.plugins.resizing.setCaptionPosition.call(this,i._element),this.plugins.resizing._module_saveCurrentSize.call(this,i)},cancelPercentAttr:function(){const e=this.context.image;e._cover.style.width="",e._cover.style.height="",e._container.style.width="",e._container.style.height="",this.util.removeClass(e._container,this.context.image._floatClassRegExp),this.util.addClass(e._container,"__se__float-"+e._align),e._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null)},setAlign:function(e,t,i,n){const l=this.context.image;e||(e=l._align),t||(t=l._element),i||(i=l._cover),n||(n=l._container),/%$/.test(t.style.width)&&e==="center"?(n.style.minWidth="100%",i.style.width=n.style.width):(n.style.minWidth="",i.style.width=this.context.resizing._rotateVertical?t.style.height||t.offsetHeight:!t.style.width||t.style.width==="auto"?"":t.style.width||"100%"),this.util.hasClass(n,"__se__float-"+e)||(this.util.removeClass(n,l._floatClassRegExp),this.util.addClass(n,"__se__float-"+e)),t.setAttribute("data-align",e)},init:function(){const e=this.context.image;e.imgInputFile&&(e.imgInputFile.value=""),e.imgUrlFile&&(e._v_src._linkValue=e.previewSrc.textContent=e.imgUrlFile.value=""),e.imgInputFile&&e.imgUrlFile&&(e.imgUrlFile.removeAttribute("disabled"),e.previewSrc.style.textDecoration=""),e.altText.value="",e.modal.querySelector('input[name="suneditor_image_radio"][value="none"]').checked=!0,e.captionCheckEl.checked=!1,e._element=null,this.plugins.image.openTab.call(this,"init"),e._resizing&&(e.inputX.value=this.options.imageWidth===e._defaultSizeX?"":this.options.imageWidth,e.inputY.value=this.options.imageHeight===e._defaultSizeY?"":this.options.imageHeight,e.proportion.checked=!0,e._ratio=!1,e._ratioX=1,e._ratioY=1),this.plugins.anchor.init.call(this,e.anchorCtx)}},rr={name:"video",display:"dialog",add:function(e){e.addModule([yn,rl,lr,al]);const t=e.options,i=e.context,n=i.video={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,sizeUnit:t._videoSizeUnit,_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_youtubeQuery:t.youtubeQuery,_videoRatio:t.videoRatio*100+"%",_defaultRatio:t.videoRatio*100+"%",_linkValue:"",_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"100%",_defaultSizeY:t.videoRatio*100+"%",_origin_w:t.videoWidth==="100%"?"":t.videoWidth,_origin_h:t.videoHeight==="56.25%"?"":t.videoHeight,_proportionChecked:!0,_resizing:t.videoResizing,_resizeDotHide:!t.videoHeightShow,_rotation:t.videoRotation,_alignHide:!t.videoAlignShow,_onlyPercentage:t.videoSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!1};let l=this.setDialog(e);n.modal=l,n.videoInputFile=l.querySelector("._se_video_file"),n.videoUrlFile=l.querySelector(".se-input-url"),n.focusElement=n.videoUrlFile||n.videoInputFile,n.preview=l.querySelector(".se-link-preview"),l.querySelector("form").addEventListener("submit",this.submit.bind(e)),n.videoInputFile&&l.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(n.videoInputFile,n.videoUrlFile,n.preview)),n.videoInputFile&&n.videoUrlFile&&n.videoInputFile.addEventListener("change",this._fileInputChange.bind(n)),n.videoUrlFile&&n.videoUrlFile.addEventListener("input",this._onLinkPreview.bind(n.preview,n,t.linkProtocol)),n.proportion={},n.videoRatioOption={},n.inputX={},n.inputY={},t.videoResizing&&(n.proportion=l.querySelector("._se_video_check_proportion"),n.videoRatioOption=l.querySelector(".se-video-ratio"),n.inputX=l.querySelector("._se_video_size_x"),n.inputY=l.querySelector("._se_video_size_y"),n.inputX.value=t.videoWidth,n.inputY.value=t.videoHeight,n.inputX.addEventListener("keyup",this.setInputSize.bind(e,"x")),n.inputY.addEventListener("keyup",this.setInputSize.bind(e,"y")),n.inputX.addEventListener("change",this.setRatio.bind(e)),n.inputY.addEventListener("change",this.setRatio.bind(e)),n.proportion.addEventListener("change",this.setRatio.bind(e)),n.videoRatioOption.addEventListener("change",this.setVideoRatio.bind(e)),l.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(e))),i.dialog.modal.appendChild(l),l=null},setDialog:function(e){const t=e.options,i=e.lang,n=e.util.createElement("DIV");n.className="se-dialog-content",n.style.display="none";let l='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+i.dialogBox.close+'" aria-label="'+i.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-modal-title">'+i.dialogBox.videoBox.title+'</span></div><div class="se-dialog-body">';if(t.videoFileInput&&(l+='<div class="se-dialog-form"><label>'+i.dialogBox.videoBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_video_file" type="file" accept="'+t.videoAccept+'"'+(t.videoMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+i.controller.remove+'" aria-label="'+i.controller.remove+'">'+e.icons.cancel+"</button></div></div>"),t.videoUrlInput&&(l+='<div class="se-dialog-form"><label>'+i.dialogBox.videoBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),t.videoResizing){const r=t.videoRatioList||[{name:"16:9",value:.5625},{name:"4:3",value:.75},{name:"21:9",value:.4285}],u=t.videoRatio,c=t.videoSizeOnlyPercentage,o=c?' style="display: none !important;"':"",f=t.videoHeightShow?"":' style="display: none !important;"',d=t.videoRatioShow?"":' style="display: none !important;"',g=!c&&!t.videoHeightShow&&!t.videoRatioShow?' style="display: none !important;"':"";l+='<div class="se-dialog-form"><div class="se-dialog-size-text"><label class="size-w">'+i.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h"'+f+">"+i.dialogBox.height+'</label><label class="size-h"'+d+">("+i.dialogBox.ratio+')</label></div><input class="se-input-control _se_video_size_x" placeholder="100%"'+(c?' type="number" min="1"':'type="text"')+(c?' max="100"':"")+'/><label class="se-dialog-size-x"'+g+">"+(c?"%":"x")+'</label><input class="se-input-control _se_video_size_y" placeholder="'+t.videoRatio*100+'%"'+(c?' type="number" min="1"':'type="text"')+(c?' max="100"':"")+f+'/><select class="se-input-select se-video-ratio" title="'+i.dialogBox.ratio+'" aria-label="'+i.dialogBox.ratio+'"'+d+">",f||(l+='<option value=""> - </option>');for(let y=0,_=r.length;y<_;y++)l+='<option value="'+r[y].value+'"'+(u.toString()===r[y].value.toString()?" selected":"")+">"+r[y].name+"</option>";l+='</select><button type="button" title="'+i.dialogBox.revertButton+'" aria-label="'+i.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+e.icons.revert+'</button></div><div class="se-dialog-form se-dialog-form-footer"'+o+g+'><label><input type="checkbox" class="se-dialog-btn-check _se_video_check_proportion" checked/>&nbsp;'+i.dialogBox.proportion+"</label></div>"}return l+='</div><div class="se-dialog-footer"><div'+(t.videoAlignShow?"":' style="display: none"')+'><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="none" checked>'+i.dialogBox.basic+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="left">'+i.dialogBox.left+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="center">'+i.dialogBox.center+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="right">'+i.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+i.dialogBox.submitButton+'" aria-label="'+i.dialogBox.submitButton+'"><span>'+i.dialogBox.submitButton+"</span></button></div></form>",n.innerHTML=l,n},_fileInputChange:function(){this.videoInputFile.value?(this.videoUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.videoUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(e,t){this.value="",e&&(e.removeAttribute("disabled"),t.style.textDecoration="")},_onLinkPreview:function(e,t,i){const n=i.target.value.trim();/^<iframe.*\/iframe>$/.test(n)?(e._linkValue=n,this.textContent='<IFrame :src=".."></IFrame>'):e._linkValue=this.textContent=n?t&&n.indexOf("://")===-1&&n.indexOf("#")!==0?t+n:n.indexOf("://")===-1?"/"+n:n:""},_setTagAttrs:function(e){e.setAttribute("controls",!0);const t=this.options.videoTagAttrs;if(t)for(let i in t)this.util.hasOwn(t,i)&&e.setAttribute(i,t[i])},createVideoTag:function(){const e=this.util.createElement("VIDEO");return this.plugins.video._setTagAttrs.call(this,e),e},_setIframeAttrs:function(e){e.frameBorder="0",e.allowFullscreen=!0;const t=this.options.videoIframeAttrs;if(t)for(let i in t)this.util.hasOwn(t,i)&&e.setAttribute(i,t[i])},createIframeTag:function(){const e=this.util.createElement("IFRAME");return this.plugins.video._setIframeAttrs.call(this,e),e},fileTags:["iframe","video"],select:function(e){this.plugins.video.onModifyMode.call(this,e,this.plugins.resizing.call_controller_resize.call(this,e,"video"))},destroy:function(e){const t=e||this.context.video._element,i=this.context.video._container,n=t.getAttribute("data-index")*1;if(typeof this.functions.onVideoDeleteBefore=="function"&&this.functions.onVideoDeleteBefore(t,i,n,this)===!1)return;let l=i.previousElementSibling||i.nextElementSibling;const r=i.parentNode;this.util.removeItem(i),this.plugins.video.init.call(this),this.controllersOff(),r!==this.context.element.wysiwyg&&this.util.removeItemAllParents(r,function(u){return u.childNodes.length===0},null),this.focusEdge(l),this.plugins.fileManager.deleteInfo.call(this,"video",n,this.functions.onVideoUpload),this.history.push(!1)},on:function(e){const t=this.context.video;e?t.videoInputFile&&this.options.videoMultipleFile&&t.videoInputFile.removeAttribute("multiple"):(t.inputX.value=t._origin_w=this.options.videoWidth===t._defaultSizeX?"":this.options.videoWidth,t.inputY.value=t._origin_h=this.options.videoHeight===t._defaultSizeY?"":this.options.videoHeight,t.proportion.disabled=!0,t.videoInputFile&&this.options.videoMultipleFile&&t.videoInputFile.setAttribute("multiple","multiple")),t._resizing&&this.plugins.video.setVideoRatioSelect.call(this,t._origin_h||t._defaultRatio)},open:function(){this.plugins.dialog.open.call(this,"video",this.currentControllerName==="video")},setVideoRatio:function(e){const t=this.context.video,i=e.target.options[e.target.selectedIndex].value;t._defaultSizeY=t._videoRatio=i?i*100+"%":t._defaultSizeY,t.inputY.placeholder=i?i*100+"%":"",t.inputY.value=""},setInputSize:function(e,t){if(t&&t.keyCode===32){t.preventDefault();return}const i=this.context.video;this.plugins.resizing._module_setInputSize.call(this,i,e),e==="y"&&this.plugins.video.setVideoRatioSelect.call(this,t.target.value||i._defaultRatio)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.video)},submit:function(e){const t=this.context.video,i=this.plugins.video;e.preventDefault(),e.stopPropagation(),t._align=t.modal.querySelector('input[name="suneditor_video_radio"]:checked').value;try{t.videoInputFile&&t.videoInputFile.files.length>0?(this.showLoading(),i.submitAction.call(this,this.context.video.videoInputFile.files)):t.videoUrlFile&&t._linkValue.length>0&&(this.showLoading(),i.setup_url.call(this,t._linkValue))}catch(n){throw this.closeLoading(),Error('[SUNEDITOR.video.submit.fail] cause : "'+n.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(e){if(e.length===0)return;let t=0,i=[];for(let u=0,c=e.length;u<c;u++)/video/i.test(e[u].type)&&(i.push(e[u]),t+=e[u].size);const n=this.options.videoUploadSizeLimit;if(n>0){let u=0;const c=this.context.video._infoList;for(let o=0,f=c.length;o<f;o++)u+=c[o].size*1;if(t+u>n){this.closeLoading();const o="[SUNEDITOR.videoUpload.fail] Size of uploadable total videos: "+n/1e3+"KB";(typeof this.functions.onVideoUploadError!="function"||this.functions.onVideoUploadError(o,{limitSize:n,currentSize:u,uploadSize:t},this))&&this.functions.noticeOpen(o);return}}const l=this.context.video;l._uploadFileLength=i.length;const r={inputWidth:l.inputX.value,inputHeight:l.inputY.value,align:l._align,isUpdate:this.context.dialog.updateModal,element:l._element};if(typeof this.functions.onVideoUploadBefore=="function"){const u=this.functions.onVideoUploadBefore(i,r,this,(function(c){c&&this._w.Array.isArray(c.result)?this.plugins.video.register.call(this,r,c):this.plugins.video.upload.call(this,r,c)}).bind(this));if(typeof u>"u")return;if(!u){this.closeLoading();return}typeof u=="object"&&u.length>0&&(i=u)}this.plugins.video.upload.call(this,r,i)},error:function(e,t){if(this.closeLoading(),typeof this.functions.onVideoUploadError!="function"||this.functions.onVideoUploadError(e,t,this))throw this.functions.noticeOpen(e),Error("[SUNEDITOR.plugin.video.error] response: "+e)},upload:function(e,t){if(!t){this.closeLoading();return}if(typeof t=="string"){this.plugins.video.error.call(this,t,null);return}const i=this.options.videoUploadUrl,n=this.context.dialog.updateModal?1:t.length;if(typeof i=="string"&&i.length>0){const l=new FormData;for(let r=0;r<n;r++)l.append("file-"+r,t[r]);this.plugins.fileManager.upload.call(this,i,this.options.videoUploadHeader,l,this.plugins.video.callBack_videoUpload.bind(this,e),this.functions.onVideoUploadError)}else throw Error('[SUNEDITOR.videoUpload.fail] cause : There is no "videoUploadUrl" option.')},callBack_videoUpload:function(e,t){if(typeof this.functions.videoUploadHandler=="function")this.functions.videoUploadHandler(t,e,this);else{const i=JSON.parse(t.responseText);i.errorMessage?this.plugins.video.error.call(this,i.errorMessage,i):this.plugins.video.register.call(this,e,i)}},register:function(e,t){const i=t.result,n=this.plugins.video.createVideoTag.call(this);for(let l=0,r=i.length,u;l<r;l++)u={name:i[l].name,size:i[l].size},this.plugins.video.create_video.call(this,e.isUpdate?e.element:n.cloneNode(!1),i[l].url,e.inputWidth,e.inputHeight,e.align,u,e.isUpdate);this.closeLoading()},setup_url:function(e){try{const t=this.context.video;if(e||(e=t._linkValue),!e||/^<iframe.*\/iframe>$/.test(e)&&(e=new this._w.DOMParser().parseFromString(e,"text/html").querySelector("iframe").src,e.length===0))return!1;if(/youtu\.?be/.test(e)){if(/^http/.test(e)||(e="https://"+e),e=e.replace("watch?v=",""),/^\/\/.+\/embed\//.test(e)||(e=e.replace(e.match(/\/\/.+\//)[0],"//www.youtube.com/embed/").replace("&","?&")),t._youtubeQuery.length>0)if(/\?/.test(e)){const i=e.split("?");e=i[0]+"?"+t._youtubeQuery+"&"+i[1]}else e+="?"+t._youtubeQuery}else/vimeo\.com/.test(e)&&(e.endsWith("/")&&(e=e.slice(0,-1)),e="https://player.vimeo.com/video/"+e.slice(e.lastIndexOf("/")+1));this.plugins.video.create_video.call(this,this.plugins.video[!/embed|iframe|player|\/e\/|\.php|\.html?/.test(e)&&!/vimeo\.com/.test(e)?"createVideoTag":"createIframeTag"].call(this),e,t.inputX.value,t.inputY.value,t._align,null,this.context.dialog.updateModal)}catch(t){throw Error('[SUNEDITOR.video.upload.fail] cause : "'+t.message+'"')}finally{this.closeLoading()}},create_video:function(e,t,i,n,l,r,u){this.context.resizing._resize_plugin="video";const c=this.context.video;let o=null,f=null,d=!1;if(u){if(e=c._element,e.src!==t){d=!0;const T=/youtu\.?be/.test(t),s=/vimeo\.com/.test(t);if((T||s)&&!/^iframe$/i.test(e.nodeName)){const a=this.plugins.video.createIframeTag.call(this);a.src=t,e.parentNode.replaceChild(a,e),c._element=e=a}else if(!T&&!s&&!/^video$/i.test(e.nodeName)){const a=this.plugins.video.createVideoTag.call(this);a.src=t,e.parentNode.replaceChild(a,e),c._element=e=a}else e.src=t}f=c._container,o=this.util.getParentElement(e,"FIGURE")}else d=!0,e.src=t,c._element=e,o=this.plugins.component.set_cover.call(this,e),f=this.plugins.component.set_container.call(this,o,"se-video-container");c._cover=o,c._container=f;const g=this.plugins.resizing._module_getSizeX.call(this,c)!==(i||c._defaultSizeX)||this.plugins.resizing._module_getSizeY.call(this,c)!==(n||c._videoRatio),y=!u||g;c._resizing&&(this.context.video._proportionChecked=c.proportion.checked,e.setAttribute("data-proportion",c._proportionChecked));let _=!1;y&&(_=this.plugins.video.applySize.call(this)),_&&l==="center"||this.plugins.video.setAlign.call(this,null,e,o,f);let S=!0;if(u)c._resizing&&this.context.resizing._rotateVertical&&y&&this.plugins.resizing.setTransformSize.call(this,e,null,null);else if(S=this.insertComponent(f,!1,!0,!this.options.mediaAutoSelect),!this.options.mediaAutoSelect){const T=this.appendFormatTag(f,null);T&&this.setRange(T,0,T,0)}S&&(d&&this.plugins.fileManager.setInfo.call(this,"video",e,this.functions.onVideoUpload,r,!0),u&&(this.selectComponent(e,"video"),this.history.push(!1))),this.context.resizing._resize_plugin=""},_update_videoCover:function(e){if(!e)return;const t=this.context.video;/^video$/i.test(e.nodeName)?this.plugins.video._setTagAttrs.call(this,e):this.plugins.video._setIframeAttrs.call(this,e);let i=this.util.isRangeFormatElement(e.parentNode)||this.util.isWysiwygDiv(e.parentNode)?e:this.util.getFormatElement(e)||e;const n=e;t._element=e=e.cloneNode(!0);const l=t._cover=this.plugins.component.set_cover.call(this,e),r=t._container=this.plugins.component.set_container.call(this,l,"se-video-container");try{const u=i.querySelector("figcaption");let c=null;u&&(c=this.util.createElement("DIV"),c.innerHTML=u.innerHTML,this.util.removeItem(u));const o=(e.getAttribute("data-size")||e.getAttribute("data-origin")||"").split(",");this.plugins.video.applySize.call(this,o[0]||n.style.width||n.width||"",o[1]||n.style.height||n.height||"");const f=this.util.getFormatElement(n);if(f&&(t._align=f.style.textAlign||f.style.float),this.plugins.video.setAlign.call(this,null,e,l,r),this.util.getParentElement(n,this.util.isNotCheckingNode))n.parentNode.replaceChild(r,n);else if(this.util.isListCell(i)){const d=this.util.getParentElement(n,function(g){return g.parentNode===i});i.insertBefore(r,d),this.util.removeItem(n),this.util.removeEmptyNode(d,null,!0)}else if(this.util.isFormatElement(i)){const d=this.util.getParentElement(n,function(g){return g.parentNode===i});i=this.util.splitElement(i,d),i.parentNode.insertBefore(r,i),this.util.removeItem(n),this.util.removeEmptyNode(i,null,!0),i.children.length===0&&(i.innerHTML=this.util.htmlRemoveWhiteSpace(i.innerHTML))}else i.parentNode.replaceChild(r,i);c&&i.parentNode.insertBefore(c,r.nextElementSibling)}catch(u){console.warn("[SUNEDITOR.video.error] Maybe the video tag is nested.",u)}this.plugins.fileManager.setInfo.call(this,"video",e,this.functions.onVideoUpload,null,!0),this.plugins.video.init.call(this)},onModifyMode:function(e,t){const i=this.context.video;i._element=e,i._cover=this.util.getParentElement(e,"FIGURE"),i._container=this.util.getParentElement(e,this.util.isMediaComponent),i._align=e.style.float||e.getAttribute("data-align")||"none",e.style.float="",t&&(i._element_w=t.w,i._element_h=t.h,i._element_t=t.t,i._element_l=t.l);let n=i._element.getAttribute("data-size")||i._element.getAttribute("data-origin"),l,r;n?(n=n.split(","),l=n[0],r=n[1]):t&&(l=t.w,r=t.h),i._origin_w=l||e.style.width||e.width||"",i._origin_h=r||e.style.height||e.height||""},openModify:function(e){const t=this.context.video;if(t.videoUrlFile&&(t._linkValue=t.preview.textContent=t.videoUrlFile.value=t._element.src||(t._element.querySelector("source")||"").src||""),(t.modal.querySelector('input[name="suneditor_video_radio"][value="'+t._align+'"]')||t.modal.querySelector('input[name="suneditor_video_radio"][value="none"]')).checked=!0,t._resizing){this.plugins.resizing._module_setModifyInputSize.call(this,t,this.plugins.video);const i=t._videoRatio=this.plugins.resizing._module_getSizeY.call(this,t);this.plugins.video.setVideoRatioSelect.call(this,i)||(t.inputY.value=t._onlyPercentage?this.util.getNumber(i,2):i)}e||this.plugins.dialog.open.call(this,"video",!0)},setVideoRatioSelect:function(e){let t=!1;const i=this.context.video,n=i.videoRatioOption.options;/%$/.test(e)||i._onlyPercentage?e=this.util.getNumber(e,2)/100+"":(!this.util.isNumber(e)||e*1>=1)&&(e=""),i.inputY.placeholder="";for(let l=0,r=n.length;l<r;l++)n[l].value===e?(t=n[l].selected=!0,i.inputY.placeholder=e?e*100+"%":""):n[l].selected=!1;return t},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"video",["iframe","video"],this.functions.onVideoUpload,this.plugins.video._update_videoCover.bind(this),!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"video",this.functions.onVideoUpload)},applySize:function(e,t){const i=this.context.video;return e||(e=i.inputX.value||this.options.videoWidth),t||(t=i.inputY.value||this.options.videoHeight),i._onlyPercentage||/%$/.test(e)||!e?(this.plugins.video.setPercentSize.call(this,e||"100%",t||(/%$/.test(i._videoRatio)?i._videoRatio:i._defaultRatio)),!0):((!e||e==="auto")&&(!t||t==="auto")?this.plugins.video.setAutoSize.call(this):this.plugins.video.setSize.call(this,e,t||i._videoRatio||i._defaultRatio,!1),!1)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.video)},setSize:function(e,t,i,n){const l=this.context.video,r=/^(rw|lw)$/.test(n),u=/^(th|bh)$/.test(n);u||(e=this.util.getNumber(e,0)),r||(t=this.util.isNumber(t)?t+l.sizeUnit:t||""),e=e?e+l.sizeUnit:"",u||(l._element.style.width=e),r||(l._cover.style.paddingBottom=l._cover.style.height=t),!u&&!/%$/.test(e)&&(l._cover.style.width=e,l._container.style.width=""),!r&&!/%$/.test(t)?l._element.style.height=t:l._element.style.height="",i||l._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,l)},setAutoSize:function(){this.plugins.video.setPercentSize.call(this,100,this.context.video._defaultRatio)},setOriginSize:function(e){const t=this.context.video;t._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,t._element),this.plugins.video.cancelPercentAttr.call(this);const i=((e?t._element.getAttribute("data-size"):"")||t._element.getAttribute("data-origin")||"").split(",");if(i){const n=i[0],l=i[1];t._onlyPercentage||/%$/.test(n)&&(/%$/.test(l)||!/\d/.test(l))?this.plugins.video.setPercentSize.call(this,n,l):this.plugins.video.setSize.call(this,n,l),this.plugins.resizing._module_saveCurrentSize.call(this,t)}},setPercentSize:function(e,t){const i=this.context.video;t=t&&!/%$/.test(t)&&!this.util.getNumber(t,0)?this.util.isNumber(t)?t+"%":t:this.util.isNumber(t)?t+i.sizeUnit:t||i._defaultRatio,i._container.style.width=this.util.isNumber(e)?e+"%":e,i._container.style.height="",i._cover.style.width="100%",i._cover.style.height=t,i._cover.style.paddingBottom=t,i._element.style.width="100%",i._element.style.height="100%",i._element.style.maxWidth="",i._align==="center"&&this.plugins.video.setAlign.call(this,null,null,null,null),i._element.setAttribute("data-percentage",e+","+t),this.plugins.resizing._module_saveCurrentSize.call(this,i)},cancelPercentAttr:function(){const e=this.context.video;e._cover.style.width="",e._cover.style.height="",e._cover.style.paddingBottom="",e._container.style.width="",e._container.style.height="",this.util.removeClass(e._container,this.context.video._floatClassRegExp),this.util.addClass(e._container,"__se__float-"+e._align),e._align==="center"&&this.plugins.video.setAlign.call(this,null,null,null,null)},setAlign:function(e,t,i,n){const l=this.context.video;e||(e=l._align),t||(t=l._element),i||(i=l._cover),n||(n=l._container),/%$/.test(t.style.width)&&e==="center"?(n.style.minWidth="100%",i.style.width=n.style.width,i.style.height=i.style.height,i.style.paddingBottom=/%$/.test(i.style.height)?this.util.getNumber(this.util.getNumber(i.style.height,2)/100*this.util.getNumber(i.style.width,2),2)+"%":i.style.height):(n.style.minWidth="",i.style.width=this.context.resizing._rotateVertical?t.style.height||t.offsetHeight:t.style.width||"100%",i.style.paddingBottom=i.style.height),this.util.hasClass(n,"__se__float-"+e)||(this.util.removeClass(n,l._floatClassRegExp),this.util.addClass(n,"__se__float-"+e)),t.setAttribute("data-align",e)},init:function(){const e=this.context.video;e.videoInputFile&&(e.videoInputFile.value=""),e.videoUrlFile&&(e._linkValue=e.preview.textContent=e.videoUrlFile.value=""),e.videoInputFile&&e.videoUrlFile&&(e.videoUrlFile.removeAttribute("disabled"),e.preview.style.textDecoration=""),e._origin_w=this.options.videoWidth,e._origin_h=this.options.videoHeight,e.modal.querySelector('input[name="suneditor_video_radio"][value="none"]').checked=!0,e._resizing&&(e.inputX.value=this.options.videoWidth===e._defaultSizeX?"":this.options.videoWidth,e.inputY.value=this.options.videoHeight===e._defaultSizeY?"":this.options.videoHeight,e.proportion.checked=!0,e.proportion.disabled=!0,this.plugins.video.setVideoRatioSelect.call(this,e._defaultRatio))}},ar={name:"audio",display:"dialog",add:function(e){e.addModule([yn,rl,al]);const t=e.context,i=t.audio={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,targetSelect:null,_origin_w:e.options.audioWidth,_origin_h:e.options.audioHeight,_linkValue:"",_element:null,_cover:null,_container:null};let n=this.setDialog(e);i.modal=n,i.audioInputFile=n.querySelector("._se_audio_files"),i.audioUrlFile=n.querySelector(".se-input-url"),i.focusElement=i.audioInputFile||i.audioUrlFile,i.preview=n.querySelector(".se-link-preview");let l=this.setController(e);i.controller=l,n.querySelector("form").addEventListener("submit",this.submit.bind(e)),i.audioInputFile&&n.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(i.audioInputFile,i.audioUrlFile,i.preview)),i.audioInputFile&&i.audioUrlFile&&i.audioInputFile.addEventListener("change",this._fileInputChange.bind(i)),l.addEventListener("click",this.onClick_controller.bind(e)),i.audioUrlFile&&i.audioUrlFile.addEventListener("input",this._onLinkPreview.bind(i.preview,i,e.options.linkProtocol)),t.dialog.modal.appendChild(n),t.element.relative.appendChild(l),n=null,l=null},setDialog:function(e){const t=e.options,i=e.lang,n=e.util.createElement("DIV");n.className="se-dialog-content",n.style.display="none";let l='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+i.dialogBox.close+'" aria-label="'+i.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-modal-title">'+i.dialogBox.audioBox.title+'</span></div><div class="se-dialog-body">';return t.audioFileInput&&(l+='<div class="se-dialog-form"><label>'+i.dialogBox.audioBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_audio_files" type="file" accept="'+t.audioAccept+'"'+(t.audioMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+i.controller.remove+'" aria-label="'+i.controller.remove+'">'+e.icons.cancel+"</button></div></div>"),t.audioUrlInput&&(l+='<div class="se-dialog-form"><label>'+i.dialogBox.audioBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),l+='</div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+i.dialogBox.submitButton+'" aria-label="'+i.dialogBox.submitButton+'"><span>'+i.dialogBox.submitButton+"</span></button></div></form>",n.innerHTML=l,n},setController:function(e){const t=e.lang,i=e.icons,n=e.util.createElement("DIV");return n.className="se-controller se-controller-link",n.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-tooltip">'+i.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div></div>",n},_fileInputChange:function(){this.audioInputFile.value?(this.audioUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.audioUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(e,t){this.value="",e&&(e.removeAttribute("disabled"),t.style.textDecoration="")},_createAudioTag:function(){const e=this.util.createElement("AUDIO");this.plugins.audio._setTagAttrs.call(this,e);const t=this.context.audio._origin_w,i=this.context.audio._origin_h;return e.setAttribute("origin-size",t+","+i),e.style.cssText=(t?"width:"+t+"; ":"")+(i?"height:"+i+";":""),e},_setTagAttrs:function(e){e.setAttribute("controls",!0);const t=this.options.audioTagAttrs;if(t)for(let i in t)this.util.hasOwn(t,i)&&e.setAttribute(i,t[i])},_onLinkPreview:function(e,t,i){const n=i.target.value.trim();e._linkValue=this.textContent=n?t&&n.indexOf("://")===-1&&n.indexOf("#")!==0?t+n:n.indexOf("://")===-1?"/"+n:n:""},fileTags:["audio"],select:function(e){this.plugins.audio.onModifyMode.call(this,e)},destroy:function(e){e=e||this.context.audio._element;const t=this.util.getParentElement(e,this.util.isComponent)||e,i=e.getAttribute("data-index")*1;if(typeof this.functions.onAudioDeleteBefore=="function"&&this.functions.onAudioDeleteBefore(e,t,i,this)===!1)return;const n=t.previousElementSibling||t.nextElementSibling,l=t.parentNode;this.util.removeItem(t),this.plugins.audio.init.call(this),this.controllersOff(),l!==this.context.element.wysiwyg&&this.util.removeItemAllParents(l,function(r){return r.childNodes.length===0},null),this.focusEdge(n),this.plugins.fileManager.deleteInfo.call(this,"audio",i,this.functions.onAudioUpload),this.history.push(!1)},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"audio",["audio"],this.functions.onAudioUpload,this.plugins.audio.updateCover.bind(this),!1)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"audio",this.functions.onAudioUpload)},on:function(e){const t=this.context.audio;e?t._element?(this.context.dialog.updateModal=!0,t._linkValue=t.preview.textContent=t.audioUrlFile.value=t._element.src,t.audioInputFile&&this.options.audioMultipleFile&&t.audioInputFile.removeAttribute("multiple")):t.audioInputFile&&this.options.audioMultipleFile&&t.audioInputFile.removeAttribute("multiple"):(this.plugins.audio.init.call(this),t.audioInputFile&&this.options.audioMultipleFile&&t.audioInputFile.setAttribute("multiple","multiple"))},open:function(){this.plugins.dialog.open.call(this,"audio",this.currentControllerName==="audio")},submit:function(e){const t=this.context.audio;e.preventDefault(),e.stopPropagation();try{t.audioInputFile&&t.audioInputFile.files.length>0?(this.showLoading(),this.plugins.audio.submitAction.call(this,t.audioInputFile.files)):t.audioUrlFile&&t._linkValue.length>0&&(this.showLoading(),this.plugins.audio.setupUrl.call(this,t._linkValue))}catch(i){throw this.closeLoading(),Error('[SUNEDITOR.audio.submit.fail] cause : "'+i.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(e){if(e.length===0)return;let t=0,i=[];for(let u=0,c=e.length;u<c;u++)/audio/i.test(e[u].type)&&(i.push(e[u]),t+=e[u].size);const n=this.options.audioUploadSizeLimit;if(n>0){let u=0;const c=this.context.audio._infoList;for(let o=0,f=c.length;o<f;o++)u+=c[o].size*1;if(t+u>n){this.closeLoading();const o="[SUNEDITOR.audioUpload.fail] Size of uploadable total audios: "+n/1e3+"KB";(typeof this.functions.onAudioUploadError!="function"||this.functions.onAudioUploadError(o,{limitSize:n,currentSize:u,uploadSize:t},this))&&this.functions.noticeOpen(o);return}}const l=this.context.audio;l._uploadFileLength=i.length;const r={isUpdate:this.context.dialog.updateModal,element:l._element};if(typeof this.functions.onAudioUploadBefore=="function"){const u=this.functions.onAudioUploadBefore(i,r,this,(function(c){c&&this._w.Array.isArray(c.result)?this.plugins.audio.register.call(this,r,c):this.plugins.audio.upload.call(this,r,c)}).bind(this));if(typeof u>"u")return;if(!u){this.closeLoading();return}typeof u=="object"&&u.length>0&&(i=u)}this.plugins.audio.upload.call(this,r,i)},error:function(e,t){if(this.closeLoading(),typeof this.functions.onAudioUploadError!="function"||this.functions.onAudioUploadError(e,t,this))throw this.functions.noticeOpen(e),Error("[SUNEDITOR.plugin.audio.exception] response: "+e)},upload:function(e,t){if(!t){this.closeLoading();return}if(typeof t=="string"){this.plugins.audio.error.call(this,t,null);return}const i=this.options.audioUploadUrl,n=this.context.dialog.updateModal?1:t.length,l=new FormData;for(let r=0;r<n;r++)l.append("file-"+r,t[r]);this.plugins.fileManager.upload.call(this,i,this.options.audioUploadHeader,l,this.plugins.audio.callBack_upload.bind(this,e),this.functions.onAudioUploadError)},callBack_upload:function(e,t){if(typeof this.functions.audioUploadHandler=="function")this.functions.audioUploadHandler(t,e,this);else{const i=JSON.parse(t.responseText);i.errorMessage?this.plugins.audio.error.call(this,i.errorMessage,i):this.plugins.audio.register.call(this,e,i)}},register:function(e,t){const i=t.result;for(let n=0,l=i.length,r,u;n<l;n++)e.isUpdate?u=e.element:u=this.plugins.audio._createAudioTag.call(this),r={name:i[n].name,size:i[n].size},this.plugins.audio.create_audio.call(this,u,i[n].url,r,e.isUpdate);this.closeLoading()},setupUrl:function(e){try{if(e.length===0)return!1;this.plugins.audio.create_audio.call(this,this.plugins.audio._createAudioTag.call(this),e,null,this.context.dialog.updateModal)}catch(t){throw Error('[SUNEDITOR.audio.audio.fail] cause : "'+t.message+'"')}finally{this.closeLoading()}},create_audio:function(e,t,i,n){const l=this.context.audio;if(n)if(l._element&&(e=l._element),e&&e.src!==t)e.src=t,this.selectComponent(e,"audio");else{this.selectComponent(e,"audio");return}else{e.src=t;const r=this.plugins.component.set_cover.call(this,e),u=this.plugins.component.set_container.call(this,r,"");if(!this.insertComponent(u,!1,!0,!this.options.mediaAutoSelect)){this.focus();return}if(!this.options.mediaAutoSelect){const c=this.appendFormatTag(u,null);c&&this.setRange(c,0,c,0)}}this.plugins.fileManager.setInfo.call(this,"audio",e,this.functions.onAudioUpload,i,!1),n&&this.history.push(!1)},updateCover:function(e){const t=this.context.audio;this.plugins.audio._setTagAttrs.call(this,e);let i=this.util.isRangeFormatElement(e.parentNode)||this.util.isWysiwygDiv(e.parentNode)?e:this.util.getFormatElement(e)||e;const n=e;t._element=e=e.cloneNode(!1);const l=this.plugins.component.set_cover.call(this,e),r=this.plugins.component.set_container.call(this,l,"se-audio-container");try{if(this.util.getParentElement(n,this.util.isNotCheckingNode))n.parentNode.replaceChild(r,n);else if(this.util.isListCell(i)){const u=this.util.getParentElement(n,function(c){return c.parentNode===i});i.insertBefore(r,u),this.util.removeItem(n),this.util.removeEmptyNode(u,null,!0)}else if(this.util.isFormatElement(i)){const u=this.util.getParentElement(n,function(c){return c.parentNode===i});i=this.util.splitElement(i,u),i.parentNode.insertBefore(r,i),this.util.removeItem(n),this.util.removeEmptyNode(i,null,!0),i.children.length===0&&(i.innerHTML=this.util.htmlRemoveWhiteSpace(i.innerHTML))}else i.parentNode.replaceChild(r,i)}catch(u){console.warn("[SUNEDITOR.audio.error] Maybe the audio tag is nested.",u)}this.plugins.fileManager.setInfo.call(this,"audio",e,this.functions.onAudioUpload,null,!1),this.plugins.audio.init.call(this)},onModifyMode:function(e){const t=this.context.audio;this.setControllerPosition(t.controller,e,"bottom",{left:0,top:0}),this.controllersOn(t.controller,e,this.plugins.audio.onControllerOff.bind(this,e),"audio"),this.util.addClass(e,"active"),t._element=e,t._cover=this.util.getParentElement(e,"FIGURE"),t._container=this.util.getParentElement(e,this.util.isComponent)},openModify:function(e){if(this.context.audio.audioUrlFile){const t=this.context.audio;t._linkValue=t.preview.textContent=t.audioUrlFile.value=t._element.src}e||this.plugins.dialog.open.call(this,"audio",!0)},onClick_controller:function(e){e.stopPropagation();const t=e.target.getAttribute("data-command");t&&(e.preventDefault(),/update/.test(t)?this.plugins.audio.openModify.call(this,!1):this.plugins.audio.destroy.call(this,this.context.audio._element),this.controllersOff())},onControllerOff:function(e){this.util.removeClass(e,"active"),this.context.audio.controller.style.display="none"},init:function(){if(this.context.dialog.updateModal)return;const e=this.context.audio;e.audioInputFile&&(e.audioInputFile.value=""),e.audioUrlFile&&(e._linkValue=e.preview.textContent=e.audioUrlFile.value=""),e.audioInputFile&&e.audioUrlFile&&(e.audioUrlFile.removeAttribute("disabled"),e.preview.style.textDecoration=""),e._element=null}},yo="https://katex.org/docs/supported.html",cr={name:"math",display:"dialog",add:function(e){e.addModule([yn]);const t=e.context;t.math={focusElement:null,previewElement:null,fontSizeElement:null,defaultFontSize:"",_mathExp:null};let i=this.setDialog(e);t.math.modal=i,t.math.focusElement=i.querySelector(".se-math-exp"),t.math.previewElement=i.querySelector(".se-math-preview"),t.math.fontSizeElement=i.querySelector(".se-math-size"),t.math.focusElement.addEventListener(e.util.isIE?"textinput":"input",this._renderMathExp.bind(e,t.math),!1),t.math.fontSizeElement.addEventListener("change",(function(l){this.fontSize=l.target.value}).bind(t.math.previewElement.style),!1);let n=this.setController_MathButton(e);t.math.mathController=n,t.math._mathExp=null,i.querySelector("form").addEventListener("submit",this.submit.bind(e),!1),n.addEventListener("click",this.onClick_mathController.bind(e)),t.math.previewElement.style.fontSize=t.math.defaultFontSize,t.dialog.modal.appendChild(i),t.element.relative.appendChild(n),i=null,n=null},setDialog:function(e){const t=e.lang,i=e.util.createElement("DIV"),n=e.options.mathFontSize;let l=n[0].value;i.className="se-dialog-content",i.style.display="none";let r='<form><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+t.dialogBox.close+'" aria-label="'+t.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-modal-title">'+t.dialogBox.mathBox.title+'</span></div><div class="se-dialog-body"><div class="se-dialog-form"><label>'+t.dialogBox.mathBox.inputLabel+' (<a href="'+yo+'" target="_blank">KaTeX</a>)</label><textarea class="se-input-form se-math-exp" type="text"></textarea></div><div class="se-dialog-form"><label>'+t.dialogBox.mathBox.fontSizeLabel+'</label><select class="se-input-select se-math-size">';for(let u=0,c=n.length,o;u<c;u++)o=n[u],o.default&&(l=o.value),r+='<option value="'+o.value+'"'+(o.default?" selected":"")+">"+o.text+"</option>";return r+='</select></div><div class="se-dialog-form"><label>'+t.dialogBox.mathBox.previewLabel+'</label><p class="se-math-preview"></p></div></div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+t.dialogBox.submitButton+'" aria-label="'+t.dialogBox.submitButton+'"><span>'+t.dialogBox.submitButton+"</span></button></div></form>",e.context.math.defaultFontSize=l,i.innerHTML=r,i},setController_MathButton:function(e){const t=e.lang,i=e.util.createElement("DIV");return i.className="se-controller se-controller-link",i.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+e.icons.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+e.icons.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div></div>",i},open:function(){this.plugins.dialog.open.call(this,"math",this.currentControllerName==="math")},managedTags:function(){return{className:"katex",method:function(e){if(!e.getAttribute("data-exp")||!this.options.katex)return;const t=this._d.createRange().createContextualFragment(this.plugins.math._renderer.call(this,this.util.HTMLDecoder(e.getAttribute("data-exp"))));e.innerHTML=t.querySelector(".katex").innerHTML,e.setAttribute("contenteditable",!1)}}},_renderer:function(e){let t="";try{this.util.removeClass(this.context.math.focusElement,"se-error"),t=this.options.katex.src.renderToString(e,{throwOnError:!0,displayMode:!0})}catch(i){this.util.addClass(this.context.math.focusElement,"se-error"),t='<span class="se-math-katex-error">Katex syntax error. (Refer <a href="'+yo+'" target="_blank">KaTeX</a>)</span>',console.warn("[SUNEDITOR.math.Katex.error] ",i)}return t},_renderMathExp:function(e,t){e.previewElement.innerHTML=this.plugins.math._renderer.call(this,t.target.value)},submit:function(e){this.showLoading(),e.preventDefault(),e.stopPropagation();const t=(function(){if(this.context.math.focusElement.value.trim().length===0)return!1;const i=this.context.math,n=i.focusElement.value,l=i.previewElement.querySelector(".katex");if(!l)return!1;if(l.className="__se__katex "+l.className,l.setAttribute("contenteditable",!1),l.setAttribute("data-exp",this.util.HTMLEncoder(n)),l.setAttribute("data-font-size",i.fontSizeElement.value),l.style.fontSize=i.fontSizeElement.value,this.context.dialog.updateModal){const r=this.util.getParentElement(i._mathExp,".katex");r.parentNode.replaceChild(l,r),this.setRange(l,0,l,1)}else{const r=this.getSelectedElements();if(r.length>1){const c=this.util.createElement(r[0].nodeName);if(c.appendChild(l),!this.insertNode(c,null,!0))return!1}else if(!this.insertNode(l,null,!0))return!1;const u=this.util.createTextNode(this.util.zeroWidthSpace);l.parentNode.insertBefore(u,l.nextSibling),this.setRange(l,0,l,1)}return i.focusElement.value="",i.fontSizeElement.value="1em",i.previewElement.style.fontSize="1em",i.previewElement.innerHTML="",!0}).bind(this);try{t()&&(this.plugins.dialog.close.call(this),this.history.push(!1))}catch{this.plugins.dialog.close.call(this)}finally{this.closeLoading()}return!1},active:function(e){if(!e)this.controllerArray.indexOf(this.context.math.mathController)>-1&&this.controllersOff();else if(e.getAttribute("data-exp"))return this.controllerArray.indexOf(this.context.math.mathController)<0&&(this.setRange(e,0,e,1),this.plugins.math.call_controller.call(this,e)),!0;return!1},on:function(e){if(!e)this.plugins.math.init.call(this);else{const t=this.context.math;if(t._mathExp){const i=this.util.HTMLDecoder(t._mathExp.getAttribute("data-exp")),n=t._mathExp.getAttribute("data-font-size")||"1em";this.context.dialog.updateModal=!0,t.focusElement.value=i,t.fontSizeElement.value=n,t.previewElement.innerHTML=this.plugins.math._renderer.call(this,i),t.previewElement.style.fontSize=n}}},call_controller:function(e){this.context.math._mathExp=e;const t=this.context.math.mathController;this.setControllerPosition(t,e,"bottom",{left:0,top:0}),this.controllersOn(t,e,"math")},onClick_mathController:function(e){e.stopPropagation();const t=e.target.getAttribute("data-command")||e.target.parentNode.getAttribute("data-command");t&&(e.preventDefault(),/update/.test(t)?(this.context.math.focusElement.value=this.util.HTMLDecoder(this.context.math._mathExp.getAttribute("data-exp")),this.plugins.dialog.open.call(this,"math",!0)):(this.util.removeItem(this.context.math._mathExp),this.context.math._mathExp=null,this.focus(),this.history.push(!1)),this.controllersOff())},init:function(){const e=this.context.math;e.mathController.style.display="none",e._mathExp=null,e.focusElement.value="",e.previewElement.innerHTML=""}};var dr={exports:{}};(function(e){(function(t,i){e.exports=t.document?i(t,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_MODULES a window with a document");return i(n)}})(typeof window<"u"?window:Ue,function(t,i){const n={name:"fileBrowser",_xmlHttp:null,_loading:null,add:function(l){const r=l.context;r.fileBrowser={_closeSignal:!1,area:null,header:null,tagArea:null,body:null,list:null,tagElements:null,items:[],selectedTags:[],selectorHandler:null,contextPlugin:"",columnSize:4};let u=l.util.createElement("DIV");u.className="se-file-browser sun-editor-common";let c=l.util.createElement("DIV");c.className="se-file-browser-back";let o=l.util.createElement("DIV");o.className="se-file-browser-inner",o.innerHTML=this.set_browser(l),u.appendChild(c),u.appendChild(o),this._loading=u.querySelector(".se-loading-box"),r.fileBrowser.area=u,r.fileBrowser.header=o.querySelector(".se-file-browser-header"),r.fileBrowser.titleArea=o.querySelector(".se-file-browser-title"),r.fileBrowser.tagArea=o.querySelector(".se-file-browser-tags"),r.fileBrowser.body=o.querySelector(".se-file-browser-body"),r.fileBrowser.list=o.querySelector(".se-file-browser-list"),r.fileBrowser.tagArea.addEventListener("click",this.onClickTag.bind(l)),r.fileBrowser.list.addEventListener("click",this.onClickFile.bind(l)),o.addEventListener("mousedown",this._onMouseDown_browser.bind(l)),o.addEventListener("click",this._onClick_browser.bind(l)),r.element.relative.appendChild(u),u=null,c=null,o=null},set_browser:function(l){const r=l.lang;return'<div class="se-file-browser-content"><div class="se-file-browser-header"><button type="button" data-command="close" class="se-btn se-file-browser-close" class="close" title="'+r.dialogBox.close+'" aria-label="'+r.dialogBox.close+'">'+l.icons.cancel+'</button><span class="se-file-browser-title"></span><div class="se-file-browser-tags"></div></div><div class="se-file-browser-body"><div class="se-loading-box sun-editor-common"><div class="se-loading-effect"></div></div><div class="se-file-browser-list"></div></div></div>'},_onMouseDown_browser:function(l){/se-file-browser-inner/.test(l.target.className)?this.context.fileBrowser._closeSignal=!0:this.context.fileBrowser._closeSignal=!1},_onClick_browser:function(l){l.stopPropagation(),(/close/.test(l.target.getAttribute("data-command"))||this.context.fileBrowser._closeSignal)&&this.plugins.fileBrowser.close.call(this)},open:function(l,r){this.plugins.fileBrowser._bindClose&&(this._d.removeEventListener("keydown",this.plugins.fileBrowser._bindClose),this.plugins.fileBrowser._bindClose=null),this.plugins.fileBrowser._bindClose=(function(f){/27/.test(f.keyCode)&&this.plugins.fileBrowser.close.call(this)}).bind(this),this._d.addEventListener("keydown",this.plugins.fileBrowser._bindClose);const u=this.context.fileBrowser;u.contextPlugin=l,u.selectorHandler=r;const c=this.context[l],o=c.listClass;this.util.hasClass(u.list,o)||(u.list.className="se-file-browser-list "+o),this.options.popupDisplay==="full"?u.area.style.position="fixed":u.area.style.position="absolute",u.titleArea.textContent=c.title,u.area.style.display="block",this.plugins.fileBrowser._drawFileList.call(this,this.context[l].url,this.context[l].header)},_bindClose:null,close:function(){const l=this.plugins.fileBrowser;l._xmlHttp&&l._xmlHttp.abort(),l._bindClose&&(this._d.removeEventListener("keydown",l._bindClose),l._bindClose=null);const r=this.context.fileBrowser;r.area.style.display="none",r.selectorHandler=null,r.selectedTags=[],r.items=[],r.list.innerHTML=r.tagArea.innerHTML=r.titleArea.textContent="",typeof this.plugins[r.contextPlugin].init=="function"&&this.plugins[r.contextPlugin].init.call(this),r.contextPlugin=""},showBrowserLoading:function(){this._loading.style.display="block"},closeBrowserLoading:function(){this._loading.style.display="none"},_drawFileList:function(l,r){const u=this.plugins.fileBrowser,c=u._xmlHttp=this.util.getXMLHttpRequest();if(c.onreadystatechange=u._callBackGet.bind(this,c),c.open("get",l,!0),r!==null&&typeof r=="object"&&this._w.Object.keys(r).length>0)for(let o in r)c.setRequestHeader(o,r[o]);c.send(null),this.plugins.fileBrowser.showBrowserLoading()},_callBackGet:function(l){if(l.readyState===4){if(this.plugins.fileBrowser._xmlHttp=null,l.status===200)try{const r=JSON.parse(l.responseText);r.result.length>0?this.plugins.fileBrowser._drawListItem.call(this,r.result,!0):r.nullMessage&&(this.context.fileBrowser.list.innerHTML=r.nullMessage)}catch(r){throw Error('[SUNEDITOR.fileBrowser.drawList.fail] cause : "'+r.message+'"')}finally{this.plugins.fileBrowser.closeBrowserLoading(),this.context.fileBrowser.body.style.maxHeight=this._w.innerHeight-this.context.fileBrowser.header.offsetHeight-50+"px"}else if(this.plugins.fileBrowser.closeBrowserLoading(),l.status!==0){const r=l.responseText?JSON.parse(l.responseText):l,u="[SUNEDITOR.fileBrowser.get.serverException] status: "+l.status+", response: "+(r.errorMessage||l.responseText);throw Error(u)}}},_drawListItem:function(l,r){const u=this.context.fileBrowser,c=this.context[u.contextPlugin],o=[],f=l.length,d=c.columnSize||u.columnSize,g=d<=1?1:Math.round(f/d)||1,y=c.itemTemplateHandler;let _="",S='<div class="se-file-item-column">',T=1;for(let s=0,a,h;s<f;s++)if(a=l[s],h=a.tag?typeof a.tag=="string"?a.tag.split(","):a.tag:[],h=a.tag=h.map(function(p){return p.trim()}),S+=y(a),(s+1)%g===0&&T<d&&s+1<f&&(T++,S+='</div><div class="se-file-item-column">'),r&&h.length>0)for(let p=0,m=h.length,v;p<m;p++)v=h[p],v&&o.indexOf(v)===-1&&(o.push(v),_+='<a title="'+v+'" aria-label="'+v+'">'+v+"</a>");S+="</div>",u.list.innerHTML=S,r&&(u.items=l,u.tagArea.innerHTML=_,u.tagElements=u.tagArea.querySelectorAll("A"))},onClickTag:function(l){const r=l.target;if(!this.util.isAnchor(r))return;const u=r.textContent,c=this.plugins.fileBrowser,o=this.context.fileBrowser,f=o.tagArea.querySelector('a[title="'+u+'"]'),d=o.selectedTags,g=d.indexOf(u);g>-1?(d.splice(g,1),this.util.removeClass(f,"on")):(d.push(u),this.util.addClass(f,"on")),c._drawListItem.call(this,d.length===0?o.items:o.items.filter(function(y){return y.tag.some(function(_){return d.indexOf(_)>-1})}),!1)},onClickFile:function(l){l.preventDefault(),l.stopPropagation();const r=this.context.fileBrowser,u=r.list;let c=l.target,o=null;if(c===u)return;for(;u!==c.parentNode&&(o=c.getAttribute("data-command"),!o);)c=c.parentNode;if(!o)return;(r.selectorHandler||this.context[r.contextPlugin].selectorHandler)(c,c.parentNode.querySelector(".__se__img_name").textContent),this.plugins.fileBrowser.close.call(this)}};return typeof i>"u"&&(t.SUNEDITOR_MODULES||Object.defineProperty(t,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(t.SUNEDITOR_MODULES,"fileBrowser",{enumerable:!0,writable:!1,configurable:!1,value:n})),n})})(dr);var ug=dr.exports;const fg=nn(ug),ur={name:"imageGallery",add:function(e){e.addModule([fg]);const t=e.context;t.imageGallery={title:e.lang.toolbar.imageGallery,url:e.options.imageGalleryUrl,header:e.options.imageGalleryHeader,listClass:"se-image-list",itemTemplateHandler:this.drawItems,selectorHandler:this.setImage.bind(e),columnSize:4}},open:function(e){this.plugins.fileBrowser.open.call(this,"imageGallery",e)},drawItems:function(e){const t=e.src.split("/").pop();return'<div class="se-file-item-img"><img src="'+(e.thumbnail||e.src)+'" alt="'+(e.alt||t)+'" data-command="pick" data-value="'+(e.src||e.thumbnail)+'"><div class="se-file-img-name se-file-name-back"></div><div class="se-file-img-name __se__img_name">'+(e.name||t)+"</div></div>"},setImage:function(e,t){this.callPlugin("image",(function(){const i={name:t,size:0};this.plugins.image.create_image.call(this,e.getAttribute("data-value"),null,this.context.image._origin_w,this.context.image._origin_h,"none",i,e.alt)}).bind(this),null)}},hg={blockquote:$s,align:Ps,font:Hs,fontSize:Fs,fontColor:Ks,hiliteColor:Us,horizontalRule:js,list:Ws,table:qs,formatBlock:Zs,lineHeight:Xs,template:Gs,paragraphStyle:Ys,textStyle:Js,link:tr,image:sr,video:rr,audio:ar,math:cr,imageGallery:ur},gg=Object.freeze(Object.defineProperty({__proto__:null,align:Ps,audio:ar,blockquote:$s,default:hg,font:Hs,fontColor:Ks,fontSize:Fs,formatBlock:Zs,hiliteColor:Us,horizontalRule:js,image:sr,imageGallery:ur,lineHeight:Xs,link:tr,list:Ws,math:cr,paragraphStyle:Ys,table:qs,template:Gs,textStyle:Js,video:rr},Symbol.toStringTag,{value:"Module"})),pg=Mo(gg),Co={rtl:{italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.5 15.8" xml:space="preserve"><g><path d="M0.3,0.1c0.3,0,0.5,0,0.7,0c1,0.1,1.7,0.1,2.2,0.1H4L7.2,0l0.2,1.1H7c-0.5,0-1,0.1-1.5,0.3v0.4l0.3,1.9L6,4.4L6.3,6 l0.1,0.4l0.1,0.5c0.1,0.2,0.1,0.4,0.2,0.7s0.1,0.6,0.2,0.9L7,9.1l0.6,2.8l0.3,1.4c0.1,0.4,0.2,0.7,0.4,1c0.4,0.2,0.8,0.3,1.2,0.4 l0.8,0.2l0.2,0.9l-1.1,0c-0.9-0.1-1.5-0.1-1.8-0.1h-2c-0.9,0.1-1.4,0.2-1.5,0.2c-0.1,0-0.2,0-0.3,0H3.4c-0.1,0-0.2,0-0.2,0 l-0.1-0.4c0-0.2-0.1-0.4-0.1-0.6l0.7-0.1c0.4,0,0.8-0.1,1.2-0.2c0-0.1,0-0.2,0-0.3l-0.1-0.5l-0.4-2.4L4,9.6L3.4,6.4 C3.2,5.7,3,4.7,2.7,3.3c0-0.3-0.1-0.5-0.1-0.8C2.5,2.1,2.4,1.9,2.3,1.6C2,1.4,1.6,1.3,1.3,1.2C0.9,1.2,0.5,1.1,0.2,0.9L0,0.4L0,0 L0.3,0.1L0.3,0.1z"/></g></svg>',indent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><g><path d="M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z"/></g><path d="M13.1,3.5L15.7,6c0.1,0.1,0.1,0.3,0,0.4l-2.5,2.5C13.1,9,13,9,12.9,9c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.1-0.1-0.1-0.2V3.7 c0-0.1,0-0.2,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C13,3.4,13.1,3.4,13.1,3.5z"/></g></svg>',outdent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><g><path d="M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z"/></g><path d="M15.5,3.4c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2v5.1c0,0.1,0,0.1-0.1,0.2C15.6,9,15.5,9,15.5,9 c-0.1,0-0.1,0-0.2-0.1l-2.5-2.5c-0.1-0.1-0.1-0.3,0-0.4l2.5-2.5C15.3,3.4,15.4,3.4,15.5,3.4z"/></g></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><path d="M12.4,10.7c0,0.9,0.8,1.7,1.7,1.7c0.9,0,1.7-0.8,1.7-1.7C15.7,9.8,15,9,14.1,9c-0.4,0-0.9,0.2-1.2,0.5 C12.5,9.8,12.4,10.2,12.4,10.7C12.4,10.7,12.4,10.7,12.4,10.7z M12.4,6.2c0,0.9,0.8,1.7,1.7,1.7c0.4,0,0.9-0.2,1.2-0.5 c0.3-0.3,0.4-0.7,0.4-1.1c0-0.9-0.7-1.7-1.6-1.7C13.1,4.6,12.4,5.3,12.4,6.2C12.4,6.2,12.4,6.2,12.4,6.2z M0,9.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1l10.7,0c0,0,0,0,0,0c0.1,0,0.3-0.1,0.3-0.3V9.8c0-0.1,0-0.1-0.1-0.2 C11.1,9.6,11,9.6,11,9.6l-10.7,0c-0.1,0-0.1,0-0.2,0.1C0,9.7,0,9.8,0,9.8L0,9.8z M12.9,2.9c0.3,0.3,0.7,0.5,1.2,0.5 c0.4,0,0.9-0.2,1.2-0.5c0.7-0.7,0.7-1.7,0-2.4C14.9,0.2,14.5,0,14.1,0c-0.4,0-0.9,0.2-1.2,0.5c-0.3,0.3-0.5,0.7-0.5,1.2 C12.4,2.1,12.5,2.6,12.9,2.9z M0,5.3V7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.1,0,0.2-0.1 c0.1-0.1,0.1-0.1,0.1-0.2V5.3c0,0,0,0,0,0c0-0.1-0.1-0.3-0.3-0.3H0.3c-0.1,0-0.1,0-0.2,0.1C0,5.2,0,5.3,0,5.3L0,5.3z M0,0.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1h10.7c0.1,0,0.1,0,0.2-0.1c0,0,0.1-0.1,0.1-0.2V0.8c0-0.1,0-0.1-0.1-0.2 c0-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.1,0-0.2,0.1C0,0.7,0,0.8,0,0.8L0,0.8z"/></g></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M0,11.5l0,1.7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2v-1.7 c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.2,0-0.2,0.1C0,11.4,0,11.4,0,11.5L0,11.5z M0,8.7c0,0.1,0,0.1,0.1,0.2 C0.1,8.9,0.2,9,0.3,9H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V7c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1l-10.7,0 c-0.1,0-0.2,0-0.2,0.1C0,6.8,0,6.9,0,7C0,7,0,8.7,0,8.7z M0,2.5v1.7c0,0.1,0,0.1,0.1,0.2c0,0,0.1,0.1,0.2,0.1l10.7,0 c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V2.4c0-0.1,0-0.1-0.1-0.2c-0.1,0-0.1,0-0.2,0H0.3c-0.1,0-0.1,0-0.2,0 C0,2.3,0,2.4,0,2.5L0,2.5z"/></g><path d="M15.6,14.2c0-0.3-0.1-0.6-0.3-0.8c-0.2-0.2-0.4-0.4-0.7-0.4l0.9-1v-0.8h-2.9v1.3h0.9v-0.5h0.9l0,0c-0.1,0.1-0.2,0.2-0.3,0.3 s-0.2,0.3-0.4,0.5l-0.3,0.3l0.2,0.5c0.6,0,0.9,0.1,0.9,0.5c0,0.1-0.1,0.3-0.2,0.4c-0.1,0.1-0.3,0.1-0.4,0.1c-0.3,0-0.7-0.1-0.9-0.3 l-0.5,0.8c0.4,0.4,0.9,0.6,1.5,0.6c0.4,0,0.9-0.1,1.2-0.4C15.5,15.1,15.6,14.7,15.6,14.2z"/><path d="M15.6,8.7h-0.9v0.5h-1.1c0-0.2,0.2-0.4,0.4-0.5c0.2-0.2,0.4-0.3,0.7-0.4c0.3-0.2,0.5-0.3,0.7-0.6c0.2-0.2,0.3-0.5,0.3-0.8 c0-0.4-0.2-0.8-0.5-1c-0.6-0.4-1.4-0.5-2-0.1c-0.3,0.2-0.5,0.4-0.6,0.7L13.3,7c0.1-0.3,0.4-0.5,0.7-0.5c0.1,0,0.3,0,0.3,0.1 c0.1,0.1,0.1,0.2,0.1,0.3c0,0.2-0.1,0.3-0.2,0.4c-0.2,0.1-0.3,0.3-0.5,0.4c-0.2,0.1-0.4,0.3-0.6,0.4c-0.2,0.2-0.4,0.4-0.5,0.6 c-0.1,0.2-0.2,0.5-0.2,0.8c0,0.2,0,0.3,0,0.5h3.2L15.6,8.7L15.6,8.7z"/><path d="M15.6,3.6h-1V0h-0.9l-1.2,1.1l0.6,0.7c0.2-0.1,0.3-0.3,0.4-0.5l0,0v2.2h-0.9v0.9h3L15.6,3.6L15.6,3.6z"/></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M7.4,9.9l3.1,3.1c0.3,0.3,0.8,0.5,1.3,0.5c0.5,0,0.9-0.2,1.3-0.5c0,0,0,0,0,0c0.7-0.7,0.7-1.9,0-2.6L9.9,7.3 c0-0.1,0-0.2,0-0.3C9.9,7,10,7,10.1,7l2.2-0.2c0.1,0,0.1,0,0.2,0.1l2.1,2.1c0.4,0.4,0.7,0.8,0.9,1.3c0.2,0.5,0.3,1,0.3,1.5 c0,0.5-0.1,1-0.3,1.5c-0.8,2-3.2,3-5.2,2.2c-0.5-0.2-0.9-0.5-1.3-0.9l-2.1-2.1c-0.1,0-0.1-0.1-0.1-0.2L7,10.1C7,10,7,9.9,7.1,9.9 C7.2,9.8,7.3,9.9,7.4,9.9z M1.2,1.1C1.6,0.7,2,0.4,2.5,0.3c1-0.4,2.1-0.4,3.1,0C6,0.4,6.5,0.7,6.8,1.1L9,3.2C9,3.3,9.1,3.3,9,3.4 L8.8,5.6c0,0.1-0.1,0.2-0.2,0.2c-0.1,0.1-0.2,0.1-0.3,0L5.3,2.7C5,2.3,4.5,2.1,4,2.1c-0.5,0-0.9,0.2-1.3,0.5c0,0,0,0,0,0 C2,3.4,2,4.5,2.7,5.2l3.1,3.2c0.1,0.1,0.1,0.2,0,0.3c0,0.1-0.1,0.1-0.2,0.1L3.5,9C3.4,9,3.4,9,3.3,8.9L1.2,6.8c0,0,0,0,0,0 C-0.4,5.2-0.4,2.7,1.2,1.1L1.2,1.1z M14.3,6h-2.6c0,0,0,0,0,0c-0.1,0-0.2-0.1-0.2-0.2c0-0.1,0-0.2,0.1-0.3l2.5-0.7 c0.1,0,0.1,0,0.2,0c0.1,0,0.1,0.1,0.1,0.2l0.1,0.8c0,0.1,0,0.1-0.1,0.2C14.5,6,14.4,6,14.3,6L14.3,6z M10.2,4.1 c0,0.1-0.1,0.2-0.2,0.2l0,0c0,0,0,0,0,0C9.8,4.2,9.7,4.1,9.8,4L9.7,1.4c0-0.1,0-0.1,0.1-0.2c0.1,0,0.1,0,0.2,0h0.8 c0.1,0,0.1,0,0.2,0.1c0,0.1,0,0.1,0,0.2L10.2,4.1L10.2,4.1z M1.5,9.7h1.3h1.3c0.1,0,0.2,0.1,0.2,0.2c0,0.1,0,0.2-0.1,0.3l-2.5,0.6 H1.6c0,0-0.1,0-0.1,0c-0.1,0-0.1-0.1-0.1-0.2L1.2,9.9c0-0.1,0-0.1,0.1-0.2c0-0.1,0.1-0.1,0.2-0.1L1.5,9.7z M5.6,11.6 C5.6,11.6,5.6,11.6,5.6,11.6c0-0.1,0.1-0.2,0.3-0.1c0,0,0,0,0,0c0.1,0,0.2,0.1,0.2,0.2v2.6c0,0.1,0,0.1-0.1,0.2 c0,0-0.1,0.1-0.2,0.1L5,14.5c-0.1,0-0.1,0-0.2-0.1c0-0.1,0-0.1,0-0.2L5.6,11.6L5.6,11.6z"/></g></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M14.6,14.6c1.6-1.6,1.6-4.1,0-5.7l0,0l-3.1-3.1l-1.2,1.6l2.9,2.9c0.4,0.4,0.6,0.9,0.6,1.5c0,1.1-0.9,2.1-2.1,2.1l0,0 c-0.6,0-1.1-0.2-1.5-0.6l-0.4-0.4l-1.7,1l0.8,0.8C10.4,16.2,13,16.2,14.6,14.6L14.6,14.6L14.6,14.6z M3.6,6C3,5.9,2.6,5.5,2.3,5 S1.9,4,2.1,3.4C2.3,2.9,2.6,2.5,3,2.2C3.5,2,4.1,1.9,4.6,2l3.3,1.4l0.5-2L5.1,0.1C4-0.1,2.9,0,2,0.5C1.1,1.1,0.4,1.9,0.2,3 C-0.1,4,0,5.1,0.6,6C1.1,6.9,1.9,7.6,3,7.8l5.4,2l0.5-2L6.2,6.9L3.6,6z"/></g></svg>'},redo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.59 14.18"><g><path d="M11.58,18.48a6.84,6.84,0,1,1,6.85-6.85s0,.26,0,.67a8,8,0,0,1-.22,1.44l.91-.55a.51.51,0,0,1,.36,0,.45.45,0,0,1,.29.22.47.47,0,0,1,.06.36.45.45,0,0,1-.22.29L17.42,15.3l-.12,0h-.25l-.12-.06-.09-.09-.06-.07,0-.06-.87-2.12a.43.43,0,0,1,0-.37.49.49,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26l.44,1.09a6.51,6.51,0,0,0,.24-1.36,4.58,4.58,0,0,0,0-.64,5.83,5.83,0,0,0-1.73-4.17,5.88,5.88,0,0,0-8.34,0,5.9,5.9,0,0,0,4.17,10.06.51.51,0,0,1,.33.15.48.48,0,0,1,0,.68.53.53,0,0,1-.33.12Z" transform="translate(-4.48 -4.54)"/></g></svg>',undo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.59 14.18"><g><path d="M5,14a.43.43,0,0,1-.22-.29.46.46,0,0,1,.06-.36.43.43,0,0,1,.29-.22.56.56,0,0,1,.36,0l.91.55a8.27,8.27,0,0,1-.22-1.45,5.07,5.07,0,0,1,0-.67A6.85,6.85,0,1,1,13,18.47a.44.44,0,0,1-.33-.13.48.48,0,0,1,0-.68.51.51,0,0,1,.33-.15A5.89,5.89,0,0,0,17.15,7.45a5.88,5.88,0,0,0-8.33,0,5.84,5.84,0,0,0-1.73,4.17s0,.25,0,.65a6.49,6.49,0,0,0,.24,1.37l.44-1.09a.57.57,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26.43.43,0,0,1,0,.37L7.82,15l0,.09-.09.09-.1.07-.06,0H7.28l-.13,0-1.09-.63c-.65-.36-1-.57-1.1-.63Z" transform="translate(-4.49 -4.53)"/></g></svg>',bold:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.76 15.75"><g><path d="M6.4,3.76V19.5h6.76a5.55,5.55,0,0,0,2-.32,4.93,4.93,0,0,0,1.52-1,4.27,4.27,0,0,0,1.48-3.34,3.87,3.87,0,0,0-.69-2.37,5.74,5.74,0,0,0-.71-.83,3.44,3.44,0,0,0-1.1-.65,3.6,3.6,0,0,0,1.58-1.36,3.66,3.66,0,0,0,.53-1.93,3.7,3.7,0,0,0-1.21-2.87,4.65,4.65,0,0,0-3.25-1.1H6.4Zm2.46,6.65V5.57h3.52a4.91,4.91,0,0,1,1.36.15,2.3,2.3,0,0,1,.85.45,2.06,2.06,0,0,1,.74,1.71,2.3,2.3,0,0,1-.78,1.92,2.54,2.54,0,0,1-.86.46,4.7,4.7,0,0,1-1.32.15H8.86Zm0,7.27V12.15H12.7a4.56,4.56,0,0,1,1.38.17,3.43,3.43,0,0,1,.95.49,2.29,2.29,0,0,1,.92,2,2.73,2.73,0,0,1-.83,2.1,2.66,2.66,0,0,1-.83.58,3.25,3.25,0,0,1-1.26.2H8.86Z" transform="translate(-6.4 -3.75)"/></g></svg>',underline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9.78 15.74"><g><path d="M14.64,3.76h2.52v7.72a4.51,4.51,0,0,1-.59,2.31,3.76,3.76,0,0,1-1.71,1.53,6.12,6.12,0,0,1-2.64.53,5,5,0,0,1-3.57-1.18,4.17,4.17,0,0,1-1.27-3.24V3.76H9.9v7.3a3,3,0,0,0,.55,2,2.3,2.3,0,0,0,1.83.65,2.26,2.26,0,0,0,1.8-.65,3.09,3.09,0,0,0,.55-2V3.76Zm2.52,13.31V19.5H7.39V17.08h9.77Z" transform="translate(-7.38 -3.76)"/></g></svg>',italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.49 15.76"><g><path d="M17.16,3.79l.37,0-.06.38-.14.52A10,10,0,0,1,16.21,5a9.37,9.37,0,0,0-1,.32,6.68,6.68,0,0,0-.25.89c-.06.31-.11.59-.14.85-.3,1.36-.52,2.41-.68,3.14l-.61,3.18L13.1,15l-.43,2.4-.12.46a.62.62,0,0,0,0,.28c.44.1.85.17,1.23.22l.68.11a4.51,4.51,0,0,1-.08.6l-.09.42a.92.92,0,0,0-.23,0l-.43,0a1.37,1.37,0,0,1-.29,0c-.13,0-.63-.08-1.49-.16l-2,0c-.28,0-.87,0-1.78.12L7,19.5l.17-.88.8-.2A6.61,6.61,0,0,0,9.19,18,2.62,2.62,0,0,0,9.61,17l.28-1.41.58-2.75.12-.66c.05-.3.11-.58.17-.86s.12-.51.17-.69l.12-.48.12-.43.31-1.6.15-.65.31-1.91V5.14a3.86,3.86,0,0,0-1.48-.29l-.38,0,.2-1.06,3.24.14.75,0c.45,0,1.18,0,2.18-.09.23,0,.46,0,.71,0Z" transform="translate(-7.04 -3.76)"/></g></svg>',strike:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.9"><g><path d="M12.94,13a4.27,4.27,0,0,1,1.32.58,1.46,1.46,0,0,1,.55,1.2,1.87,1.87,0,0,1-.88,1.64,4.17,4.17,0,0,1-2.35.59,4.44,4.44,0,0,1-2.74-.71,2.72,2.72,0,0,1-1-2.17H5.57a4.56,4.56,0,0,0,1.55,3.7,7,7,0,0,0,4.47,1.23,6,6,0,0,0,4.07-1.3,4.24,4.24,0,0,0,1.52-3.37,4,4,0,0,0-.26-1.4h-4ZM6.37,10.24A3.27,3.27,0,0,1,6,8.68a4,4,0,0,1,1.48-3.3,5.92,5.92,0,0,1,3.88-1.21,5.58,5.58,0,0,1,3.91,1.24,4.36,4.36,0,0,1,1.45,3.17H14.44a2.12,2.12,0,0,0-.91-1.81,4.45,4.45,0,0,0-2.44-.55,3.69,3.69,0,0,0-2,.51A1.64,1.64,0,0,0,8.3,8.22a1.3,1.3,0,0,0,.48,1.11,7,7,0,0,0,2.1.78l.28.06.28.08H6.37Zm13.09.68a.73.73,0,0,1,.49.21.66.66,0,0,1,.2.48.64.64,0,0,1-.2.48.71.71,0,0,1-.49.19H5.1a.67.67,0,0,1-.49-.19.66.66,0,0,1-.2-.48.64.64,0,0,1,.2-.48.73.73,0,0,1,.49-.21H19.46Z" transform="translate(-4.41 -4.17)"/></g></svg>',subscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 14.61"><g><path d="M15.38,4.33H12.74L11.19,7c-.28.46-.51.87-.69,1.21L10.07,9h0l-.44-.8c-.22-.4-.45-.81-.71-1.23L7.34,4.33H4.68L8.26,10,4.4,16.08H7.1l1.69-2.83c.38-.63.72-1.22,1-1.78l.25-.46h0l.49.92c.24.45.48.89.74,1.32L13,16.08h2.61L11.84,10l1.77-2.84,1.77-2.85Zm4.77,13.75H17v-.15c0-.4.05-.64.16-.72a4.42,4.42,0,0,1,1.16-.31,3.3,3.3,0,0,0,1.54-.56A1.84,1.84,0,0,0,20.15,15a1.78,1.78,0,0,0-.44-1.41A2.8,2.8,0,0,0,18,13.25a2.71,2.71,0,0,0-1.69.37,1.83,1.83,0,0,0-.44,1.43v.23H17v-.23q0-.63.18-.78a1.62,1.62,0,0,1,.88-.15,1.59,1.59,0,0,1,.88.15q.18.15.18.75t-.18.75a3.58,3.58,0,0,1-1.18.33,3.33,3.33,0,0,0-1.52.51,1.57,1.57,0,0,0-.32,1.18v1.15h4.27v-.86Z" transform="translate(-4.4 -4.33)"/></g></svg>',superscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.42"><g><path d="M12,13.14l3.61-5.81H12.94L11.33,10c-.28.46-.51.88-.69,1.25l-.45.83h0l-.45-.85c-.22-.41-.45-.82-.71-1.24L7.4,7.33H4.68l3.66,5.81L4.4,19.33H7.14l1.74-2.87q.58-1,1-1.83l.25-.48h0l.51.94.75,1.37,1.72,2.87h2.67l-1.92-3.09c-1.12-1.8-1.76-2.83-1.92-3.1Zm4.84-4.41h0l0,.15h3.27v.86H15.77V8.58a1.66,1.66,0,0,1,.33-1.22,3.51,3.51,0,0,1,1.56-.51,3.68,3.68,0,0,0,1.21-.34c.13-.1.19-.36.19-.77S19,5.07,18.87,5A1.63,1.63,0,0,0,18,4.8a1.58,1.58,0,0,0-.91.17c-.13.11-.19.38-.19.8V6H15.78V5.76a1.87,1.87,0,0,1,.45-1.47A2.84,2.84,0,0,1,18,3.91a2.8,2.8,0,0,1,1.72.38,1.84,1.84,0,0,1,.45,1.44,1.91,1.91,0,0,1-.34,1.35,3.24,3.24,0,0,1-1.58.57A3.69,3.69,0,0,0,17,8c-.12.1-.17.35-.17.76Z" transform="translate(-4.4 -3.91)"/></g></svg>',erase:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.76"><g><path d="M13.69,17.2h6.46v1.31H8.56L4.41,14.37,14,4.75l6.06,6.06L16.89,14l-3.2,3.19Zm-4.61,0h2.77L14.09,15,9.88,10.75,6.25,14.38l1.41,1.41c.84.82,1.31,1.29,1.42,1.41Z" transform="translate(-4.41 -4.75)"/></g></svg>',indent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.36"><g><path d="M4.68,14.45a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V9.1a.27.27,0,0,1,.08-.19.28.28,0,0,1,.2-.08.25.25,0,0,1,.19.07l2.54,2.54a.29.29,0,0,1,0,.4L4.88,14.36a.24.24,0,0,1-.2.09Zm15.19,1.12a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87Zm0-3.38a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm0-3.37a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm.2-3.29a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z" transform="translate(-4.41 -5.44)"/></g></svg>',outdent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.36"><g><path d="M19.87,15.57a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87ZM7.5,14.45a.25.25,0,0,1-.2-.09L4.76,11.84a.29.29,0,0,1,0-.4L7.3,8.9a.29.29,0,0,1,.4,0,.31.31,0,0,1,.07.2v5.06a.32.32,0,0,1-.08.21.26.26,0,0,1-.19.08ZM19.87,8.82a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm0,3.37a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm.2-6.66a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z" transform="translate(-4.41 -5.44)"/></g></svg>',expansion:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M11.8,13.06l-5.1,5.1H9.51V19.5H4.41V14.4H5.75v2.81L8.3,14.66q2.25-2.23,2.55-2.55Zm8.35-9.3v5.1H18.81V6.05l-5.1,5.1-1-1,5.1-5.1H15.05V3.76Z" transform="translate(-4.41 -3.76)"/></g></svg>',reduction:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M14.91,10h2.87v1.38H12.55V6.12h1.38V9l5.24-5.24.48.49.49.48ZM6.77,11.92H12v5.23H10.62V14.26L5.37,19.5l-1-1L9.63,13.3H6.77Z" transform="translate(-4.4 -3.76)"/></g></svg>',code_view:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 11.8"><g><path d="M8.09,7.94a.76.76,0,0,1,.53.22.72.72,0,0,1,.21.52.76.76,0,0,1-.22.54L6.18,11.63l2.43,2.44a.69.69,0,0,1,.2.51.66.66,0,0,1-.21.51.75.75,0,0,1-.51.22.63.63,0,0,1-.51-.21h0L4.63,12.15a.7.7,0,0,1-.22-.53.67.67,0,0,1,.25-.55L7.57,8.16a.82.82,0,0,1,.52-.22Zm12.05,3.69a.7.7,0,0,1-.23.52L17,15.1h0a.66.66,0,0,1-.51.21.73.73,0,0,1-.51-.22.75.75,0,0,1-.22-.51.63.63,0,0,1,.21-.51l2.43-2.44L15.92,9.22a.73.73,0,0,1-.22-.53A.74.74,0,0,1,17,8.18h0l2.91,2.91a.67.67,0,0,1,.27.54Zm-5.9-5.9a.73.73,0,0,1,.61.32.71.71,0,0,1,.07.68L11,17a1,1,0,0,1-.22.32.6.6,0,0,1-.35.16.75.75,0,0,1-.69-.26.69.69,0,0,1-.12-.72L13.56,6.23a.75.75,0,0,1,.26-.35.74.74,0,0,1,.42-.15Z" transform="translate(-4.41 -5.73)"/></g></svg>',preview:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.65 15.66"><g><path d="M16.19,14.43l2.49,2.49a.73.73,0,0,1,.21.52.67.67,0,0,1-.22.51.7.7,0,0,1-.52.22.69.69,0,0,1-.51-.21l-2.49-2.48a5.17,5.17,0,0,1-1.34.69,4.64,4.64,0,0,1-1.48.24,4.78,4.78,0,1,1,0-9.56,4.79,4.79,0,0,1,1.84.36,4.9,4.9,0,0,1,1.56,1,4.77,4.77,0,0,1,.46,6.18ZM10,14a3.3,3.3,0,0,0,2.34.93A3.37,3.37,0,0,0,14.7,14a3.3,3.3,0,0,0-1.08-5.41,3.47,3.47,0,0,0-2.56,0A3,3,0,0,0,10,9.28,3.31,3.31,0,0,0,10,14ZM16,4a3.86,3.86,0,0,1,2.77,1.14A3.9,3.9,0,0,1,20,7.85v4a.77.77,0,0,1-.22.53.7.7,0,0,1-.52.21.72.72,0,0,1-.74-.74v-4a2.46,2.46,0,0,0-.72-1.73A2.37,2.37,0,0,0,16,5.45H8.53A2.42,2.42,0,0,0,6.08,7.89v7.52a2.41,2.41,0,0,0,.71,1.73,2.46,2.46,0,0,0,1.74.72h4.08a.73.73,0,0,1,0,1.46H8.53a3.85,3.85,0,0,1-2.78-1.14A3.93,3.93,0,0,1,4.6,15.4V7.87A3.94,3.94,0,0,1,5.76,5.09,3.88,3.88,0,0,1,8.54,4H16Z" transform="translate(-4.45 -3.8)"/></g></svg>',print:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.05 16.04"><g><path d="M19.76,15.84a1.29,1.29,0,0,0,.39-.92V8.35A2.05,2.05,0,0,0,19.57,7a1.93,1.93,0,0,0-1.38-.57H6.37a1.95,1.95,0,0,0-2,2v6.56a1.23,1.23,0,0,0,.38.92,1.35,1.35,0,0,0,.93.38h2V14.9l-2,0V8.35a.67.67,0,0,1,.18-.47.62.62,0,0,1,.48-.19H18.18a.6.6,0,0,1,.46.19.66.66,0,0,1,.18.47V14.9h-2v1.32h2A1.35,1.35,0,0,0,19.76,15.84ZM17.52,7.69V5.06a1.31,1.31,0,0,0-.38-.92,1.34,1.34,0,0,0-.94-.38H8.34A1.3,1.3,0,0,0,7,5.06V7.69H8.34V5.06h7.87V7.69h1.31ZM8.34,12.93h7.87l0,5.26H8.34V12.93Zm7.87,5.26v0Zm.65,1.31a.6.6,0,0,0,.46-.19.72.72,0,0,0,.2-.47V12.29a.74.74,0,0,0-.2-.47.6.6,0,0,0-.46-.19H7.68a.6.6,0,0,0-.46.19.72.72,0,0,0-.2.47v6.55a.74.74,0,0,0,.2.47.6.6,0,0,0,.46.19h9.18ZM16.67,9.28a.7.7,0,0,0-.94,0,.63.63,0,0,0-.18.46.67.67,0,0,0,.18.47.68.68,0,0,0,.94,0,.66.66,0,0,0,.18-.47A.58.58,0,0,0,16.67,9.28Z" transform="translate(-4.25 -3.61)"/></g></svg>',template:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.27 15.64"><g><path d="M18.18,19.16a1,1,0,0,0,1-1V5.73a1,1,0,0,0-1-1h-2v1h2V18.19H6.37V5.73h2v-1h-2A.94.94,0,0,0,5.68,5a1,1,0,0,0-.29.7V18.18a.94.94,0,0,0,.29.69,1,1,0,0,0,.69.29H18.18ZM9.82,10.31h4.92a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H9.82a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15Zm5.9,4.92H8.83a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h6.89a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.51.51,0,0,0-.5-.5ZM7.36,12.77a.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h8.85a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H7.85a.49.49,0,0,0-.35.15.52.52,0,0,0-.14.35Z" transform="translate(-5.14 -3.77)"/><path d="M14.24,6.71a1,1,0,0,0,1-1,1,1,0,0,0-1-1,1,1,0,0,0-1-1h-2a.94.94,0,0,0-.69.28,1,1,0,0,0-.29.7A.94.94,0,0,0,9.62,5a.91.91,0,0,0-.29.69,1,1,0,0,0,.29.7,1,1,0,0,0,.69.29h3.93Z" transform="translate(-5.14 -3.77)"/></g></svg>',line_height:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 13.56"><g><path d="M4.4,4.88V8.26a2,2,0,0,0,.5.39s.1,0,.18-.12a.62.62,0,0,0,.17-.28c.06-.19.13-.44.21-.74s.14-.52.19-.66a.58.58,0,0,1,.21-.3,2.41,2.41,0,0,1,.63-.21,3.83,3.83,0,0,1,.88-.12,9.15,9.15,0,0,1,1.31.06.16.16,0,0,1,.11,0,.26.26,0,0,1,.06.14,4,4,0,0,1,0,.49v2l.05,3.77c0,1.41,0,2.68-.05,3.81a1.79,1.79,0,0,1-.11.49,10.68,10.68,0,0,1-1.4.45,1.12,1.12,0,0,0-.69.43v.31l0,.22.61,0c.85-.08,1.54-.12,2.06-.12a19.76,19.76,0,0,1,2.09.08,15.08,15.08,0,0,0,1.64.08,1.4,1.4,0,0,0,.29,0,1.58,1.58,0,0,0,0-.26l-.05-.43a2.26,2.26,0,0,0-.43-.17l-.77-.22-.15,0a2.55,2.55,0,0,1-.78-.28,2.56,2.56,0,0,1-.11-.75l0-1.29,0-3.15V7.53a10.51,10.51,0,0,1,.06-1.2,3.83,3.83,0,0,1,.6,0l1.88,0a2.18,2.18,0,0,1,.38,0,.45.45,0,0,1,.23.17.9.9,0,0,1,.05.25c0,.16.06.35.1.58a3.33,3.33,0,0,0,.14.55A6.39,6.39,0,0,0,15,9a2.91,2.91,0,0,0,.6-.15,2.77,2.77,0,0,0,0-.46l0-.51,0-2.95-.25,0-.38,0L15,4.94a.71.71,0,0,1-.18.15.45.45,0,0,1-.25.07l-.29,0H8.75l-.15,0H7.45a17,17,0,0,1-1.86,0L5.36,5l-.25-.13ZM19.75,16.14h-.69v-9h.69A.4.4,0,0,0,20.13,7c.06-.11,0-.24-.1-.39L18.92,5.15a.52.52,0,0,0-.86,0L17,6.58c-.12.15-.16.28-.1.39s.18.16.38.16h.69v9h-.69a.4.4,0,0,0-.38.16c-.06.11,0,.24.1.39l1.11,1.43a.52.52,0,0,0,.86,0L20,16.69c.12-.15.16-.28.1-.39a.4.4,0,0,0-.38-.16Z" transform="translate(-4.4 -4.86)"/></g></svg>',paragraph_style:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.81 15.74"><g><path d="M18.18,3.76v2h-2V19.5h-2V5.73h-2V19.5h-2V11.63a3.94,3.94,0,0,1,0-7.87h7.87Z" transform="translate(-6.37 -3.76)"/></g></svg>',text_style:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.76 15.74"><g><path d="M17.68,6.71a2.22,2.22,0,0,0,1.06-.22.74.74,0,0,0,.42-.7.73.73,0,0,0-.08-.33.67.67,0,0,0-.17-.22,1,1,0,0,0-.31-.15L18.26,5l-.45-.09A15.27,15.27,0,0,0,13.26,5V4.74c0-.66-.63-1-1.92-1-.24,0-.43.15-.59.46a4,4,0,0,0-.36,1.14h0v0a26.45,26.45,0,0,1-3.5.35A2,2,0,0,0,5.77,6a.84.84,0,0,0-.37.79,2.14,2.14,0,0,0,.41,1.29,1.23,1.23,0,0,0,1.05.63,16.62,16.62,0,0,0,3.29-.45l-.34,3.35c-.16,1.61-.29,2.9-.37,3.86s-.12,1.66-.12,2.09l0,.65a5.15,5.15,0,0,0,.05.6,1.28,1.28,0,0,0,.16.54.34.34,0,0,0,.28.18,1.16,1.16,0,0,0,.79-.46,3.66,3.66,0,0,0,.68-1,22.08,22.08,0,0,0,1-4.33q.49-3.1.78-6.15a24.69,24.69,0,0,1,4.62-.84Z" transform="translate(-5.4 -3.76)"/></g></svg>',save:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M18.53,19.5l.2-.05A1.78,1.78,0,0,0,20.13,18l0-.09V7.14a2,2,0,0,0-.28-.64A3.18,3.18,0,0,0,19.43,6c-.5-.52-1-1-1.55-1.54A2.59,2.59,0,0,0,17.37,4a1.83,1.83,0,0,0-.61-.25H6l-.21,0a1.78,1.78,0,0,0-1.4,1.49l0,.1V17.87a2.49,2.49,0,0,0,.09.37,1.79,1.79,0,0,0,1.44,1.23l.09,0Zm-6.25-.6H6.92a.61.61,0,0,1-.68-.48.78.78,0,0,1,0-.22V12.3a.62.62,0,0,1,.69-.68H17.64a.62.62,0,0,1,.69.69V18.2a.64.64,0,0,1-.71.69H12.28ZM12,9.81H8.15a.63.63,0,0,1-.72-.71v-4a.64.64,0,0,1,.72-.72h7.66a.64.64,0,0,1,.72.72v4a.65.65,0,0,1-.74.72ZM13.5,5V9.18h1.78V5Z" transform="translate(-4.41 -3.76)"/></g></svg>',blockquote:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 475.082 475.081"><g><path d="M164.45,219.27h-63.954c-7.614,0-14.087-2.664-19.417-7.994c-5.327-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.416-51.678c14.276-14.272,31.503-21.411,51.678-21.411h18.271c4.948,0,9.229-1.809,12.847-5.424c3.616-3.617,5.424-7.898,5.424-12.847V54.819c0-4.948-1.809-9.233-5.424-12.85c-3.617-3.612-7.898-5.424-12.847-5.424h-18.271c-19.797,0-38.684,3.858-56.673,11.563c-17.987,7.71-33.545,18.132-46.68,31.267c-13.134,13.129-23.553,28.688-31.262,46.677C3.855,144.039,0,162.931,0,182.726v200.991c0,15.235,5.327,28.171,15.986,38.834c10.66,10.657,23.606,15.985,38.832,15.985h109.639c15.225,0,28.167-5.328,38.828-15.985c10.657-10.663,15.987-23.599,15.987-38.834V274.088c0-15.232-5.33-28.168-15.994-38.832C192.622,224.6,179.675,219.27,164.45,219.27z"/><path d="M459.103,235.256c-10.656-10.656-23.599-15.986-38.828-15.986h-63.953c-7.61,0-14.089-2.664-19.41-7.994c-5.332-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.409-51.678c14.271-14.272,31.497-21.411,51.682-21.411h18.267c4.949,0,9.233-1.809,12.848-5.424c3.613-3.617,5.428-7.898,5.428-12.847V54.819c0-4.948-1.814-9.233-5.428-12.85c-3.614-3.612-7.898-5.424-12.848-5.424h-18.267c-19.808,0-38.691,3.858-56.685,11.563c-17.984,7.71-33.537,18.132-46.672,31.267c-13.135,13.129-23.559,28.688-31.265,46.677c-7.707,17.987-11.567,36.879-11.567,56.674v200.991c0,15.235,5.332,28.171,15.988,38.834c10.657,10.657,23.6,15.985,38.828,15.985h109.633c15.229,0,28.171-5.328,38.827-15.985c10.664-10.663,15.985-23.599,15.985-38.834V274.088C475.082,258.855,469.76,245.92,459.103,235.256z"/></g></svg>',arrow_down:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 8.67"><g><path d="M18.79,7.52a.8.8,0,0,1,.56-.23.82.82,0,0,1,.79.79.8.8,0,0,1-.23.56l-7.07,7.07a.79.79,0,0,1-.57.25.77.77,0,0,1-.57-.25h0L4.64,8.65a.8.8,0,0,1-.23-.57.82.82,0,0,1,.79-.79.8.8,0,0,1,.56.23L12.28,14l3.26-3.26,3.25-3.26Z" transform="translate(-4.41 -7.29)"/></g></svg>',align_justify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm0,5.9H20.15v-2H4.41v2Zm0,3.94H20.15v-2H4.41v2Zm0,3.93h7.87v-2H4.41v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm11.8,3.94H4.41v2H16.22v-2Zm-11.8,5.9H18.18v-2H4.41v2Zm0,3.93h9.84v-2H4.41v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm3.93,5.9H20.15v-2H8.34v2Zm-2,3.94H20.14v-2H6.37v2Zm3.94,3.93h9.84v-2H10.31v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_center:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm2,3.94v2H18.18v-2H6.37Zm-1,5.9H19.16v-2H5.39v2Zm2,3.93H17.2v-2H7.36v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',font_color:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.61"><g><path d="M18.5,15.57,14.28,4.32h-3.4L6.65,15.57h3l.8-2.26h4.23l.8,2.26h3ZM14,11.07H11.14L12.54,7,13.25,9c.41,1.18.64,1.86.7,2ZM4.41,16.69v2.24H20.15V16.69H4.41Z" transform="translate(-4.41 -4.32)"/></g></svg>',highlight_color:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.66 15.74"><g><path d="M12.32,9.31,13.38,13H11.21l.52-1.83q.46-1.61.54-1.83ZM4.44,3.76H20.1V19.5H4.44V3.76ZM14.71,17.32h2.63L13.7,6H10.89L7.26,17.32H9.89l.63-2.24h3.55l.32,1.12c.18.65.29,1,.32,1.12Z" transform="translate(-4.44 -3.76)"/></g></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.37"><g><path d="M7.77,16.12a1.59,1.59,0,0,0-.49-1.18,1.62,1.62,0,0,0-1.19-.49,1.68,1.68,0,1,0,0,3.36,1.67,1.67,0,0,0,1.68-1.69Zm0-4.48A1.67,1.67,0,0,0,6.09,10,1.68,1.68,0,0,0,4.9,12.82a1.62,1.62,0,0,0,1.19.49,1.67,1.67,0,0,0,1.68-1.67Zm12.38,3.64a.27.27,0,0,0-.08-.19.28.28,0,0,0-.2-.09H9.19a.28.28,0,0,0-.2.08.29.29,0,0,0-.08.19V17a.27.27,0,0,0,.28.28H19.87a.27.27,0,0,0,.19-.08.24.24,0,0,0,.08-.2V15.28ZM7.77,7.13a1.63,1.63,0,0,0-.49-1.2,1.61,1.61,0,0,0-1.19-.49,1.61,1.61,0,0,0-1.19.49,1.71,1.71,0,0,0,0,2.4,1.62,1.62,0,0,0,1.19.49,1.61,1.61,0,0,0,1.19-.49,1.63,1.63,0,0,0,.49-1.2Zm12.38,3.66a.28.28,0,0,0-.08-.2.29.29,0,0,0-.19-.08H9.19a.27.27,0,0,0-.28.28v1.69a.27.27,0,0,0,.08.19.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08.25.25,0,0,0,.08-.19V10.79Zm0-4.5a.27.27,0,0,0-.08-.19A.25.25,0,0,0,19.88,6H9.19A.28.28,0,0,0,9,6.1a.26.26,0,0,0-.08.19V8A.27.27,0,0,0,9,8.17a.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08A.25.25,0,0,0,20.14,8V6.29Z" transform="translate(-4.41 -5.44)"/></g></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.69 15.74"><g><path d="M7.66,18a1.24,1.24,0,0,0-.26-.78,1.17,1.17,0,0,0-.72-.42l.85-1V15H4.58v1.34h.94v-.46l.85,0h0c-.11.11-.22.23-.32.35s-.23.27-.37.47L5.39,17l.23.51c.61-.05.92.11.92.49a.42.42,0,0,1-.18.37.79.79,0,0,1-.45.12A1.41,1.41,0,0,1,5,18.15l-.51.77A2.06,2.06,0,0,0,6,19.5a1.8,1.8,0,0,0,1.2-.41A1.38,1.38,0,0,0,7.66,18Zm0-5.54H6.75V13H5.63A.72.72,0,0,1,6,12.51a5.45,5.45,0,0,1,.66-.45,2.71,2.71,0,0,0,.67-.57,1.19,1.19,0,0,0,.31-.81,1.29,1.29,0,0,0-.45-1,1.86,1.86,0,0,0-2-.11,1.51,1.51,0,0,0-.62.7l.74.52A.87.87,0,0,1,6,10.28a.51.51,0,0,1,.35.12.42.42,0,0,1,.13.33.55.55,0,0,1-.21.4,3,3,0,0,1-.5.38c-.19.13-.39.27-.58.42a2,2,0,0,0-.5.6,1.63,1.63,0,0,0-.21.81,3.89,3.89,0,0,0,.05.48h3.2V12.44Zm12.45,2.82a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2V17a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V15.26ZM7.69,7.32h-1V3.76H5.8L4.6,4.88l.63.68a1.85,1.85,0,0,0,.43-.48h0l0,2.24H4.74V8.2h3V7.32Zm12.43,3.42a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2v1.71a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V10.74Zm0-4.52A.27.27,0,0,0,20,6,.28.28,0,0,0,19.83,6H9.1A.32.32,0,0,0,8.89,6a.24.24,0,0,0-.08.19V7.93a.27.27,0,0,0,.08.19.32.32,0,0,0,.21.08H19.83A.32.32,0,0,0,20,8.12a.26.26,0,0,0,.08-.2V6.22Z" transform="translate(-4.43 -3.76)"/></g></svg>',table:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M4.41,8.05V3.76H8.7V8.05H4.41Zm5.71,0V3.76h4.3V8.05h-4.3Zm5.74-4.29h4.29V8.05H15.86V3.76Zm-11.45,10V9.48H8.7v4.3H4.41Zm5.71,0V9.48h4.3v4.3h-4.3Zm5.74,0V9.48h4.29v4.3H15.86ZM4.41,19.5V15.21H8.7V19.5H4.41Zm5.71,0V15.21h4.3V19.5h-4.3Zm5.74,0V15.21h4.29V19.5H15.86Z" transform="translate(-4.41 -3.76)"/></g></svg>',horizontal_rule:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 2.24"><g><path d="M20.15,12.75V10.51H4.41v2.24H20.15Z" transform="translate(-4.41 -10.51)"/></g></svg>',show_blocks:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.66 15.67"><g><path d="M19.72,5.58a1.64,1.64,0,0,0-1.64-1.64H6.23a1.62,1.62,0,0,0-1.16.48,1.63,1.63,0,0,0-.48,1.16V9.63a1.6,1.6,0,0,0,.48,1.16,1.62,1.62,0,0,0,1.16.47H18.09a1.67,1.67,0,0,0,1.16-.47,1.62,1.62,0,0,0,.48-1.16V5.58Zm-.94,4.05a.68.68,0,0,1-.7.7H6.23a.66.66,0,0,1-.48-.2.74.74,0,0,1-.21-.5V5.58a.66.66,0,0,1,.2-.48.71.71,0,0,1,.48-.21H18.08a.74.74,0,0,1,.5.21.66.66,0,0,1,.2.48ZM6.48,7.72a.21.21,0,0,0,.17-.07.22.22,0,0,0,.07-.17V7.06a1.27,1.27,0,0,1,.11-.52.37.37,0,0,1,.36-.23H8.77A.25.25,0,0,0,9,6.17a.19.19,0,0,0,0-.23.27.27,0,0,0-.2-.12H7.19a.88.88,0,0,0-.72.39,1.51,1.51,0,0,0-.23.85v.42a.24.24,0,0,0,.24.24Zm-.19.81a.21.21,0,0,0,.17-.07.26.26,0,0,0,.07-.17.24.24,0,0,0-.24-.24.2.2,0,0,0-.16.09.2.2,0,0,0-.07.16.22.22,0,0,0,.07.17.23.23,0,0,0,.16.06Zm8.46,5.1a1.63,1.63,0,0,0-.47-1.16A1.61,1.61,0,0,0,13.12,12H6.23a1.6,1.6,0,0,0-1.16.46,1.62,1.62,0,0,0-.48,1.16v4.05a1.64,1.64,0,0,0,1.64,1.64h6.89a1.6,1.6,0,0,0,1.16-.48,1.62,1.62,0,0,0,.47-1.16Zm-.94,4a.7.7,0,0,1-.2.49.65.65,0,0,1-.5.2H6.23a.66.66,0,0,1-.48-.2.75.75,0,0,1-.21-.49v-4a.74.74,0,0,1,.21-.5.66.66,0,0,1,.48-.2h6.89a.68.68,0,0,1,.7.7v4Zm6.15,0v-4a1.6,1.6,0,0,0-.48-1.16A1.67,1.67,0,0,0,18.32,12H17.1a1.63,1.63,0,0,0-1.16.47,1.61,1.61,0,0,0-.47,1.16v4a1.67,1.67,0,0,0,.47,1.16,1.62,1.62,0,0,0,1.16.48h1.22A1.64,1.64,0,0,0,20,17.68Zm-.94-4v4a.75.75,0,0,1-.21.49.62.62,0,0,1-.48.2H17.11a.69.69,0,0,1-.5-.2.7.7,0,0,1-.2-.49v-4a.68.68,0,0,1,.7-.7h1.22a.66.66,0,0,1,.48.2.72.72,0,0,1,.21.5Z" transform="translate(-4.44 -3.79)"/></g></svg>',cancel:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M14.15,11.63l5.61,5.61a1.29,1.29,0,0,1,.38.93,1.27,1.27,0,0,1-.4.93,1.25,1.25,0,0,1-.92.4,1.31,1.31,0,0,1-.94-.4l-5.61-5.61L6.67,19.1a1.31,1.31,0,0,1-.94.4,1.24,1.24,0,0,1-.92-.4,1.27,1.27,0,0,1-.4-.93,1.33,1.33,0,0,1,.38-.93l5.61-5.63L4.79,6a1.26,1.26,0,0,1-.38-.93,1.22,1.22,0,0,1,.4-.92,1.28,1.28,0,0,1,.92-.39,1.38,1.38,0,0,1,.94.38l5.61,5.61,5.61-5.61a1.33,1.33,0,0,1,.94-.38,1.26,1.26,0,0,1,.92.39,1.24,1.24,0,0,1,.4.92,1.29,1.29,0,0,1-.39.93L17,8.81l-2.8,2.82Z" transform="translate(-4.41 -3.76)"/></g></svg>',image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.77"><g><path d="M8.77,8.72a.88.88,0,0,1-.61-.27.82.82,0,0,1-.25-.61.89.89,0,0,1,.25-.62A.82.82,0,0,1,8.77,7a.81.81,0,0,1,.61.25.83.83,0,0,1,.27.62.81.81,0,0,1-.25.61.91.91,0,0,1-.63.27Zm9.62-5a1.74,1.74,0,0,1,1.76,1.76V17.76a1.74,1.74,0,0,1-1.76,1.76H6.16A1.74,1.74,0,0,1,4.4,17.76V5.51A1.74,1.74,0,0,1,6.16,3.75H18.39Zm0,1.75H6.16v8L8.53,11.8a.94.94,0,0,1,.54-.17.86.86,0,0,1,.54.2L11.09,13l3.64-4.55a.78.78,0,0,1,.34-.25.85.85,0,0,1,.42-.07.89.89,0,0,1,.39.12.78.78,0,0,1,.28.29l2.24,3.67V5.51Zm0,12.24V15.6L15.3,10.53,11.89,14.8a.89.89,0,0,1-.59.32.82.82,0,0,1-.64-.18L9,13.62,6.16,15.74v2Z" transform="translate(-4.4 -3.75)"/></g></svg>',video:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.55"><g><path d="M20.15,10.26V18.9l-3.94-1.57v1.2H4.41V10.66H16.22v1.23l2-.81,2-.82ZM14.64,17h0V12.54h0v-.31H6V17h8.67Zm3.94-.37v-4l-2.37,1v2l1.18.48,1.19.48ZM7.94,9.86A2.77,2.77,0,0,1,5.19,7.11a2.76,2.76,0,0,1,5.51,0A2.78,2.78,0,0,1,7.94,9.86Zm0-3.93a1.21,1.21,0,0,0-.83.35,1.15,1.15,0,0,0-.34.84A1.09,1.09,0,0,0,7.11,8,1.15,1.15,0,0,0,8,8.28,1.13,1.13,0,0,0,9.11,7.12,1.16,1.16,0,0,0,7.94,5.93Zm5.9,3.93a2.34,2.34,0,0,1-1.67-.68,2.3,2.3,0,0,1-.68-1.67,2.35,2.35,0,0,1,4-1.67,2.37,2.37,0,0,1,0,3.34,2.33,2.33,0,0,1-1.68.68Zm0-3.14a.75.75,0,1,0,.55.22.73.73,0,0,0-.55-.22Z" transform="translate(-4.41 -4.35)"/></g></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.72"><g><path d="M13.05,13.63a.24.24,0,0,1,.15.22L13.42,16a.19.19,0,0,1-.08.18l-2.12,2.14a4.08,4.08,0,0,1-1.29.85A4,4,0,0,1,4.71,17a3.92,3.92,0,0,1-.3-1.52A4,4,0,0,1,4.71,14a3.91,3.91,0,0,1,.87-1.3L7.7,10.56a.25.25,0,0,1,.2-.06l2.17.22a.21.21,0,0,1,.19.15.24.24,0,0,1,0,.25L7.12,14.23a1.81,1.81,0,0,0,0,2.58,1.78,1.78,0,0,0,1.29.52,1.74,1.74,0,0,0,1.28-.52L12.8,13.7a.24.24,0,0,1,.25-.07ZM19,4.92a4,4,0,0,1,0,5.66L16.86,12.7a.25.25,0,0,1-.17.08l-2.2-.23a.21.21,0,0,1-.19-.15.22.22,0,0,1,0-.25L17.44,9a1.81,1.81,0,0,0,0-2.58,1.78,1.78,0,0,0-1.29-.52,1.74,1.74,0,0,0-1.28.52L11.76,9.57a.21.21,0,0,1-.25,0,.24.24,0,0,1-.16-.21l-.22-2.17a.19.19,0,0,1,.08-.18l2.12-2.14a4.08,4.08,0,0,1,1.29-.85,4.05,4.05,0,0,1,3.06,0,3.85,3.85,0,0,1,1.3.85ZM5.84,9.82a.25.25,0,0,1-.18-.08.19.19,0,0,1-.07-.19l.11-.77a.2.2,0,0,1,.11-.17.24.24,0,0,1,.2,0l2.5.72a.25.25,0,0,1,.15.27.22.22,0,0,1-.23.21l-2.59,0Zm4.12-2-.73-2.5a.27.27,0,0,1,0-.2A.21.21,0,0,1,9.41,5L10.19,5a.25.25,0,0,1,.19,0,.23.23,0,0,1,.08.18l-.05,2.61a.2.2,0,0,1-.19.23h0A.22.22,0,0,1,10,7.85Zm8.76,5.58a.25.25,0,0,1,.18.08.23.23,0,0,1,.06.2l-.11.77a.25.25,0,0,1-.11.17.21.21,0,0,1-.12,0l-.08,0L16,14a.25.25,0,0,1-.15-.27.22.22,0,0,1,.22-.21l1.29,0,1.33,0Zm-4.12,2,.74,2.51a.28.28,0,0,1,0,.2.23.23,0,0,1-.18.11l-.8.11a.23.23,0,0,1-.17-.07.25.25,0,0,1-.08-.18l0-2.61a.22.22,0,0,1,.22-.22.21.21,0,0,1,.26.15Z" transform="translate(-4.41 -3.77)"/></g></svg>',math:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.81 15.73"><g><path d="M17.19,5.73a1,1,0,0,0,.71-.29,1,1,0,0,0,.28-.7,1,1,0,0,0-1-1H7.35a1,1,0,0,0-1,1,.77.77,0,0,0,.13.47h0l4.58,6.43L6.68,17.81a1.25,1.25,0,0,0-.29.71.94.94,0,0,0,.28.7.92.92,0,0,0,.69.28H17.2a1,1,0,0,0,.71-.28,1,1,0,0,0,0-1.39.92.92,0,0,0-.71-.29H9.26l3.87-5.43a.86.86,0,0,0,0-.95L9.26,5.73h7.93Z" transform="translate(-6.38 -3.77)"/></g></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.72"><g><path d="M19,18.32a4,4,0,0,0,0-5.68L15.85,9.5l-1.17,1.55L17.57,14a2,2,0,0,1,.61,1.47,2.08,2.08,0,0,1-2.09,2.09,2,2,0,0,1-1.47-.61l-.38-.37-1.74,1,.8.78a4,4,0,0,0,5.68,0ZM8,9.77a2,2,0,0,1-1.27-1,1.89,1.89,0,0,1-.21-1.57A2.1,2.1,0,0,1,7.45,6,2,2,0,0,1,9,5.76L12.27,7.2l.49-2L9.48,3.9a4,4,0,0,0-3.06.41A3.82,3.82,0,0,0,4.56,6.73a3.8,3.8,0,0,0,.4,3A3.78,3.78,0,0,0,7.39,11.6l5.38,2,.49-2-2.64-.94L8,9.77Z" transform="translate(-4.41 -3.76)"/></g></svg>',table_header:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.74"><g><path d="M17,19.5v-.78H15.5v.78H17Zm-3,0v-.78H12.5v.78H14Zm-3,0v-.78H9.53v.78H11Zm-3,0v-.78H6.53v.78H8Zm10.55,0a1.73,1.73,0,0,0,.85-.35,1.67,1.67,0,0,0,.56-.76l-.71-.31a1.21,1.21,0,0,1-.35.4,1.34,1.34,0,0,1-.53.23l.08.38c.06.24.09.38.1.41Zm-13.7-.63.55-.55A.77.77,0,0,1,5.25,18a1.31,1.31,0,0,1-.06-.38v-.38H4.41v.38a2,2,0,0,0,.12.68,1.6,1.6,0,0,0,.35.57Zm15.27-2.12V15.26h-.78v1.49h.78Zm-15-1V14.23H4.41v1.49h.78Zm15-2V12.26h-.78v1.49h.78Zm-15-1V11.22H4.41v1.51h.78Zm15-2V9.26h-.78v1.51h.78Zm-15-1V8.17H4.41V9.74h.78Zm15-2V6.28h-.78V7.77h.78Zm-15-1.11V5.33L4.48,5.1a.77.77,0,0,0-.07.27,2.72,2.72,0,0,0,0,.28v1h.79ZM19.21,5l.63-.4A1.62,1.62,0,0,0,19.16,4a1.94,1.94,0,0,0-.91-.22v.78a1.31,1.31,0,0,1,.56.12.88.88,0,0,1,.4.36ZM6,4.54H7.78V3.76H6a.82.82,0,0,0-.28.06l.12.35c.07.21.1.33.11.36Zm10.8,0V3.76H15.28v.78h1.49Zm-3,0V3.76H12.28v.78h1.49Zm-3,0V3.76H9.28v.78h1.51ZM6,10.84h12.6V6.91H6Z" transform="translate(-4.4 -3.76)"/></g></svg>',merge_cell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 15.74"><g><path d="M18.92,13.5h1.23v4.15A1.84,1.84,0,0,1,18.3,19.5H14V18.27H18.3a.6.6,0,0,0,.44-.18.59.59,0,0,0,.18-.44V13.5ZM18.3,3.76a1.84,1.84,0,0,1,1.85,1.85V9.82H18.92V5.6a.6.6,0,0,0-.18-.44A.59.59,0,0,0,18.3,5H14V3.76H18.3Zm1.85,8.51H15.6L17.26,14l-.86.86-3.14-3.17L16.4,8.51l.86.86L15.62,11h4.54v1.24Zm-13.9,6h4.27V19.5H6.25A1.84,1.84,0,0,1,4.4,17.65V13.5H5.63v4.15a.61.61,0,0,0,.62.62Zm0-14.51h4.27V5H6.25a.6.6,0,0,0-.44.18.57.57,0,0,0-.17.43V9.81H4.41V5.6A1.83,1.83,0,0,1,6.25,3.76Zm5,7.9L8.15,14.83,7.3,14,9,12.27H4.41V11H8.94L7.3,9.38,7.73,9l.43-.43Z" transform="translate(-4.4 -3.76)"/></g></svg>',split_cell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.74"><g><path d="M10.37,12.25H6.74L8.4,13.94l-.87.86L4.41,11.63,7.53,8.5l.87.86L6.74,11h3.62v1.23Zm9.78-.61L17,14.81,16.13,14l1.66-1.69H14.16V11h3.63L16.13,9.37l.43-.43A5.24,5.24,0,0,1,17,8.51ZM18.9,8.22V5.61a.57.57,0,0,0-.18-.43A.65.65,0,0,0,18.29,5H12.88V18.28h5.41a.7.7,0,0,0,.44-.18.57.57,0,0,0,.18-.43V15h1.23v2.64a1.84,1.84,0,0,1-1.85,1.83h-12A1.84,1.84,0,0,1,4.94,19a1.81,1.81,0,0,1-.54-1.29V15H5.63v2.64a.57.57,0,0,0,.18.43.67.67,0,0,0,.44.18h5.41V5H6.25a.7.7,0,0,0-.44.18.56.56,0,0,0-.17.43V8.22H4.41V5.61A1.8,1.8,0,0,1,5,4.31a1.91,1.91,0,0,1,1.31-.55h12a1.89,1.89,0,0,1,1.31.55,1.8,1.8,0,0,1,.54,1.3V8.23H18.9Z" transform="translate(-4.4 -3.76)"/></g></svg>',caption:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.79"><g><path d="M4.41,18.52H20.15v-2H4.41ZM20,4.73H18.07V6h.65v.65H20V4.73ZM17,6V4.73H14.55V6H17ZM13.49,6V4.73H11V6h2.47ZM10,6V4.73H7.5V6H10ZM5.79,6h.65V4.73H4.5V6.67H5.8V6ZM4.5,11.34H5.79V8.48H4.5ZM6.44,13.8H5.79v-.65H4.5v1.94H6.44ZM17,15.09V13.8H14.55v1.29H17Zm-3.52,0V13.8H11v1.29h2.47Zm-3.53,0V13.8H7.5v1.29H10ZM20,13.16H18.72v.65h-.65V15.1H20Zm-1.29-1.82H20V8.48h-1.3v2.86Z" transform="translate(-4.41 -4.73)"/></g></svg>',edit:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.73"><g><path d="M7.51,5.68h6l1.52-1.57H6.94a2.4,2.4,0,0,0-1.79.82A2.8,2.8,0,0,0,4.41,6.8V17a2.55,2.55,0,0,0,.75,1.8A2.48,2.48,0,0,0,7,19.5H17.22a2.57,2.57,0,0,0,1.83-.74,2.52,2.52,0,0,0,.77-1.8V8.83l-1.58,1.54v6a1.54,1.54,0,0,1-1.53,1.53H7.51A1.54,1.54,0,0,1,6,16.41V7.21A1.52,1.52,0,0,1,7.51,5.68Zm5.63,7.47h0L10.7,10.74l-1,3.38,1.71-.48,1.7-.49Zm.34-.34h0l5.36-5.32L16.4,5.08,11,10.4l1.23,1.21,1.21,1.2ZM19.93,6.4a.82.82,0,0,0,.22-.48A.54.54,0,0,0,20,5.47L18.45,4A.67.67,0,0,0,18,3.77a.7.7,0,0,0-.48.21l-.74.72,2.44,2.43.37-.37.35-.36Z" transform="translate(-4.41 -3.77)"/></g></svg>',delete:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 15.74"><g><path d="M19.16,6.71a.94.94,0,0,0,.69-.28.91.91,0,0,0,.29-.68A1,1,0,0,0,19.85,5a.93.93,0,0,0-.69-.3H14.24A.94.94,0,0,0,14,4.06a.92.92,0,0,0-.7-.3h-2a1,1,0,0,0-.7.3.93.93,0,0,0-.28.68H5.39A.92.92,0,0,0,4.7,5a1,1,0,0,0-.29.71.91.91,0,0,0,.29.68,1,1,0,0,0,.69.28H19.16Zm-12.79,1a1,1,0,0,0-.7.3.94.94,0,0,0-.28.69v8.85A1.88,1.88,0,0,0,6,18.93a1.9,1.9,0,0,0,1.39.57H17.2a1.87,1.87,0,0,0,1.39-.58,1.91,1.91,0,0,0,.58-1.39V8.68A1,1,0,0,0,18.88,8a.89.89,0,0,0-.7-.29,1,1,0,0,0-.69.29.92.92,0,0,0-.29.68v7.87a1,1,0,0,1-1,1H8.34a.94.94,0,0,1-.69-.28,1,1,0,0,1-.29-.71V8.68a1,1,0,0,0-1-1Z" transform="translate(-4.41 -3.76)"/></g></svg>',modify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.74"><g><path d="M19.79,15.23a.66.66,0,0,1,.3.38.59.59,0,0,1-.07.48l-.8,1.38a.66.66,0,0,1-.38.3.59.59,0,0,1-.48-.07l-.68-.38a4.55,4.55,0,0,1-1.34.77v.78a.64.64,0,0,1-.18.45.61.61,0,0,1-.45.18h-1.6a.6.6,0,0,1-.44-.18.66.66,0,0,1-.19-.45v-.78a4.36,4.36,0,0,1-1.32-.77l-.69.38a.58.58,0,0,1-.48.07.66.66,0,0,1-.38-.3l-.38-.66h.83a1.77,1.77,0,0,0,1.23-.52,1.72,1.72,0,0,0,.51-1.23v-.18a3,3,0,0,0,.49-.28l.15.09a1.83,1.83,0,0,0,.88.23A1.75,1.75,0,0,0,15.84,14l.88-1.52a1.7,1.7,0,0,0,.17-1.32,1.66,1.66,0,0,0-.3-.61,1.84,1.84,0,0,0-.51-.45l-.15-.09,0-.29,0-.28.15-.09a1,1,0,0,0,.26-.18l0,.06v.78a4.34,4.34,0,0,1,1.34.77l.68-.38a.68.68,0,0,1,.48-.06.64.64,0,0,1,.38.29l.8,1.38a.58.58,0,0,1,.07.48.63.63,0,0,1-.3.38l-.68.4a3.84,3.84,0,0,1,.08.76,4.13,4.13,0,0,1-.08.78l.34.18.32.2ZM10.17,7.86a1.9,1.9,0,0,1,1.35,3.23,1.85,1.85,0,0,1-1.35.55A1.9,1.9,0,0,1,8.83,8.41a1.92,1.92,0,0,1,1.34-.55Zm1.58,7.2a.73.73,0,0,1-.21.49.66.66,0,0,1-.48.2H9.29a.68.68,0,0,1-.69-.69V14.2a4.75,4.75,0,0,1-1.48-.86l-.75.45a.73.73,0,0,1-.7,0,.63.63,0,0,1-.25-.26L4.54,12a.67.67,0,0,1-.08-.53.71.71,0,0,1,.32-.42l.75-.43a4.8,4.8,0,0,1-.08-.85,4.71,4.71,0,0,1,.08-.85l-.74-.44a.71.71,0,0,1-.32-.42.65.65,0,0,1,.07-.54L5.42,6a.66.66,0,0,1,.42-.32l.18,0a.73.73,0,0,1,.35.09l.75.43A4.68,4.68,0,0,1,8.6,5.33V4.45a.68.68,0,0,1,.69-.69h1.77a.64.64,0,0,1,.48.2.73.73,0,0,1,.21.49v.88a4.75,4.75,0,0,1,1.48.85L14,5.75a.67.67,0,0,1,.34-.09l.18,0a.71.71,0,0,1,.42.32l.89,1.54a.67.67,0,0,1,.06.52.73.73,0,0,1-.32.43l-.75.42a4.8,4.8,0,0,1,.08.85,4.71,4.71,0,0,1-.08.85l.75.43a.66.66,0,0,1,.32.42.73.73,0,0,1-.06.54l-.89,1.52a.69.69,0,0,1-.25.26.7.7,0,0,1-.35.09.64.64,0,0,1-.34-.09l-.75-.45a4.87,4.87,0,0,1-1.48.86v.87ZM7.23,9.75a3,3,0,0,0,.86,2.08,2.94,2.94,0,1,0,4.16-4.16,3,3,0,0,0-2.08-.85A2.94,2.94,0,0,0,7.23,9.75Z" transform="translate(-4.44 -3.76)"/></g></svg>',revert:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 14.69"><g><path d="M18.26,15V12.3l1.89-2V15a2.58,2.58,0,0,1-.24,1c-.2.58-.75.92-1.65,1H7.56v2L4.41,15.63,7.56,13v2h10.7ZM6.3,8.28V11L4.41,13V8.28a2.58,2.58,0,0,1,.24-1c.2-.58.75-.92,1.65-1H17v-2l3.15,3.34L17,10.3v-2H6.3Z" transform="translate(-4.4 -4.28)"/></g></svg>',auto_size:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M6.71,17.19,6.89,16l1.21-.15A6,6,0,0,1,6.81,13.9a5.78,5.78,0,0,1-.45-2.27A6,6,0,0,1,8.1,7.45a5.83,5.83,0,0,1,4.17-1.73l1-1-1-1A7.89,7.89,0,0,0,5,14.64a7.73,7.73,0,0,0,1.71,2.55Zm5.57,2.31h0A7.86,7.86,0,0,0,17.85,6.07L17.67,7.3l-1.21.15a5.9,5.9,0,0,1,1.29,1.92,5.81,5.81,0,0,1,.45,2.26,5.91,5.91,0,0,1-5.9,5.9l-1,1,.49.49.47.5Z" transform="translate(-4.41 -3.76)"/></g></svg>',insert_row_below:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M15.7,1.3c-0.1-0.1-0.1-0.2-0.2-0.2L15.3,1H0.4L0.3,1.1c0,0-0.1,0.1-0.1,0.1c0,0-0.1,0.1-0.1,0.1L0,1.4v7.7l0.1,0.1c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h2.3V9.3l0.1-0.5L3,8.5l0.1-0.2c-0.1,0-0.2,0-0.3,0H1.2v-6h13.3v6h-1.6c-0.1,0-0.2,0-0.3,0l0.1,0.2l0.2,0.4C12.9,9,13,9.2,13,9.3v0.1h2.3l0.2-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1V1.4L15.7,1.3z"/><path d="M10.5,7.5C9.9,7.1,9.3,6.8,8.6,6.7c-0.2,0-0.5-0.1-0.7,0c-0.2,0-0.5,0-0.7,0C6.6,6.7,6.1,6.9,5.6,7.3C5.2,7.6,4.7,8,4.4,8.4C4.3,8.6,4.2,8.8,4.2,8.9C4.1,9.1,4,9.3,3.9,9.4C3.9,9.6,3.8,9.7,3.8,9.9c0,0.2-0.1,0.3-0.1,0.5v-0.1c-0.1,0.8,0.1,1.6,0.5,2.4c0.4,0.7,1,1.3,1.7,1.7c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0.1,0.7,0.1,1,0.1c0.3,0,0.7,0,1-0.1c0.3-0.1,0.6-0.2,0.9-0.3c0.5-0.3,0.9-0.6,1.3-1c0.3-0.4,0.6-0.8,0.8-1.3c0.1-0.4,0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.3-1.4C11.5,8.6,11.1,8,10.5,7.5z M10.1,11.3H8.5v1.6H8H7.9H7.3v0v-0.1v-1.4H5.7v-0.4v-0.2v-0.6h0h1.5V8.5h1.2v1.6h1.6V11.3z"/></g></svg>',insert_row_above:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M0.1,14.5c0.1,0.1,0.1,0.2,0.2,0.2l0.1,0.1h14.9l0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1l0.1-0.1V6.7l-0.1-0.1c0-0.1-0.1-0.1-0.2-0.2l-0.1-0.1h-2.3v0.1l-0.1,0.5l-0.2,0.4l-0.1,0.2c0.1,0,0.2,0,0.3,0h1.6v6H1.3v-6h1.6c0.1,0,0.2,0,0.3,0L3.1,7.3L2.9,6.9C2.8,6.8,2.8,6.6,2.7,6.5V6.3H0.4L0.3,6.4c-0.1,0-0.1,0.1-0.2,0.2L0,6.7v7.7L0.1,14.5z"/><path d="M5.3,8.3c0.6,0.5,1.2,0.8,1.9,0.9c0.2,0,0.5,0.1,0.7,0c0.2,0,0.5,0,0.7,0c0.6-0.1,1.1-0.3,1.6-0.6c0.5-0.3,0.9-0.7,1.2-1.2c0.1-0.2,0.2-0.3,0.3-0.5c0.1-0.2,0.2-0.4,0.2-0.5c0.1-0.1,0.1-0.3,0.1-0.4C12,5.8,12,5.6,12,5.4v0.1c0.1-0.8-0.1-1.6-0.5-2.4c-0.4-0.7-1-1.3-1.7-1.7C9.5,1.3,9.2,1.2,8.9,1.1C8.5,1,8.2,1,7.9,1c-0.3,0-0.7,0-1,0.1C6.6,1.2,6.3,1.3,6,1.4C5.5,1.7,5.1,2,4.7,2.4C4.4,2.8,4.1,3.3,3.9,3.8C3.8,4.2,3.7,4.7,3.7,5.2c0,0.5,0.1,1,0.3,1.4C4.3,7.2,4.7,7.8,5.3,8.3z M5.7,4.5h1.6V2.9h0.5h0.1h0.6v0v0.1v1.4H10v0.4v0.2v0.6h0H8.5v1.6H7.3V5.7H5.7V4.5z"/></g></svg>',insert_column_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M14.5,15.7c0.1-0.1,0.2-0.1,0.2-0.2l0.1-0.1V0.4l-0.1-0.1c0,0-0.1-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1L14.4,0H6.7L6.6,0.1c-0.1,0-0.1,0.1-0.2,0.2L6.3,0.4v2.3h0.1l0.5,0.1L7.3,3l0.2,0.1c0-0.1,0-0.2,0-0.3V1.2h6v13.3h-6v-1.6c0-0.1,0-0.2,0-0.3l-0.2,0.1l-0.4,0.2C6.7,12.9,6.6,13,6.4,13H6.3v2.3l0.1,0.2c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h7.7L14.5,15.7z"/><path d="M8.3,10.5C8.7,10,9,9.3,9.1,8.6c0-0.2,0.1-0.5,0-0.7c0-0.2,0-0.5,0-0.7C9,6.7,8.8,6.1,8.5,5.7C8.2,5.2,7.8,4.8,7.3,4.5C7.2,4.4,7,4.3,6.9,4.2C6.7,4.1,6.5,4,6.4,4C6.2,3.9,6.1,3.9,5.9,3.8c-0.2,0-0.3-0.1-0.5-0.1h0.1C4.7,3.7,3.8,3.9,3.1,4.3C2.4,4.7,1.8,5.3,1.4,6C1.3,6.3,1.2,6.6,1.1,6.9C1,7.2,1,7.6,1,7.9c0,0.3,0,0.7,0.1,1c0.1,0.3,0.2,0.6,0.3,0.9c0.3,0.5,0.6,0.9,1,1.3c0.4,0.3,0.8,0.6,1.3,0.8C4.2,12,4.7,12.1,5.1,12c0.5,0,1-0.1,1.4-0.3C7.2,11.5,7.8,11.1,8.3,10.5zM4.5,10.1V8.5H2.9V8V7.9V7.3h0H3h1.4V5.7h0.4h0.2h0.6v0v1.5h1.6v1.2H5.7v1.6H4.5z"/></g></svg>',insert_column_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M1.3,0.1C1.2,0.2,1.1,0.2,1.1,0.3L1,0.4v14.9l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1l0.1,0.1h7.7l0.1-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1v-2.3H9.3l-0.5-0.1l-0.4-0.2l-0.2-0.1c0,0.1,0,0.2,0,0.3v1.6h-6V1.3h6v1.6c0,0.1,0,0.2,0,0.3l0.2-0.1l0.4-0.2C9,2.9,9.2,2.8,9.3,2.8h0.1V0.5L9.4,0.3c0-0.1-0.1-0.1-0.2-0.2L9.1,0H1.4L1.3,0.1z"/><path d="M7.5,5.3C7,5.8,6.7,6.5,6.6,7.2c0,0.2-0.1,0.5,0,0.7c0,0.2,0,0.5,0,0.7c0.1,0.6,0.3,1.1,0.6,1.6c0.3,0.5,0.7,0.9,1.2,1.2c0.2,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.5,0.2c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1h-0.1c0.8,0.1,1.6-0.1,2.4-0.5c0.7-0.4,1.3-1,1.7-1.7c0.2-0.3,0.3-0.6,0.3-0.9c0.1-0.3,0.1-0.7,0.1-1c0-0.3,0-0.7-0.1-1c-0.1-0.3-0.2-0.6-0.3-0.9c-0.3-0.5-0.6-0.9-1-1.3C13,4.4,12.5,4.2,12,4c-0.4-0.1-0.9-0.2-1.4-0.2c-0.5,0-1,0.1-1.4,0.2C8.5,4.3,7.9,4.7,7.5,5.3z M11.3,5.7v1.6h1.6v0.5v0.1v0.6h0h-0.1h-1.4v1.6h-0.4h-0.2h-0.6v0V8.5H8.5V7.3h1.6V5.7H11.3z"/></g></svg>',delete_row:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 13.83"><g><path d="M4.7,18.46l.12.08H19.73l.12-.08a.58.58,0,0,0,.22-.22l.08-.12,0-7.69-.08-.11a.77.77,0,0,0-.18-.18l-.11-.08-2.31,0-.08.28-.1.29a1.58,1.58,0,0,1-.12.29l-.14.34s0,0,.18,0H18.9v6H5.64v-6H7.35c.14,0,.2,0,.18,0l-.14-.34a2.85,2.85,0,0,1-.12-.29l-.1-.29-.07-.27-2.31,0-.11.08a.77.77,0,0,0-.18.18l-.08.11,0,7.69.08.12a.47.47,0,0,0,.09.12l.13.09ZM12.11,13a4,4,0,0,0,1.46-.21,4.51,4.51,0,0,0,1.31-.71A4,4,0,0,0,16.26,10a4.32,4.32,0,0,0-.08-2.54,4.34,4.34,0,0,0-1-1.52,4.15,4.15,0,0,0-1.54-1,4.34,4.34,0,0,0-1.35-.22A4.07,4.07,0,0,0,11,4.93,3.94,3.94,0,0,0,9.24,6.07,3.92,3.92,0,0,0,8.15,8.88a3.91,3.91,0,0,0,.12.95A4.16,4.16,0,0,0,12.11,13Zm2.35-4.14v.58H10.09V8.27h4.37v.58Z" transform="translate(-4.4 -4.71)"/></g></svg>',delete_column:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.81 15.74"><g><path d="M5.66,19.42l.12.08,7.69,0,.11-.08a.77.77,0,0,0,.18-.18l.08-.11,0-2.32-.15,0-.45-.15-.42-.18-.17-.07a1,1,0,0,0,0,.27v1.63h-6V5h6V6.62a.9.9,0,0,0,0,.26l.17-.07.42-.17a3.91,3.91,0,0,1,.45-.15l.15,0,0-2.32L13.75,4a.77.77,0,0,0-.18-.18l-.11-.08H5.79l-.13.07a.63.63,0,0,0-.21.22l-.08.12V19.08l.08.12a.47.47,0,0,0,.09.12.35.35,0,0,0,.12.1Zm9-3.67a4.16,4.16,0,0,0,2.36-.51,4.08,4.08,0,0,0,1.67-1.72,4,4,0,0,0,.35-.91,3.79,3.79,0,0,0,.1-1,4.71,4.71,0,0,0-.11-1,5,5,0,0,0-.3-.87,4.25,4.25,0,0,0-1-1.25,4.49,4.49,0,0,0-1.34-.81A4.26,4.26,0,0,0,15,7.48a3.88,3.88,0,0,0-1.41.25A4.32,4.32,0,0,0,11.86,9,4,4,0,0,0,11,10.94a4.4,4.4,0,0,0-.05.68,4.5,4.5,0,0,0,.05.68,3.93,3.93,0,0,0,.61,1.57,4.22,4.22,0,0,0,1.18,1.2,4.59,4.59,0,0,0,.48.27c.2.1.37.17.5.22a2.44,2.44,0,0,0,.45.12,4.61,4.61,0,0,0,.5.07Zm2.54-4.12v.58H12.87V11h4.37v.59Z" transform="translate(-5.37 -3.76)"/></g></svg>',fixed_column_width:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6,5H18A1,1 0 0,1 19,6A1,1 0 0,1 18,7H6A1,1 0 0,1 5,6A1,1 0 0,1 6,5M21,2V4H3V2H21M15,8H17V22H15V8M7,8H9V22H7V8M11,8H13V22H11V8Z" /></svg>',rotate_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M0.5,10.2c0,0.1,0,0.2,0,0.3v0.2l0,0c0.1,0.3,0.3,0.6,0.4,0.9l0,0C1,11.8,1.3,12,1.5,11.9h0.1h0.2h0.1c0.1-0.1,0.3-0.3,0.4-0.5v-0.2c0-0.1,0-0.2-0.1-0.3l0,0c-0.2-0.2-0.3-0.4-0.3-0.7l0,0C1.8,10,1.7,9.9,1.5,9.8c-0.1,0-0.2,0-0.3,0H0.9C0.7,9.9,0.6,10,0.5,10.2L0.5,10.2z"/><path d="M2.2,11.5L2.2,11.5L2.2,11.5z"/><path d="M5.9,3.6L5.9,3.6L5.9,3.6z"/><path d="M0.1,7.9c0,0.3,0,0.6,0,0.9l0,0l0,0l0,0l0,0c0,0.2,0.1,0.3,0.2,0.4l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0l0,0c0.2,0,0.4-0.1,0.5-0.3l0,0c0-0.1,0.1-0.3,0.1-0.4V8.6l0,0c0-0.2,0-0.5,0-0.7l0,0c0-0.2-0.1-0.4-0.2-0.5C1.1,7.3,0.9,7.2,0.7,7.2S0.3,7.3,0.2,7.4C0.1,7.5,0,7.7,0.1,7.9z"/><path d="M1.9,12.7L1.9,12.7c0,0.2,0,0.4,0.2,0.5l0,0l0.2,0.3l0,0c0.2,0.1,0.3,0.2,0.5,0.4l0,0l0,0l0,0l0,0C2.9,14,3,14.1,3.2,14.1s0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5v-0.1c0-0.2-0.1-0.4-0.2-0.5l0,0l-0.4-0.4l-0.2-0.2l0,0C3,12.1,2.8,12,2.6,12l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0C2,12.3,1.9,12.5,1.9,12.7z"/><path d="M6.6,15c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.2,0.2,0.4,0.3l0,0c0.3,0,0.5,0,0.7,0h0.3l0,0c0.2,0,0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5l0,0l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0H7.9c-0.1,0-0.3,0-0.5,0l0,0H7.3c-0.2-0.1-0.3,0-0.5,0.1l0,0C6.7,14.6,6.6,14.8,6.6,15L6.6,15L6.6,15L6.6,15z"/><path d="M4.2,7.4C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.1,0.1,0.3,0.2,0.5,0.2s0.3-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0C11.5,7.3,11,6.7,10,5.8l0,0L8.4,4.2l0,0C8.3,4.1,8.1,4,7.9,4S7.5,4.1,7.4,4.2L4.2,7.4L4.2,7.4z M6.8,9L5.7,7.9l2.2-2.2l2.3,2.2l-2.3,2.2C7.7,9.9,7.3,9.5,6.8,9L6.8,9z"/><path d="M4.1,14.1C4,14.2,4,14.3,4,14.4v0.2l0,0c0.1,0.1,0.2,0.3,0.4,0.4l0,0c0.3,0.1,0.6,0.2,0.9,0.4h0.1h0.1l0,0c0.2,0,0.3-0.1,0.5-0.1l0,0c0.2-0.1,0.3-0.3,0.3-0.4l0,0l0,0l0,0l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3l0,0C6.1,14.2,6,14.1,5.8,14l0,0c-0.3-0.1-0.5-0.2-0.8-0.2l0,0c-0.1-0.1-0.2-0.1-0.3-0.1H4.5C4.3,13.7,4.2,13.9,4.1,14.1z"/><path d="M9.3,14.4c0,0.1-0.1,0.3,0,0.4V15l0,0c0,0.1,0.1,0.3,0.5,0.4c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1l0,0c0.3-0.1,0.6-0.2,0.9-0.3l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0.1-0.3c0-0.1-0.1-0.2-0.1-0.3l0,0c-0.1-0.2-0.2-0.3-0.4-0.4l0,0h-0.3c-0.1,0-0.2,0-0.3,0l0,0c-0.2,0.1-0.5,0.2-0.8,0.3l0,0C9.5,14.1,9.4,14.2,9.3,14.4L9.3,14.4z"/><path d="M11.4,14.7L11.4,14.7L11.4,14.7z"/><path d="M9.5,15.3L9.5,15.3L9.5,15.3z"/><path d="M15.9,7.9c0-1-0.2-2-0.6-3l0,0c-0.4-1-1-1.9-1.7-2.6C12.8,1.6,12,1,11,0.6l0,0C10.1,0.2,9,0,8,0C7.3,0,6.5,0.1,5.8,0.3l0,0C5.2,0.5,4.6,0.8,4,1.1L3.1,0.2l0,0C2.9,0.1,2.8,0,2.6,0H2.4l0,0C2.2,0,2,0.2,1.9,0.4l0,0L0.1,4.9l0,0C0,5,0,5.1,0,5.2c0,0.2,0.1,0.4,0.2,0.5l0,0c0.2,0.1,0.3,0.2,0.5,0.2h0.1H1l0,0l4.7-1.8l0,0C5.9,4,6.1,3.8,6.1,3.6V3.4C6.1,3.2,6,3,5.9,2.9l0,0L5.1,2.1c0.4-0.2,0.8-0.4,1.3-0.5c0.5-0.1,1.1-0.2,1.7-0.2c0.9,0,1.7,0.2,2.5,0.5l0,0c0.8,0.3,1.5,0.8,2.1,1.4c0.6,0.6,1.1,1.3,1.4,2.1l0,0c0.3,0.8,0.5,1.6,0.5,2.5s-0.2,1.7-0.5,2.5l0,0c-0.3,0.8-0.8,1.5-1.4,2.1c-0.2,0.2-0.4,0.3-0.6,0.5l0,0c-0.2,0.1-0.3,0.3-0.3,0.5v0.1c0,0.1,0,0.3,0.1,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0c0.1,0,0.3-0.1,0.4-0.2l0,0l0,0l0,0l0,0c0.2-0.2,0.5-0.4,0.7-0.6l0,0l0,0l0,0l0,0c0.7-0.8,1.3-1.6,1.7-2.6C15.6,10,15.8,9,15.9,7.9z M1.9,4C2,3.8,2.1,3.5,2.3,3.1l0,0L2.7,2l1.2,1.2L1.9,4z"/><path d="M6.8,15.5L6.8,15.5L6.8,15.5z"/></g></svg>',rotate_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M9.9,15.3L9.9,15.3L9.9,15.3z"/><path d="M6.9,15.1L6.9,15.1c0,0.1,0.1,0.3,0.2,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0h0.3c0.2,0,0.4,0,0.7,0l0,0c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.2,0.2-0.4V15c0-0.2-0.1-0.4-0.2-0.4c-0.2-0.1-0.3-0.2-0.5-0.2H8.4l0,0c-0.1,0-0.3,0-0.5,0H7.6l0,0c-0.2,0-0.4,0.1-0.5,0.2C7,14.7,6.9,14.9,6.9,15.1z"/><path d="M6.5,14.4L6.5,14.4L6.5,14.4z"/><path d="M5.8,5.8L5.8,5.8c-1,0.9-1.5,1.5-1.7,1.6l0,0C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.2,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0L8.4,4.2C8.3,4.1,8.1,4,7.9,4C7.7,4,7.5,4.1,7.4,4.2l0,0L5.8,5.8z M5.6,7.9l2.3-2.2l2.2,2.2L9,9l0,0l0,0l0,0l0,0c-0.5,0.6-0.9,0.9-1.1,1.1L5.6,7.9z"/><path d="M9,15.5L9,15.5L9,15.5z"/><path d="M9.6,14.7v0.2l0,0l0,0l0,0l0,0c0.1,0.2,0.1,0.3,0.3,0.3c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1h0.1c0.3-0.1,0.6-0.3,0.9-0.4l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0,0v-0.2c0-0.1,0-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4H11c-0.1,0-0.2,0.1-0.3,0.1l0,0c-0.2,0.1-0.4,0.2-0.7,0.3l0,0l0,0c-0.1,0.1-0.3,0.2-0.4,0.4C9.6,14.5,9.6,14.6,9.6,14.7z"/><path d="M9,14.5L9,14.5L9,14.5z"/><path d="M9.6,14.4L9.6,14.4L9.6,14.4z"/><path d="M11.7,14L11.7,14L11.7,14z"/><path d="M15.6,7.4L15.6,7.4L15.6,7.4z"/><path d="M15,9.4c0.2,0,0.4,0,0.6-0.2l0,0c0.1-0.1,0.2-0.2,0.2-0.4l0,0l0,0l0,0l0,0c0-0.3,0-0.6,0-0.9c0-0.2-0.1-0.4-0.2-0.5c-0.1-0.1-0.3-0.2-0.5-0.2s-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5l0,0c0,0.2,0,0.4,0,0.7l0,0v0.1c0,0.1,0,0.3,0.1,0.4l0,0C14.6,9.3,14.8,9.4,15,9.4L15,9.4L15,9.4z"/><path d="M14,12h0.1h0.2h0.1c0.2,0,0.5-0.2,0.6-0.4l0,0c0.2-0.3,0.3-0.6,0.4-0.9l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4h-0.3c-0.1,0-0.2,0-0.3,0C14.2,9.9,14,10,14,10.3l0,0c-0.1,0.2-0.2,0.5-0.3,0.7l0,0c-0.1,0.1-0.1,0.2-0.1,0.3v0.2l0,0l0,0C13.6,11.6,13.8,11.8,14,12z"/><path d="M14.6,7.4L14.6,7.4L14.6,7.4z"/><path d="M4.4,14.2c-0.1,0.1-0.1,0.2-0.1,0.3l0.1,0.2c0,0.2,0.2,0.3,0.3,0.4l0,0c0.3,0.1,0.6,0.3,1.1,0.4l0,0h0.1l0,0c0.1,0,0.2-0.1,0.4-0.2c0.1,0,0.2-0.2,0.3-0.3l0,0v-0.2c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.2-0.2-0.4-0.3l0,0c-0.2-0.1-0.5-0.2-0.7-0.3l0,0c-0.1,0-0.2,0-0.3,0H4.7l0,0C4.6,13.9,4.4,14,4.4,14.2L4.4,14.2z"/><path d="M11.9,13.3c0,0.2,0.1,0.4,0.2,0.6c0.1,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l0,0l0,0l0,0c0.1-0.1,0.3-0.3,0.4-0.4l0,0l0.2-0.3l0,0c0.1-0.2,0.2-0.3,0.2-0.5l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.2,0.2l-0.4,0.4l0,0C12,13,11.9,13.1,11.9,13.3L11.9,13.3z"/><path d="M12.1,13.8L12.1,13.8L12.1,13.8z"/><path d="M11.9,13.3L11.9,13.3L11.9,13.3z"/><path d="M15.9,5.2c0-0.1-0.1-0.2-0.1-0.3l0,0L14,0.4l0,0C13.9,0.2,13.7,0,13.5,0l0,0l0,0h-0.2c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.9,0.9c-0.5-0.3-1.1-0.6-1.8-0.8l0,0C9.4,0.1,8.7,0,7.9,0c-1,0-2,0.2-3,0.6S3,1.6,2.3,2.3C1.6,3.1,1,3.9,0.6,4.9l0,0C0.2,5.8,0,6.8,0,7.9c0,1,0.2,2,0.6,3s0.9,1.8,1.7,2.6l0,0l0,0l0,0l0,0c0.2,0.2,0.5,0.4,0.7,0.6l0,0l0,0l0,0l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0c0.2,0,0.4-0.1,0.6-0.3l0,0c0.1-0.1,0.1-0.3,0.1-0.4v-0.1l0,0C4.1,13.3,4,13.1,3.9,13l0,0c-0.2-0.1-0.4-0.3-0.6-0.5c-0.6-0.6-1.1-1.3-1.4-2.1l0,0C1.6,9.6,1.4,8.8,1.4,7.9s0.2-1.7,0.5-2.5l0,0c0.3-0.8,0.8-1.5,1.4-2.1c0.6-0.6,1.3-1.1,2.1-1.4l0,0C6.2,1.6,7,1.4,7.9,1.4c0.6,0,1.1,0.1,1.7,0.2c0.5,0.1,0.9,0.3,1.3,0.5l-0.8,0.8l0,0C10,3.1,9.9,3.2,9.9,3.4v0.2l0,0l0,0c0,0.2,0.2,0.4,0.4,0.5l0,0l4.5,1.8l0,0H15h0.1c0.2,0,0.4-0.1,0.5-0.2l0,0C15.7,5.6,15.8,5.4,15.9,5.2z M11.8,3.2L13,2l0.4,1.1l0,0c0.2,0.4,0.3,0.7,0.4,0.9L11.8,3.2z"/></g></svg>',mirror_horizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.75 15.74"><g><path d="M13.75,3.76l5.9,15.74h-5.9V3.76ZM4.9,19.5,10.8,3.76V19.5H4.9Z" transform="translate(-4.9 -3.76)"/></g></svg>',mirror_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.75"><g><path d="M20.15,13.1,4.41,19V13.1H20.15ZM4.41,4.25l15.74,5.9H4.41V4.25Z" transform="translate(-4.41 -4.25)"/></g></svg>',checked:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 12.1"><g><path d="M4.59,12.23l.12.18L9.43,17.5a.58.58,0,0,0,.84,0L20,7.45h0a.58.58,0,0,0,0-.84l-.85-.85a.58.58,0,0,0-.84,0H18.2l-8.12,8.41a.29.29,0,0,1-.42,0l-3.4-3.63a.58.58,0,0,0-.84,0l-.85.85a.6.6,0,0,0-.14.21.51.51,0,0,0,0,.44c.05.06.1.13.16.19Z" transform="translate(-4.38 -5.58)"/></g></svg>',line_break:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6a1,1,0,0,0-1,1v4a1,1,0,0,1-1,1H7.41l1.3-1.29A1,1,0,0,0,7.29,9.29l-3,3a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l3,3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L7.41,14H17a3,3,0,0,0,3-3V7A1,1,0,0,0,19,6Z"/></svg>',audio:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z" /></svg>',image_gallery:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="30 30 150 150"><g><path d="M152.775,120.548V51.651c0-12.271-9.984-22.254-22.254-22.254H43.727c-12.271,0-22.254,9.983-22.254,22.254v68.896c0,12.27,9.983,22.254,22.254,22.254h86.795C142.791,142.802,152.775,132.817,152.775,120.548z M36.394,51.651c0-4.042,3.291-7.333,7.333-7.333h86.795c4.042,0,7.332,3.291,7.332,7.333v23.917l-14.938-17.767c-1.41-1.678-3.487-2.649-5.68-2.658h-0.029c-2.184,0-4.255,0.954-5.674,2.613L76.709,98.519l-9.096-9.398c-1.427-1.474-3.392-2.291-5.448-2.273c-2.052,0.025-4.004,0.893-5.396,2.4L36.394,111.32V51.651z M41.684,127.585l20.697-22.416l9.312,9.622c1.461,1.511,3.489,2.334,5.592,2.27c2.101-0.066,4.075-1.013,5.44-2.612l34.436-40.308l20.693,24.613v21.794c0,4.042-3.29,7.332-7.332,7.332H43.727C43.018,127.88,42.334,127.775,41.684,127.585z M182.616,152.5V75.657c0-4.12-3.34-7.46-7.461-7.46c-4.119,0-7.46,3.34-7.46,7.46V152.5c0,4.112-3.347,7.46-7.461,7.46h-94c-4.119,0-7.46,3.339-7.46,7.459c0,4.123,3.341,7.462,7.46,7.462h94C172.576,174.881,182.616,164.841,182.616,152.5z"/></g></svg>',bookmark:'<svg viewBox="0 0 24 24"><path d="M17,3H7A2,2 0 0,0 5,5V21L12,18L19,21V5C19,3.89 18.1,3 17,3Z" /></svg>',download:'<svg viewBox="0 0 24 24"><path d="M2 12H4V17H20V12H22V17C22 18.11 21.11 19 20 19H4C2.9 19 2 18.11 2 17V12M12 15L17.55 9.54L16.13 8.13L13 11.25V2H11V11.25L7.88 8.13L6.46 9.55L12 15Z" /></svg>',dir_ltr:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M9 4v4c-1.1 0-2-.9-2-2s.9-2 2-2m8-2H9C6.79 2 5 3.79 5 6s1.79 4 4 4v5h2V4h2v11h2V4h2V2zm0 12v3H5v2h12v3l4-4-4-4z"/></svg>',dir_rtl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M10 4v4c-1.1 0-2-.9-2-2s.9-2 2-2m8-2h-8C7.79 2 6 3.79 6 6s1.79 4 4 4v5h2V4h2v11h2V4h2V2zM8 14l-4 4 4 4v-3h12v-2H8v-3z"/></svg>',alert_outline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z" /></svg>',more_text:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 180 180"><g><path d="M49.711,142.188h49.027c2.328,0.002,4.394,1.492,5.129,3.699l9.742,29.252c0.363,1.092,1.385,1.828,2.537,1.83l15.883,0.01c0.859,0,1.667-0.412,2.17-1.109s0.641-1.594,0.37-2.41l-16.625-50.045L86.503,28.953c-0.36-1.097-1.383-1.839-2.537-1.842H64.532c-1.153-0.001-2.178,0.736-2.542,1.831L13.847,173.457c-0.271,0.816-0.135,1.713,0.369,2.412c0.503,0.697,1.311,1.109,2.171,1.109h15.872c1.151,0,2.173-0.736,2.537-1.828l9.793-29.287C45.325,143.66,47.39,142.18,49.711,142.188L49.711,142.188z M53.493,119.098l15.607-46.9c0.744-2.196,2.806-3.674,5.125-3.674s4.381,1.478,5.125,3.674l15.607,46.904c0.537,1.621,0.263,3.402-0.736,4.789c-1.018,1.408-2.649,2.24-4.386,2.24H58.615c-1.736,0-3.368-0.832-4.386-2.24C53.23,122.504,52.956,120.721,53.493,119.098L53.493,119.098z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_paragraph:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 180 180"><g><path d="M128.39,28.499H63.493c-25.558,0-46.354,20.796-46.354,46.354c0,25.559,20.796,46.353,46.354,46.353h9.271v55.625h18.542V47.04h9.271V176.83h18.543V47.04h9.271V28.499z M72.764,102.664h-9.271c-15.337,0-27.813-12.475-27.813-27.812c0-15.336,12.476-27.813,27.813-27.813h9.271V102.664z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_plus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="35 30 140 140"><g><path d="M137.215,102.045c0,3.498-2.835,6.332-6.333,6.332H24.549c-3.498,0-6.334-2.834-6.334-6.332l0,0c0-3.498,2.836-6.333,6.334-6.333h106.333C134.38,95.711,137.215,98.547,137.215,102.045L137.215,102.045z M77.715,161.545c-3.498,0-6.333-2.836-6.333-6.334V48.878c0-3.498,2.836-6.333,6.333-6.333l0,0c3.498,0,6.334,2.835,6.334,6.333v106.333C84.049,158.709,81.213,161.545,77.715,161.545L77.715,161.545z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.632,190.465,66.177,190.465,63.32L190.465,63.32z M190.465,101.993c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.888,1.026,5.353,3.056,7.396c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.993L190.465,101.993z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_horizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 3.58"><g><path d="M4.64,10.73a1.84,1.84,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0A1.79,1.79,0,0,1,8,11.63a1.84,1.84,0,0,1-.25.9,1.69,1.69,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2.08,2.08,0,0,1,4.64,10.73Zm6.09,0a1.84,1.84,0,0,1,.65-.65,1.78,1.78,0,0,1,2.67,1.55,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.76,1.76,0,0,1-1.79,0,1.79,1.79,0,0,1-.64-2.44Zm6.08,0a1.69,1.69,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0,1.79,1.79,0,0,1,.9,1.54,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2,2,0,0,1,16.81,10.73Z" transform="translate(-4.39 -9.84)"/></g></svg>',more_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 3.94 15.75"><g><path d="M12.28,7.69a1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,2,2,0,0,1,1.39-.58,1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58Zm0,2a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39A1.92,1.92,0,0,1,13.67,13a2,2,0,0,1-1.39.58A1.92,1.92,0,0,1,10.89,13a2,2,0,0,1-.58-1.39,2,2,0,0,1,2-2Zm0,5.9a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,1.94,1.94,0,0,1,1.39-.58Z" transform="translate(-10.31 -3.75)"/></g></svg>',attachment:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8.38 15.68"><g><path d="M15.23,6h1v9.78a3.88,3.88,0,0,1-1.31,2.45,4,4,0,0,1-6.57-2.45V7A3,3,0,0,1,9.2,4.89a3,3,0,0,1,5,2.09v8.31a1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39V8h1v7.32a1,1,0,0,0,.29.69,1,1,0,0,0,.69.28A.9.9,0,0,0,13,16a1,1,0,0,0,.29-.69V7a1.92,1.92,0,0,0-.58-1.39A2,2,0,0,0,11.27,5a1.92,1.92,0,0,0-1.39.58A2,2,0,0,0,9.33,7v8.31a3,3,0,1,0,5.9,0V6Z" transform="translate(-8.08 -3.78)"/></g></svg>',map:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.7 15.62"><g><path d="M12.05,12.42a2.93,2.93,0,1,1,2.07-5A2.88,2.88,0,0,1,15,9.49a3,3,0,0,1-.86,2.07,2.89,2.89,0,0,1-2.07.86Zm0-5.36a2.43,2.43,0,0,0-1.72,4.16,2.48,2.48,0,0,0,1.72.72,2.44,2.44,0,0,0,0-4.88Zm0-3.3A5.84,5.84,0,0,1,17.9,9.62a9.94,9.94,0,0,1-1.73,5A33.59,33.59,0,0,1,12.84,19a1.52,1.52,0,0,1-.23.2,1,1,0,0,1-.55.2h0a1,1,0,0,1-.55-.2,1.52,1.52,0,0,1-.23-.2,33.59,33.59,0,0,1-3.33-4.32,9.93,9.93,0,0,1-1.72-5,5.84,5.84,0,0,1,5.85-5.86ZM12,18.34l.08.05.06-.06a35.58,35.58,0,0,0,3.06-3.93,9.35,9.35,0,0,0,1.74-4.77,4.88,4.88,0,0,0-4.88-4.88A4.79,4.79,0,0,0,8.6,6.17,4.84,4.84,0,0,0,7.17,9.62,9.29,9.29,0,0,0,8.91,14.4,36,36,0,0,0,12,18.34Z" transform="translate(-6.2 -3.76)"/></g></svg>',magic_stick:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 15.75"><g><path d="M19.86,19.21a1,1,0,0,0,.28-.68,1,1,0,0,0-.28-.7L13,10.93a1,1,0,0,0-.7-.28,1,1,0,0,0-.68,1.65l6.9,6.9a1,1,0,0,0,.69.29.93.93,0,0,0,.69-.28ZM9.19,8.55a3,3,0,0,0,1.68,0,14.12,14.12,0,0,0,1.41-.32A11.26,11.26,0,0,0,10.8,7.06c-.56-.36-.86-.56-.91-.58S10,5.91,10,5.11s0-1.26-.15-1.37a4.35,4.35,0,0,0-1.19.71c-.53.4-.81.62-.87.68a9,9,0,0,0-2-.6,6.84,6.84,0,0,0-.76-.09s0,.27.08.77a8.6,8.6,0,0,0,.61,2q-.09.09-.69.87a3.59,3.59,0,0,0-.68,1.17c.12.17.57.23,1.36.15S7,9.26,7.15,9.23s.21.36.57.91a10.49,10.49,0,0,0,1.14,1.48c0-.1.14-.57.31-1.4a3,3,0,0,0,0-1.67Z" transform="translate(-4.41 -3.74)"/></g></svg>',empty_file:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12.78 15.75"><g><path d="M14.73,3.76,18.67,7.7v9.84a2,2,0,0,1-2,2H7.84a1.89,1.89,0,0,1-1.38-.58,2,2,0,0,1-.57-1.39V5.73a1.93,1.93,0,0,1,.57-1.38,2,2,0,0,1,1.38-.58h6.62l.26,0v0Zm2.95,4.92h-2a1.93,1.93,0,0,1-1.38-.57,2,2,0,0,1-.58-1.4V6.17c0-.36,0-.84,0-1.43H7.85a1,1,0,0,0-.7.29,1,1,0,0,0-.29.7V17.54a1,1,0,0,0,.29.69,1,1,0,0,0,.69.29h8.85a1,1,0,0,0,.71-.29.92.92,0,0,0,.28-.69Zm0-1L14.73,4.74v2A1,1,0,0,0,15,7.4a1,1,0,0,0,.69.29Z" transform="translate(-5.89 -3.76)"/></g></svg>'};var fr={exports:{}};(function(e){(function(t,i){e.exports=t.document?i(t,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(n)}})(typeof window<"u"?window:Ue,function(t,i){const n={code:"en",toolbar:{default:"Default",save:"Save",font:"Font",formats:"Formats",fontSize:"Size",bold:"Bold",underline:"Underline",italic:"Italic",strike:"Strike",subscript:"Subscript",superscript:"Superscript",removeFormat:"Remove Format",fontColor:"Font Color",hiliteColor:"Highlight Color",indent:"Indent",outdent:"Outdent",align:"Align",alignLeft:"Align left",alignRight:"Align right",alignCenter:"Align center",alignJustify:"Align justify",list:"List",orderList:"Ordered list",unorderList:"Unordered list",horizontalRule:"Horizontal line",hr_solid:"Solid",hr_dotted:"Dotted",hr_dashed:"Dashed",table:"Table",link:"Link",math:"Math",image:"Image",video:"Video",audio:"Audio",fullScreen:"Full screen",showBlocks:"Show blocks",codeView:"Code view",undo:"Undo",redo:"Redo",preview:"Preview",print:"print",tag_p:"Paragraph",tag_div:"Normal (DIV)",tag_h:"Header",tag_blockquote:"Quote",tag_pre:"Code",template:"Template",lineHeight:"Line height",paragraphStyle:"Paragraph style",textStyle:"Text style",imageGallery:"Image gallery",dir_ltr:"Left to right",dir_rtl:"Right to left",mention:"Mention"},dialogBox:{linkBox:{title:"Insert Link",url:"URL to link",text:"Text to display",newWindowCheck:"Open in new window",downloadLinkCheck:"Download link",bookmark:"Bookmark"},mathBox:{title:"Math",inputLabel:"Mathematical Notation",fontSizeLabel:"Font Size",previewLabel:"Preview"},imageBox:{title:"Insert image",file:"Select from files",url:"Image URL",altText:"Alternative text"},videoBox:{title:"Insert Video",file:"Select from files",url:"Media embed URL, YouTube/Vimeo"},audioBox:{title:"Insert Audio",file:"Select from files",url:"Audio URL"},browser:{tags:"Tags",search:"Search"},caption:"Insert description",close:"Close",submitButton:"Submit",revertButton:"Revert",proportion:"Constrain proportions",basic:"Basic",left:"Left",right:"Right",center:"Center",width:"Width",height:"Height",size:"Size",ratio:"Ratio"},controller:{edit:"Edit",unlink:"Unlink",remove:"Remove",insertRowAbove:"Insert row above",insertRowBelow:"Insert row below",deleteRow:"Delete row",insertColumnBefore:"Insert column before",insertColumnAfter:"Insert column after",deleteColumn:"Delete column",fixedColumnWidth:"Fixed column width",resize100:"Resize 100%",resize75:"Resize 75%",resize50:"Resize 50%",resize25:"Resize 25%",autoSize:"Auto size",mirrorHorizontal:"Mirror, Horizontal",mirrorVertical:"Mirror, Vertical",rotateLeft:"Rotate left",rotateRight:"Rotate right",maxSize:"Max size",minSize:"Min size",tableHeader:"Table header",mergeCells:"Merge cells",splitCells:"Split Cells",HorizontalSplit:"Horizontal split",VerticalSplit:"Vertical split"},menu:{spaced:"Spaced",bordered:"Bordered",neon:"Neon",translucent:"Translucent",shadow:"Shadow",code:"Code"}};return typeof i>"u"&&(t.SUNEDITOR_LANG||Object.defineProperty(t,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(t.SUNEDITOR_LANG,"en",{enumerable:!0,writable:!0,configurable:!0,value:n})),n})})(fr);var mg=fr.exports;const vg=nn(mg),jt={_d:null,_w:null,isIE:null,isIE_Edge:null,isOSX_IOS:null,isChromium:null,isMobile:null,isResizeObserverSupported:null,_propertiesInit:function(){this._d||(this._d=document,this._w=window,this.isIE=navigator.userAgent.indexOf("Trident")>-1,this.isIE_Edge=navigator.userAgent.indexOf("Trident")>-1||navigator.appVersion.indexOf("Edge")>-1,this.isOSX_IOS=/(Mac|iPhone|iPod|iPad)/.test(navigator.platform),this.isChromium=!!window.chrome,this.isResizeObserverSupported=typeof ResizeObserver=="function",this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)},_allowedEmptyNodeList:".se-component, pre, blockquote, hr, li, table, img, iframe, video, audio, canvas",_HTMLConvertor:function(e){const t={"&":"&amp;","":"&nbsp;","'":"&apos;",'"':"&quot;","<":"&lt;",">":"&gt;"};return e.replace(/&|\u00A0|'|"|<|>/g,function(i){return typeof t[i]=="string"?t[i]:i})},zeroWidthSpace:String.fromCharCode(8203),zeroWidthRegExp:new RegExp(String.fromCharCode(8203),"g"),onlyZeroWidthRegExp:new RegExp("^"+String.fromCharCode(8203)+"+$"),fontValueMap:{"xx-small":1,"x-small":2,small:3,medium:4,large:5,"x-large":6,"xx-large":7},onlyZeroWidthSpace:function(e){return e==null?!1:(typeof e!="string"&&(e=e.textContent),e===""||this.onlyZeroWidthRegExp.test(e))},getXMLHttpRequest:function(){if(this._w.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch{return null}}else return this._w.XMLHttpRequest?new XMLHttpRequest:null},getValues:function(e){return e?this._w.Object.keys(e).map(function(t){return e[t]}):[]},camelToKebabCase:function(e){return typeof e=="string"?e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}):e.map(function(t){return jt.camelToKebabCase(t)})},kebabToCamelCase:function(e){return typeof e=="string"?e.replace(/-[a-zA-Z]/g,function(t){return t.replace("-","").toUpperCase()}):e.map(function(t){return jt.camelToKebabCase(t)})},createElement:function(e){return this._d.createElement(e)},createTextNode:function(e){return this._d.createTextNode(e||"")},HTMLEncoder:function(e){const t={"<":"$lt;",">":"$gt;"};return e.replace(/<|>/g,function(i){return typeof t[i]=="string"?t[i]:i})},HTMLDecoder:function(e){const t={"$lt;":"<","$gt;":">"};return e.replace(/\$lt;|\$gt;/g,function(i){return typeof t[i]=="string"?t[i]:i})},hasOwn:function(e,t){return this._hasOwn.call(e,t)},_hasOwn:Object.prototype.hasOwnProperty,getIncludePath:function(e,t){let i="";const n=[],l=t==="js"?"script":"link",r=t==="js"?"src":"href";let u="(?:";for(let f=0,d=e.length;f<d;f++)u+=e[f]+(f<d-1?"|":")");const c=new this._w.RegExp("(^|.*[\\/])"+u+"(\\.[^\\/]+)?."+t+"(?:\\?.*|;.*)?$","i"),o=new this._w.RegExp(".+\\."+t+"(?:\\?.*|;.*)?$","i");for(let f=this._d.getElementsByTagName(l),d=0;d<f.length;d++)o.test(f[d][r])&&n.push(f[d]);for(let f=0;f<n.length;f++){let d=n[f][r].match(c);if(d){i=d[0];break}}if(i===""&&(i=n.length>0?n[0][r]:""),i.indexOf(":/")===-1&&i.slice(0,2)!=="//"&&(i=i.indexOf("/")===0?location.href.match(/^.*?:\/\/[^\/]*/)[0]+i:location.href.match(/^[^\?]*\/(?:)/)[0]+i),!i)throw"[SUNEDITOR.util.getIncludePath.fail] The SUNEDITOR installation path could not be automatically detected. (name: +"+name+", extension: "+t+")";return i},getPageStyle:function(e){let t="";const i=(e||this._d).styleSheets;for(let n=0,l=i.length,r;n<l;n++){try{r=i[n].cssRules}catch{continue}if(r)for(let u=0,c=r.length;u<c;u++)t+=r[u].cssText}return t},getIframeDocument:function(e){let t=e.contentWindow||e.contentDocument;return t.document&&(t=t.document),t},getAttributesToString:function(e,t){if(!e.attributes)return"";const i=e.attributes;let n="";for(let l=0,r=i.length;l<r;l++)t&&t.indexOf(i[l].name)>-1||(n+=i[l].name+'="'+i[l].value+'" ');return n},getByteLength:function(e){if(!e||!e.toString)return 0;e=e.toString();const t=this._w.encodeURIComponent;let i,n;return this.isIE_Edge?(n=this._w.unescape(t(e)).length,i=0,t(e).match(/(%0A|%0D)/gi)!==null&&(i=t(e).match(/(%0A|%0D)/gi).length),n+i):(n=new this._w.TextEncoder("utf-8").encode(e).length,i=0,t(e).match(/(%0A|%0D)/gi)!==null&&(i=t(e).match(/(%0A|%0D)/gi).length),n+i)},isWysiwygDiv:function(e){return e&&e.nodeType===1&&(this.hasClass(e,"se-wrapper-wysiwyg")||/^BODY$/i.test(e.nodeName))},isNonEditable:function(e){return e&&e.nodeType===1&&e.getAttribute("contenteditable")==="false"},isTextStyleElement:function(e){return e&&e.nodeType!==3&&/^(strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)$/i.test(e.nodeName)},isInputElement:function(e){return e&&e.nodeType===1&&/^(INPUT|TEXTAREA)$/i.test(e.nodeName)},isFormatElement:function(e){return e&&e.nodeType===1&&(/^(P|DIV|H[1-6]|PRE|LI|TH|TD|DETAILS)$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__replace_.+(\\s|$)|(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(e)&&!this.isWysiwygDiv(e)},isRangeFormatElement:function(e){return e&&e.nodeType===1&&(/^(BLOCKQUOTE|OL|UL|FIGCAPTION|TABLE|THEAD|TBODY|TR|TH|TD|DETAILS)$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__range_.+(\\s|$)"))},isClosureRangeFormatElement:function(e){return e&&e.nodeType===1&&(/^(TH|TD)$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__range__closure_.+(\\s|$)"))},isFreeFormatElement:function(e){return e&&e.nodeType===1&&(/^PRE$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(e)&&!this.isWysiwygDiv(e)},isClosureFreeFormatElement:function(e){return e&&e.nodeType===1&&this.hasClass(e,"(\\s|^)__se__format__free__closure_.+(\\s|$)")},isComponent:function(e){return e&&(/se-component/.test(e.className)||/^(TABLE|HR)$/.test(e.nodeName))},isUneditableComponent:function(e){return e&&this.hasClass(e,"__se__uneditable")},isMediaComponent:function(e){return e&&/se-component/.test(e.className)},isNotCheckingNode:function(e){return e&&/katex|__se__tag/.test(e.className)},getFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isRangeFormatElement(e)&&e.firstElementChild,this.isFormatElement(e)&&t(e))return e;e=e.parentNode}return null},getRangeFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isRangeFormatElement(e)&&!/^(THEAD|TBODY|TR)$/i.test(e.nodeName)&&t(e))return e;e=e.parentNode}return null},getFreeFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isFreeFormatElement(e)&&t(e))return e;e=e.parentNode}return null},getClosureFreeFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isClosureFreeFormatElement(e)&&t(e))return e;e=e.parentNode}return null},copyTagAttributes:function(e,t,i){if(t.style.cssText){const l=t.style;for(let r=0,u=l.length;r<u;r++)e.style[l[r]]=l[l[r]]}const n=t.attributes;for(let l=0,r=n.length,u;l<r;l++)u=n[l].name.toLowerCase(),i&&i.indexOf(u)>-1||!n[l].value?e.removeAttribute(u):u!=="style"&&e.setAttribute(n[l].name,n[l].value)},copyFormatAttributes:function(e,t){t=t.cloneNode(!1),t.className=t.className.replace(/(\s|^)__se__format__[^\s]+/g,""),this.copyTagAttributes(e,t)},getArrayItem:function(e,t,i){if(!e||e.length===0)return null;t=t||function(){return!0};const n=[];for(let l=0,r=e.length,u;l<r;l++)if(u=e[l],t(u))if(i)n.push(u);else return u;return i?n:null},arrayIncludes:function(e,t){for(let i=0;i<e.length;i++)if(e[i]===t)return!0;return!1},getArrayIndex:function(e,t){let i=-1;for(let n=0,l=e.length;n<l;n++)if(e[n]===t){i=n;break}return i},nextIdx:function(e,t){let i=this.getArrayIndex(e,t);return i===-1?-1:i+1},prevIdx:function(e,t){let i=this.getArrayIndex(e,t);return i===-1?-1:i-1},getPositionIndex:function(e){let t=0;for(;e=e.previousSibling;)t+=1;return t},getNodePath:function(e,t,i){const n=[];let l=!0;return this.getParentElement(e,(function(r){if(r===t&&(l=!1),l&&!this.isWysiwygDiv(r)){if(i&&r.nodeType===3){let u=null,c=null;i.s=i.e=0;let o=r.previousSibling;for(;o&&o.nodeType===3;)c=o.textContent.replace(this.zeroWidthRegExp,""),i.s+=c.length,r.textContent=c+r.textContent,u=o,o=o.previousSibling,this.removeItem(u);let f=r.nextSibling;for(;f&&f.nodeType===3;)c=f.textContent.replace(this.zeroWidthRegExp,""),i.e+=c.length,r.textContent+=c,u=f,f=f.nextSibling,this.removeItem(u)}n.push(r)}return!1}).bind(this)),n.map(this.getPositionIndex).reverse()},getNodeFromPath:function(e,t){let i=t,n;for(let l=0,r=e.length;l<r&&(n=i.childNodes,n.length!==0);l++)n.length<=e[l]?i=n[n.length-1]:i=n[e[l]];return i},isSameAttributes:function(e,t){if(e.nodeType===3&&t.nodeType===3)return!0;if(e.nodeType===3||t.nodeType===3)return!1;const i=e.style,n=t.style;let l=0;for(let f=0,d=i.length;f<d;f++)i[i[f]]===n[i[f]]&&l++;const r=e.classList,u=t.classList,c=this._w.RegExp;let o=0;for(let f=0,d=r.length;f<d;f++)c("(s|^)"+r[f]+"(s|$)").test(u.value)&&o++;return l===n.length&&l===i.length&&o===u.length&&o===r.length},isEmptyLine:function(e){return!e||!e.parentNode||!e.querySelector("IMG, IFRAME, AUDIO, VIDEO, CANVAS, TABLE")&&e.children.length===0&&this.onlyZeroWidthSpace(e.textContent)},isSpanWithoutAttr:function(e){return!!e&&e.nodeType===1&&/^SPAN$/i.test(e.nodeName)&&!e.className&&!e.style.cssText},isList:function(e){return e&&/^(OL|UL)$/i.test(typeof e=="string"?e:e.nodeName)},isListCell:function(e){return e&&/^LI$/i.test(typeof e=="string"?e:e.nodeName)},isTable:function(e){return e&&/^(TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(typeof e=="string"?e:e.nodeName)},isCell:function(e){return e&&/^(TD|TH)$/i.test(typeof e=="string"?e:e.nodeName)},isBreak:function(e){return e&&/^BR$/i.test(typeof e=="string"?e:e.nodeName)},isAnchor:function(e){return e&&/^A$/i.test(typeof e=="string"?e:e.nodeName)},isMedia:function(e){return e&&/^(IMG|IFRAME|AUDIO|VIDEO|CANVAS)$/i.test(typeof e=="string"?e:e.nodeName)},isFigures:function(e){return e&&(this.isMedia(e)||/^(FIGURE)$/i.test(typeof e=="string"?e:e.nodeName))},isNumber:function(e){return!!e&&/^-?\d+(\.\d+)?$/.test(e+"")},getNumber:function(e,t){if(!e)return 0;let i=(e+"").match(/-?\d+(\.\d+)?/);return!i||!i[0]?0:(i=i[0],t<0?i*1:t===0?this._w.Math.round(i*1):(i*1).toFixed(t)*1)},getListChildren:function(e,t){const i=[];return!e||!e.children||e.children.length===0||(t=t||function(){return!0},function n(l){if(e!==l&&t(l)&&i.push(l),l.children)for(let r=0,u=l.children.length;r<u;r++)n(l.children[r])}(e)),i},getListChildNodes:function(e,t){const i=[];return!e||e.childNodes.length===0||(t=t||function(){return!0},function n(l){e!==l&&t(l)&&i.push(l);for(let r=0,u=l.childNodes.length;r<u;r++)n(l.childNodes[r])}(e)),i},getElementDepth:function(e){if(!e||this.isWysiwygDiv(e))return-1;let t=0;for(e=e.parentNode;e&&!this.isWysiwygDiv(e);)t+=1,e=e.parentNode;return t},compareElements:function(e,t){let i=e,n=t;for(;i&&n&&i.parentNode!==n.parentNode;)i=i.parentNode,n=n.parentNode;if(!i||!n)return{ancestor:null,a:e,b:t,result:0};const l=i.parentNode.childNodes,r=this.getArrayIndex(l,i),u=this.getArrayIndex(l,n);return{ancestor:i.parentNode,a:i,b:n,result:r>u?1:r<u?-1:0}},getParentElement:function(e,t){let i;if(typeof t=="function")i=t;else{let n;/^\./.test(t)?(n="className",t=t.split(".")[1]):/^#/.test(t)?(n="id",t="^"+t.split("#")[1]+"$"):/^:/.test(t)?(n="name",t="^"+t.split(":")[1]+"$"):(n="nodeName",t="^"+t+"$");const l=new this._w.RegExp(t,"i");i=function(r){return l.test(r[n])}}for(;e&&!i(e);){if(this.isWysiwygDiv(e))return null;e=e.parentNode}return e},getPreviousDeepestNode:function(e,t){let i=e.previousSibling;if(!i){for(let n=e.parentNode;n;n=n.parentNode){if(n===t)return null;if(n.previousSibling){i=n.previousSibling;break}}if(!i)return null}for(;i.lastChild;)i=i.lastChild;return i},getNextDeepestNode:function(e,t){let i=e.nextSibling;if(!i){for(let n=e.parentNode;n;n=n.parentNode){if(n===t)return null;if(n.nextSibling){i=n.nextSibling;break}}if(!i)return null}for(;i.firstChild;)i=i.firstChild;return i},getChildElement:function(e,t,i){let n;if(typeof t=="function")n=t;else{let r;/^\./.test(t)?(r="className",t=t.split(".")[1]):/^#/.test(t)?(r="id",t="^"+t.split("#")[1]+"$"):/^:/.test(t)?(r="name",t="^"+t.split(":")[1]+"$"):(r="nodeName",t="^"+(t==="text"?"#"+t:t)+"$");const u=new this._w.RegExp(t,"i");n=function(c){return u.test(c[r])}}const l=this.getListChildNodes(e,function(r){return n(r)});return l[i?l.length-1:0]},getEdgeChildNodes:function(e,t){if(e){for(t||(t=e);e&&e.nodeType===1&&e.childNodes.length>0&&!this.isBreak(e);)e=e.firstChild;for(;t&&t.nodeType===1&&t.childNodes.length>0&&!this.isBreak(t);)t=t.lastChild;return{sc:e,ec:t||e}}},getOffset:function(e,t){let i=0,n=0,l=e.nodeType===3?e.parentElement:e;const r=this.getParentElement(e,this.isWysiwygDiv.bind(this));for(;l&&!this.hasClass(l,"se-container")&&l!==r;)i+=l.offsetLeft,n+=l.offsetTop,l=l.offsetParent;const u=t&&/iframe/i.test(t.nodeName);return{left:i+(u?t.parentElement.offsetLeft:0),top:n-(r?r.scrollTop:0)+(u?t.parentElement.offsetTop:0)}},getOverlapRangeAtIndex:function(e,t,i,n){if(e<=n?t<i:t>i)return 0;const l=(e>i?e:i)-(t<n?t:n);return(l<0?l*-1:l)+1},changeTxt:function(e,t){!e||!t||(e.textContent=t)},changeElement:function(e,t){if(typeof t=="string")if(e.outerHTML)e.outerHTML=t;else{const i=this.createElement("DIV");i.innerHTML=t,t=i.firstChild,e.parentNode.replaceChild(t,e)}else t.nodeType===1&&e.parentNode.replaceChild(t,e)},setStyle:function(e,t,i){e.style[t]=i,!i&&!e.style.cssText&&e.removeAttribute("style")},hasClass:function(e,t){if(e)return new this._w.RegExp(t).test(e.className)},addClass:function(e,t){!e||new this._w.RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)||(e.className+=(e.className.length>0?" ":"")+t)},removeClass:function(e,t){if(!e)return;const i=new this._w.RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(i," ").trim(),e.className.trim()||e.removeAttribute("class")},toggleClass:function(e,t){if(!e)return;let i=!1;const n=new this._w.RegExp("(\\s|^)"+t+"(\\s|$)");return n.test(e.className)?e.className=e.className.replace(n," ").trim():(e.className+=" "+t,i=!0),e.className.trim()||e.removeAttribute("class"),i},isImportantDisabled:function(e){return e.hasAttribute("data-important-disabled")},setDisabledButtons:function(e,t,i){for(let n=0,l=t.length;n<l;n++){let r=t[n];(i||!this.isImportantDisabled(r))&&(r.disabled=e),i&&(e?r.setAttribute("data-important-disabled",""):r.removeAttribute("data-important-disabled"))}},removeItem:function(e){e&&(typeof e.remove=="function"?e.remove():e.parentNode&&e.parentNode.removeChild(e))},removeItemAllParents:function(e,t,i){if(!e)return null;let n=null;return t||(t=(function(l){if(l===i||this.isComponent(l))return!1;const r=l.textContent.trim();return r.length===0||/^(\n|\u200B)+$/.test(r)}).bind(this)),function l(r){if(!jt.isWysiwygDiv(r)){const u=r.parentNode;u&&t(r)&&(n={sc:r.previousElementSibling,ec:r.nextElementSibling},jt.removeItem(r),l(u))}}(e),n},detachNestedList:function(e,t){const i=this._deleteNestedList(e);let n,l;if(i){n=i.cloneNode(!1),l=i.childNodes;const u=this.getPositionIndex(e);for(;l[u];)n.appendChild(l[u])}else n=e;let r;if(t)r=this.getListChildren(n,(function(u){return this.isListCell(u)&&!u.previousElementSibling}).bind(this));else{const u=this.getElementDepth(e)+2;r=this.getListChildren(e,(function(c){return this.isListCell(c)&&!c.previousElementSibling&&this.getElementDepth(c)===u}).bind(this))}for(let u=0,c=r.length;u<c;u++)this._deleteNestedList(r[u]);return i&&(i.parentNode.insertBefore(n,i.nextSibling),l&&l.length===0&&this.removeItem(i)),n===e?n.parentNode:n},_deleteNestedList:function(e){const t=e.parentNode;let i=t,n=i.parentNode,l,r,u,c,o;for(;this.isListCell(n);){for(c=this.getPositionIndex(e),l=n.nextElementSibling,r=n.parentNode,u=i;u;){if(i=i.nextSibling,this.isList(u)){for(o=u.childNodes;o[c];)r.insertBefore(o[c],l);o.length===0&&this.removeItem(u)}else r.appendChild(u);u=i}i=r,n=r.parentNode}return t.children.length===0&&this.removeItem(t),r},splitElement:function(e,t,i){if(this.isWysiwygDiv(e))return e;if(t&&!this.isNumber(t)){const y=e.childNodes;let _=this.getPositionIndex(t);const S=e.cloneNode(!1),T=e.cloneNode(!1);for(let s=0,a=y.length;s<a;s++){if(s<_)S.appendChild(y[s]);else if(s>_)T.appendChild(y[s]);else continue;s--,a--,_--}return S.childNodes.length>0&&e.parentNode.insertBefore(S,e),T.childNodes.length>0&&e.parentNode.insertBefore(T,e.nextElementSibling),e}const n=e.parentNode;let l=0,r=1,u=!0,c,o,f;if((!i||i<0)&&(i=0),e.nodeType===3){if(l=this.getPositionIndex(e),t>=0&&e.length!==t){e.splitText(t);const y=this.getNodeFromPath([l+1],n);this.onlyZeroWidthSpace(y)&&(y.data=this.zeroWidthSpace)}}else if(e.nodeType===1){if(t===0){for(;e.firstChild;)e=e.firstChild;if(e.nodeType===3){const y=this.createTextNode(this.zeroWidthSpace);e.parentNode.insertBefore(y,e),e=y}}e.previousSibling?e=e.previousSibling:this.getElementDepth(e)===i&&(u=!1)}e.nodeType===1&&(r=0);let d=e;for(;this.getElementDepth(d)>i;)for(l=this.getPositionIndex(d)+r,d=d.parentNode,f=c,c=d.cloneNode(!1),o=d.childNodes,f&&(this.isListCell(c)&&this.isList(f)&&f.firstElementChild?(c.innerHTML=f.firstElementChild.innerHTML,jt.removeItem(f.firstElementChild),f.children.length>0&&c.appendChild(f)):c.appendChild(f));o[l];)c.appendChild(o[l]);d.childNodes.length<=1&&(!d.firstChild||d.firstChild.textContent.length===0)&&(d.innerHTML="<br>");const g=d.parentNode;return u&&(d=d.nextSibling),c?(this.mergeSameTags(c,null,!1),this.mergeNestedTags(c,(function(y){return this.isList(y)}).bind(this)),c.childNodes.length>0?g.insertBefore(c,d):c=d,this.isListCell(c)&&c.children&&this.isList(c.children[0])&&c.insertBefore(this.createElement("BR"),c.children[0]),n.childNodes.length===0&&this.removeItem(n),c):d},mergeSameTags:function(e,t,i){const n=this,l=t?t.length:0;let r=null;return l&&(r=this._w.Array.apply(null,new this._w.Array(l)).map(this._w.Number.prototype.valueOf,0)),function u(c,o,f){const d=c.childNodes;for(let g=0,y=d.length,_,S;g<y&&(_=d[g],S=d[g+1],!!_);g++){if(i&&n._isIgnoreNodeChange(_)||!i&&(n.isTable(_)||n.isListCell(_)||n.isFormatElement(_)&&!n.isFreeFormatElement(_))){(n.isTable(_)||n.isListCell(_))&&u(_,o+1,g);continue}if(y===1&&c.nodeName===_.nodeName&&c.parentNode){if(l){let T,s,a,h,p;for(let m=0;m<l;m++)if(T=t[m],T&&T[o]===g){for(s=_,a=c,h=o,p=!0;h>=0;){if(n.getArrayIndex(a.childNodes,s)!==T[h]){p=!1;break}s=_.parentNode,a=s.parentNode,h--}p&&(T.splice(o,1),T[o]=g)}}n.copyTagAttributes(_,c),c.parentNode.insertBefore(_,c),n.removeItem(c)}if(!S){_.nodeType===1&&u(_,o+1,g);break}if(_.nodeName===S.nodeName&&n.isSameAttributes(_,S)&&_.href===S.href){const T=_.childNodes;let s=0;for(let m=0,v=T.length;m<v;m++)T[m].textContent.length>0&&s++;const a=_.lastChild,h=S.firstChild;let p=0;if(a&&h){const m=a.nodeType===3&&h.nodeType===3;p=a.textContent.length;let v=a.previousSibling;for(;v&&v.nodeType===3;)p+=v.textContent.length,v=v.previousSibling;if(s>0&&a.nodeType===3&&h.nodeType===3&&(a.textContent.length>0||h.textContent.length>0)&&s--,l){let b=null;for(let w=0;w<l;w++)if(b=t[w],b&&b[o]>g){if(o>0&&b[o-1]!==f)continue;b[o]-=1,b[o+1]>=0&&b[o]===g&&(b[o+1]+=s,m&&a&&a.nodeType===3&&h&&h.nodeType===3&&(r[w]+=p))}}}if(_.nodeType===3){if(p=_.textContent.length,_.textContent+=S.textContent,l){let m=null;for(let v=0;v<l;v++)if(m=t[v],m&&m[o]>g){if(o>0&&m[o-1]!==f)continue;m[o]-=1,m[o+1]>=0&&m[o]===g&&(m[o+1]+=s,r[v]+=p)}}}else _.innerHTML+=S.innerHTML;n.removeItem(S),g--}else _.nodeType===1&&u(_,o+1,g)}}(e,0,0),r},mergeNestedTags:function(e,t){typeof t=="string"?t=(function(i){return this.test(i.tagName)}).bind(new this._w.RegExp("^("+(t||".+")+")$","i")):typeof t!="function"&&(t=function(){return!0}),function i(n){let l=n.children;if(l.length===1&&l[0].nodeName===n.nodeName&&t(n)){const r=l[0];for(l=r.children;l[0];)n.appendChild(l[0]);n.removeChild(r)}for(let r=0,u=n.children.length;r<u;r++)i(n.children[r])}(e)},removeEmptyNode:function(e,t,i){const n=this;t&&(t=n.getParentElement(t,function(l){return e===l.parentElement})),function l(r){if(n._notTextNode(r)||r===t||n.isNonEditable(r))return 0;if(r!==e&&n.onlyZeroWidthSpace(r.textContent)&&(!r.firstChild||!n.isBreak(r.firstChild))&&!r.querySelector(n._allowedEmptyNodeList)){if(r.parentNode)return r.parentNode.removeChild(r),-1}else{const u=r.children;for(let c=0,o=u.length,f=0;c<o;c++)!u[c+f]||n.isComponent(u[c+f])||(f+=l(u[c+f]))}return 0}(e),e.childNodes.length===0&&(i?this.removeItem(e):e.innerHTML="<br>")},htmlRemoveWhiteSpace:function(e){return e?e.trim().replace(/<\/?(?!strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)[^>^<]+>\s+(?=<)/ig,function(t){return t.replace(/\n/g,"").replace(/\s+/," ")}):""},htmlCompress:function(e){return e.replace(/\n/g,"").replace(/(>)(?:\s+)(<)/g,"$1$2")},sortByDepth:function(e,t){const i=t?1:-1,n=i*-1;e.sort((function(l,r){return!this.isListCell(l)||!this.isListCell(r)?0:(l=this.getElementDepth(l),r=this.getElementDepth(r),l>r?i:l<r?n:0)}).bind(this))},escapeStringRegexp:function(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},_isExcludeSelectionElement:function(e){return!/FIGCAPTION/i.test(e.nodeName)&&(this.isComponent(e)||/FIGURE/i.test(e.nodeName))},_isIgnoreNodeChange:function(e){return e&&e.nodeType!==3&&(this.isNonEditable(e)||!this.isTextStyleElement(e))},_isMaintainedNode:function(e){return e&&e.nodeType!==3&&/^(a|label|code|summary)$/i.test(typeof e=="string"?e:e.nodeName)},_isSizeNode:function(e){return e&&e.nodeType!==3&&this.isTextStyleElement(e)&&!!e.style.fontSize},_notTextNode:function(e){return e&&e.nodeType!==3&&(this.isComponent(e)||/^(br|input|select|canvas|img|iframe|audio|video)$/i.test(typeof e=="string"?e:e.nodeName))},_disallowedTags:function(e){return/^(meta|script|link|style|[a-z]+\:[a-z]+)$/i.test(e.nodeName)},createTagsWhitelist:function(e){return new RegExp("<\\/?\\b(?!\\b"+(e||"").replace(/\|/g,"\\b|\\b")+"\\b)[^>]*>","gi")},createTagsBlacklist:function(e){return new RegExp("<\\/?\\b(?:\\b"+(e||"^").replace(/\|/g,"\\b|\\b")+"\\b)[^>]*>","gi")},_consistencyCheckOfHTML:function(e,t,i,n){const l=[],r=[],u=[],c=[],o=this.getListChildNodes(e,(function(d){if(d.nodeType!==1)return this.isList(d.parentElement)&&l.push(d),!1;if(i.test(d.nodeName)||!t.test(d.nodeName)&&d.childNodes.length===0&&this.isNotCheckingNode(d))return l.push(d),!1;const g=!this.getParentElement(d,this.isNotCheckingNode);if(!this.isTable(d)&&!this.isListCell(d)&&!this.isAnchor(d)&&(this.isFormatElement(d)||this.isRangeFormatElement(d)||this.isTextStyleElement(d))&&d.childNodes.length===0&&g)return r.push(d),!1;if(this.isList(d.parentNode)&&!this.isList(d)&&!this.isListCell(d))return u.push(d),!1;if(this.isCell(d)){const _=d.firstElementChild;if(!this.isFormatElement(_)&&!this.isRangeFormatElement(_)&&!this.isComponent(_))return c.push(d),!1}if(g&&d.className){const _=new this._w.Array(d.classList).map(n).join(" ").trim();_?d.className=_:d.removeAttribute("class")}return d.parentNode!==e&&g&&(this.isListCell(d)&&!this.isList(d.parentNode)||(this.isFormatElement(d)||this.isComponent(d))&&!this.isRangeFormatElement(d.parentNode)&&!this.getParentElement(d,this.isComponent))}).bind(this));for(let d=0,g=l.length;d<g;d++)this.removeItem(l[d]);const f=[];for(let d=0,g=o.length,y,_;d<g;d++)if(y=o[d],_=y.parentNode,!(!_||!_.parentNode))if(this.getParentElement(y,this.isListCell)){const S=y.childNodes;for(let T=S.length-1;g>=0;T--)_.insertBefore(y,S[T]);f.push(y)}else _.parentNode.insertBefore(y,_),f.push(_);for(let d=0,g=f.length,y;d<g;d++)y=f[d],this.onlyZeroWidthSpace(y.textContent.trim())&&this.removeItem(y);for(let d=0,g=r.length;d<g;d++)this.removeItem(r[d]);for(let d=0,g=u.length,y,_,S,T;d<g;d++)if(y=u[d],T=y.parentNode,!!T)if(_=this.createElement("LI"),this.isFormatElement(y)){for(S=y.childNodes;S[0];)_.appendChild(S[0]);T.insertBefore(_,y),this.removeItem(y)}else y=y.nextSibling,_.appendChild(u[d]),T.insertBefore(_,y);for(let d=0,g=c.length,y,_;d<g;d++)y=c[d],_=this.createElement("DIV"),_.innerHTML=y.textContent.trim().length===0&&y.children.length===0?"<br>":y.innerHTML,y.innerHTML=_.outerHTML},_setDefaultOptionStyle:function(e,t){let i="";e.height&&(i+="height:"+e.height+";"),e.minHeight&&(i+="min-height:"+e.minHeight+";"),e.maxHeight&&(i+="max-height:"+e.maxHeight+";"),e.position&&(i+="position:"+e.position+";"),e.width&&(i+="width:"+e.width+";"),e.minWidth&&(i+="min-width:"+e.minWidth+";"),e.maxWidth&&(i+="max-width:"+e.maxWidth+";");let n="",l="",r="";t=i+t;const u=t.split(";");for(let c=0,o=u.length,f;c<o;c++)if(f=u[c].trim(),!!f){if(/^(min-|max-)?width\s*:/.test(f)||/^(z-index|position)\s*:/.test(f)){n+=f+";";continue}if(/^(min-|max-)?height\s*:/.test(f)){/^height/.test(f)&&f.split(":")[1].trim()==="auto"&&(e.height="auto"),l+=f+";";continue}r+=f+";"}return{top:n,frame:l,editor:r}},_setIframeDocument:function(e,t){e.setAttribute("scrolling","auto"),e.contentDocument.head.innerHTML='<meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">'+this._setIframeCssTags(t),e.contentDocument.body.className=t._editableClass,e.contentDocument.body.setAttribute("contenteditable",!0),e.contentDocument.body.setAttribute("autocorrect","off")},_setIframeCssTags:function(e){const t=e.iframeCSSFileName,i=this._w.RegExp;let n="";for(let l=0,r=t.length,u;l<r;l++){if(u=[],/(^https?:\/\/)|(^data:text\/css,)/.test(t[l]))u.push(t[l]);else{const c=new i("(^|.*[\\/])"+t[l]+"(\\..+)?\\.css(?:\\?.*|;.*)?$","i");for(let o=document.getElementsByTagName("link"),f=0,d=o.length,g;f<d;f++)g=o[f].href.match(c),g&&u.push(g[0])}if(!u||u.length===0)throw'[SUNEDITOR.constructor.iframe.fail] The suneditor CSS files installation path could not be automatically detected. Please set the option property "iframeCSSFileName" before creating editor instances.';for(let c=0,o=u.length;c<o;c++)n+='<link href="'+u[c]+'" rel="stylesheet">'}return n+(e.height==="auto"?`<style>
/** Iframe height auto */
body{height: min-content; overflow: hidden;}
</style>`:"")}},Le=jt,Ai={init:function(e,t){typeof t!="object"&&(t={});const i=document;this._initOptions(e,t);const n=i.createElement("DIV");n.className="sun-editor"+(t.rtl?" se-rtl":""),e.id&&(n.id="suneditor_"+e.id);const l=i.createElement("DIV");l.className="se-container";const r=this._createToolBar(i,t.buttonList,t.plugins,t),u=r.element.cloneNode(!1);u.className+=" se-toolbar-shadow",r.element.style.visibility="hidden",r.pluginCallButtons.math&&this._checkKatexMath(t.katex);const c=i.createElement("DIV");c.className="se-arrow";const o=i.createElement("DIV");o.className="se-toolbar-sticky-dummy";const f=i.createElement("DIV");f.className="se-wrapper";const d=this._initElements(t,n,r.element,c),g=d.bottomBar,y=d.wysiwygFrame,_=d.placeholder;let S=d.codeView;const T=g.resizingBar,s=g.navigation,a=g.charWrapper,h=g.charCounter,p=i.createElement("DIV");p.className="se-loading-box sun-editor-common",p.innerHTML='<div class="se-loading-effect"></div>';const m=i.createElement("DIV");m.className="se-line-breaker",m.innerHTML='<button class="se-btn">'+t.icons.line_break+"</button>";const v=i.createElement("DIV");v.className+="se-line-breaker-component";const b=v.cloneNode(!0);v.innerHTML=b.innerHTML=t.icons.line_break;const w=i.createElement("DIV");w.className="se-resizing-back";const E=i.createElement("INPUT");E.tabIndex=-1,E.style.cssText="position: absolute !important; top: -10000px !important; display: block !important; width: 0 !important; height: 0 !important; margin: 0 !important; padding: 0 !important;";const x=t.toolbarContainer;x&&(x.appendChild(r.element),x.appendChild(u));const k=t.resizingBarContainer;return T&&k&&k.appendChild(T),f.appendChild(S),_&&f.appendChild(_),x||(l.appendChild(r.element),l.appendChild(u)),l.appendChild(o),l.appendChild(f),l.appendChild(w),l.appendChild(p),l.appendChild(m),l.appendChild(v),l.appendChild(b),l.appendChild(E),T&&!k&&l.appendChild(T),n.appendChild(l),S=this._checkCodeMirror(t,S),{constructed:{_top:n,_relative:l,_toolBar:r.element,_toolbarShadow:u,_menuTray:r._menuTray,_editorArea:f,_wysiwygArea:y,_codeArea:S,_placeholder:_,_resizingBar:T,_navigation:s,_charWrapper:a,_charCounter:h,_loading:p,_lineBreaker:m,_lineBreaker_t:v,_lineBreaker_b:b,_resizeBack:w,_stickyDummy:o,_arrow:c,_focusTemp:E},options:t,plugins:r.plugins,pluginCallButtons:r.pluginCallButtons,_responsiveButtons:r.responsiveButtons}},_checkCodeMirror:function(e,t){if(e.codeMirror){const i=[{mode:"htmlmixed",htmlMode:!0,lineNumbers:!0,lineWrapping:!0},e.codeMirror.options||{}].reduce(function(l,r){for(let u in r)Le.hasOwn(r,u)&&(l[u]=r[u]);return l},{});e.height==="auto"&&(i.viewportMargin=1/0,i.height="auto");const n=e.codeMirror.src.fromTextArea(t,i);n.display.wrapper.style.cssText=t.style.cssText,e.codeMirrorEditor=n,t=n.display.wrapper,t.className+=" se-wrapper-code-mirror"}return t},_checkKatexMath:function(e){if(!e)throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a "katex" object to the options.');const t=[{throwOnError:!1},e.options||{}].reduce(function(i,n){for(let l in n)Le.hasOwn(n,l)&&(i[l]=n[l]);return i},{});e.options=t},_setOptions:function(e,t,i){this._initOptions(t.element.originElement,e);const n=t.element,l=n.relative,r=n.editorArea,u=e.toolbarContainer&&e.toolbarContainer!==i.toolbarContainer,c=e.lang!==i.lang||e.buttonList!==i.buttonList||e.mode!==i.mode||u,o=this._createToolBar(document,c?e.buttonList:i.buttonList,e.plugins,e);o.pluginCallButtons.math&&this._checkKatexMath(e.katex);const f=document.createElement("DIV");f.className="se-arrow",c&&(o.element.style.visibility="hidden",u?(e.toolbarContainer.appendChild(o.element),n.toolbar.parentElement.removeChild(n.toolbar)):n.toolbar.parentElement.replaceChild(o.element,n.toolbar),n.toolbar=o.element,n._menuTray=o._menuTray,n._arrow=f);const d=this._initElements(e,n.topArea,c?o.element:n.toolbar,f),g=d.bottomBar,y=d.wysiwygFrame,_=d.placeholder;let S=d.codeView;return n.resizingBar&&Le.removeItem(n.resizingBar),g.resizingBar&&(e.resizingBarContainer&&e.resizingBarContainer!==i.resizingBarContainer?e.resizingBarContainer.appendChild(g.resizingBar):l.appendChild(g.resizingBar)),r.innerHTML="",r.appendChild(S),_&&r.appendChild(_),S=this._checkCodeMirror(e,S),n.resizingBar=g.resizingBar,n.navigation=g.navigation,n.charWrapper=g.charWrapper,n.charCounter=g.charCounter,n.wysiwygFrame=y,n.code=S,n.placeholder=_,e.rtl?Le.addClass(n.topArea,"se-rtl"):Le.removeClass(n.topArea,"se-rtl"),{callButtons:o.pluginCallButtons,plugins:o.plugins,toolbar:o}},_initElements:function(e,t,i,n){t.style.cssText=e._editorStyles.top,/inline/i.test(e.mode)?(i.className+=" se-toolbar-inline",i.style.width=e.toolbarWidth):/balloon/i.test(e.mode)&&(i.className+=" se-toolbar-balloon",i.style.width=e.toolbarWidth,i.appendChild(n));const l=document.createElement(e.iframe?"IFRAME":"DIV");if(l.className="se-wrapper-inner se-wrapper-wysiwyg",e.iframe)l.allowFullscreen=!0,l.frameBorder=0,l.style.cssText=e._editorStyles.frame,l.className+=e.className;else{l.setAttribute("contenteditable",!0),l.setAttribute("autocorrect","off"),l.setAttribute("scrolling","auto");for(let g in e.iframeAttributes)l.setAttribute(g,e.iframeAttributes[g]);l.className+=" "+e._editableClass,l.style.cssText=e._editorStyles.frame+e._editorStyles.editor,l.className+=e.className}const r=document.createElement("TEXTAREA");r.className="se-wrapper-inner se-wrapper-code"+e.className,r.style.cssText=e._editorStyles.frame,r.style.display="none",e.height==="auto"&&(r.style.overflow="hidden");let u=null,c=null,o=null,f=null;if(e.resizingBar&&(u=document.createElement("DIV"),u.className="se-resizing-bar sun-editor-common",c=document.createElement("DIV"),c.className="se-navigation sun-editor-common",u.appendChild(c),e.charCounter)){if(o=document.createElement("DIV"),o.className="se-char-counter-wrapper",e.charCounterLabel){const g=document.createElement("SPAN");g.className="se-char-label",g.textContent=e.charCounterLabel,o.appendChild(g)}if(f=document.createElement("SPAN"),f.className="se-char-counter",f.textContent="0",o.appendChild(f),e.maxCharCount>0){const g=document.createElement("SPAN");g.textContent=" / "+e.maxCharCount,o.appendChild(g)}u.appendChild(o)}let d=null;return e.placeholder&&(d=document.createElement("SPAN"),d.className="se-placeholder",d.innerText=e.placeholder),{bottomBar:{resizingBar:u,navigation:c,charWrapper:o,charCounter:f},wysiwygFrame:l,codeView:r,placeholder:d}},_initOptions:function(e,t){const i={};if(t.plugins){const r=t.plugins,u=r.length?r:Object.keys(r).map(function(c){return r[c]});for(let c=0,o=u.length,f;c<o;c++)f=u[c].default||u[c],i[f.name]=f}t.plugins=i,t.strictMode=t.strictMode!==!1,t.lang=t.lang||vg,t.value=typeof t.value=="string"?t.value:null,t.allowedClassNames=new Le._w.RegExp((t.allowedClassNames&&typeof t.allowedClassNames=="string"?t.allowedClassNames+"|":"")+"^__se__|se-|katex"),t.historyStackDelayTime=typeof t.historyStackDelayTime=="number"?t.historyStackDelayTime:400,t.frameAttrbutes=t.frameAttrbutes||{},t.defaultTag=typeof t.defaultTag=="string"&&t.defaultTag.length>0?t.defaultTag:"p";const n=t.textTags=[{bold:"STRONG",underline:"U",italic:"EM",strike:"DEL",sub:"SUB",sup:"SUP"},t.textTags||{}].reduce(function(r,u){for(let c in u)r[c]=u[c];return r},{});t._textTagsMap={strong:n.bold.toLowerCase(),b:n.bold.toLowerCase(),u:n.underline.toLowerCase(),ins:n.underline.toLowerCase(),em:n.italic.toLowerCase(),i:n.italic.toLowerCase(),del:n.strike.toLowerCase(),strike:n.strike.toLowerCase(),s:n.strike.toLowerCase(),sub:n.sub.toLowerCase(),sup:n.sup.toLowerCase()},t._defaultCommand={bold:t.textTags.bold,underline:t.textTags.underline,italic:t.textTags.italic,strike:t.textTags.strike,subscript:t.textTags.sub,superscript:t.textTags.sup},t.__allowedScriptTag=t.__allowedScriptTag===!0;const l="br|p|div|pre|blockquote|h1|h2|h3|h4|h5|h6|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code|svg|path|details|summary";t.tagsBlacklist=t.tagsBlacklist||"",t._defaultTagsWhitelist=(typeof t._defaultTagsWhitelist=="string"?t._defaultTagsWhitelist:l)+(t.__allowedScriptTag?"|script":""),t._editorTagsWhitelist=t.addTagsWhitelist==="*"?"*":this._setWhitelist(t._defaultTagsWhitelist+(typeof t.addTagsWhitelist=="string"&&t.addTagsWhitelist.length>0?"|"+t.addTagsWhitelist:""),t.tagsBlacklist),t.pasteTagsBlacklist=t.tagsBlacklist+(t.tagsBlacklist&&t.pasteTagsBlacklist?"|"+t.pasteTagsBlacklist:t.pasteTagsBlacklist||""),t.pasteTagsWhitelist=t.pasteTagsWhitelist==="*"?"*":this._setWhitelist(typeof t.pasteTagsWhitelist=="string"?t.pasteTagsWhitelist:t._editorTagsWhitelist,t.pasteTagsBlacklist),t.attributesWhitelist=!t.attributesWhitelist||typeof t.attributesWhitelist!="object"?null:t.attributesWhitelist,t.attributesBlacklist=!t.attributesBlacklist||typeof t.attributesBlacklist!="object"?null:t.attributesBlacklist,t.mode=t.mode||"classic",t.rtl=!!t.rtl,t.lineAttrReset=["id"].concat(t.lineAttrReset&&typeof t.lineAttrReset=="string"?t.lineAttrReset.toLowerCase().split("|"):[]),t._editableClass="sun-editor-editable"+(t.rtl?" se-rtl":""),t._printClass=typeof t._printClass=="string"?t._printClass:null,t.toolbarWidth=t.toolbarWidth?Le.isNumber(t.toolbarWidth)?t.toolbarWidth+"px":t.toolbarWidth:"auto",t.toolbarContainer=typeof t.toolbarContainer=="string"?document.querySelector(t.toolbarContainer):t.toolbarContainer,t.stickyToolbar=/balloon/i.test(t.mode)||t.toolbarContainer?-1:t.stickyToolbar===void 0?0:/^\d+/.test(t.stickyToolbar)?Le.getNumber(t.stickyToolbar,0):-1,t.hideToolbar=!!t.hideToolbar,t.fullScreenOffset=t.fullScreenOffset===void 0?0:/^\d+/.test(t.fullScreenOffset)?Le.getNumber(t.fullScreenOffset,0):0,t.fullPage=!!t.fullPage,t.iframe=t.fullPage||!!t.iframe,t.iframeAttributes=t.iframeAttributes||{},t.iframeCSSFileName=t.iframe?typeof t.iframeCSSFileName=="string"?[t.iframeCSSFileName]:t.iframeCSSFileName||["suneditor"]:null,t.previewTemplate=typeof t.previewTemplate=="string"?t.previewTemplate:null,t.printTemplate=typeof t.printTemplate=="string"?t.printTemplate:null,t.codeMirror=t.codeMirror?t.codeMirror.src?t.codeMirror:{src:t.codeMirror}:null,t.katex=t.katex?t.katex.src?t.katex:{src:t.katex}:null,t.mathFontSize=t.mathFontSize?t.mathFontSize:[{text:"1",value:"1em"},{text:"1.5",value:"1.5em"},{text:"2",value:"2em"},{text:"2.5",value:"2.5em"}],t.position=typeof t.position=="string"?t.position:null,t.display=t.display||(e.style.display==="none"||!e.style.display?"block":e.style.display),t.popupDisplay=t.popupDisplay||"full",t.resizingBar=t.resizingBar===void 0?!/inline|balloon/i.test(t.mode):t.resizingBar,t.showPathLabel=t.resizingBar?typeof t.showPathLabel=="boolean"?t.showPathLabel:!0:!1,t.resizeEnable=t.resizeEnable===void 0?!0:!!t.resizeEnable,t.resizingBarContainer=typeof t.resizingBarContainer=="string"?document.querySelector(t.resizingBarContainer):t.resizingBarContainer,t.charCounter=t.maxCharCount>0?!0:typeof t.charCounter=="boolean"?t.charCounter:!1,t.charCounterType=typeof t.charCounterType=="string"?t.charCounterType:"char",t.charCounterLabel=typeof t.charCounterLabel=="string"?t.charCounterLabel.trim():null,t.maxCharCount=Le.isNumber(t.maxCharCount)&&t.maxCharCount>-1?t.maxCharCount*1:null,t.width=t.width?Le.isNumber(t.width)?t.width+"px":t.width:e.clientWidth?e.clientWidth+"px":"100%",t.minWidth=(Le.isNumber(t.minWidth)?t.minWidth+"px":t.minWidth)||"",t.maxWidth=(Le.isNumber(t.maxWidth)?t.maxWidth+"px":t.maxWidth)||"",t.height=t.height?Le.isNumber(t.height)?t.height+"px":t.height:e.clientHeight?e.clientHeight+"px":"auto",t.minHeight=(Le.isNumber(t.minHeight)?t.minHeight+"px":t.minHeight)||"",t.maxHeight=(Le.isNumber(t.maxHeight)?t.maxHeight+"px":t.maxHeight)||"",t.className=typeof t.className=="string"&&t.className.length>0?" "+t.className:"",t.defaultStyle=typeof t.defaultStyle=="string"?t.defaultStyle:"",t.font=t.font?t.font:["Arial","Comic Sans MS","Courier New","Impact","Georgia","tahoma","Trebuchet MS","Verdana"],t.fontSize=t.fontSize?t.fontSize:null,t.formats=t.formats?t.formats:null,t.colorList=t.colorList?t.colorList:null,t.lineHeights=t.lineHeights?t.lineHeights:null,t.paragraphStyles=t.paragraphStyles?t.paragraphStyles:null,t.textStyles=t.textStyles?t.textStyles:null,t.fontSizeUnit=typeof t.fontSizeUnit=="string"&&t.fontSizeUnit.trim().toLowerCase()||"px",t.alignItems=typeof t.alignItems=="object"?t.alignItems:t.rtl?["right","center","left","justify"]:["left","center","right","justify"],t.imageResizing=t.imageResizing===void 0?!0:t.imageResizing,t.imageHeightShow=t.imageHeightShow===void 0?!0:!!t.imageHeightShow,t.imageAlignShow=t.imageAlignShow===void 0?!0:!!t.imageAlignShow,t.imageWidth=t.imageWidth?Le.isNumber(t.imageWidth)?t.imageWidth+"px":t.imageWidth:"auto",t.imageHeight=t.imageHeight?Le.isNumber(t.imageHeight)?t.imageHeight+"px":t.imageHeight:"auto",t.imageSizeOnlyPercentage=!!t.imageSizeOnlyPercentage,t._imageSizeUnit=t.imageSizeOnlyPercentage?"%":"px",t.imageRotation=t.imageRotation!==void 0?t.imageRotation:!(t.imageSizeOnlyPercentage||!t.imageHeightShow),t.imageFileInput=t.imageFileInput===void 0?!0:t.imageFileInput,t.imageUrlInput=t.imageUrlInput===void 0||!t.imageFileInput?!0:t.imageUrlInput,t.imageUploadHeader=t.imageUploadHeader||null,t.imageUploadUrl=typeof t.imageUploadUrl=="string"?t.imageUploadUrl:null,t.imageUploadSizeLimit=/\d+/.test(t.imageUploadSizeLimit)?Le.getNumber(t.imageUploadSizeLimit,0):null,t.imageMultipleFile=!!t.imageMultipleFile,t.imageAccept=typeof t.imageAccept!="string"||t.imageAccept.trim()==="*"?"image/*":t.imageAccept.trim()||"image/*",t.imageGalleryUrl=typeof t.imageGalleryUrl=="string"?t.imageGalleryUrl:null,t.imageGalleryHeader=t.imageGalleryHeader||null,t.videoResizing=t.videoResizing===void 0?!0:t.videoResizing,t.videoHeightShow=t.videoHeightShow===void 0?!0:!!t.videoHeightShow,t.videoAlignShow=t.videoAlignShow===void 0?!0:!!t.videoAlignShow,t.videoRatioShow=t.videoRatioShow===void 0?!0:!!t.videoRatioShow,t.videoWidth=!t.videoWidth||!Le.getNumber(t.videoWidth,0)?"":Le.isNumber(t.videoWidth)?t.videoWidth+"px":t.videoWidth,t.videoHeight=!t.videoHeight||!Le.getNumber(t.videoHeight,0)?"":Le.isNumber(t.videoHeight)?t.videoHeight+"px":t.videoHeight,t.videoSizeOnlyPercentage=!!t.videoSizeOnlyPercentage,t._videoSizeUnit=t.videoSizeOnlyPercentage?"%":"px",t.videoRotation=t.videoRotation!==void 0?t.videoRotation:!(t.videoSizeOnlyPercentage||!t.videoHeightShow),t.videoRatio=Le.getNumber(t.videoRatio,4)||.5625,t.videoRatioList=t.videoRatioList?t.videoRatioList:null,t.youtubeQuery=(t.youtubeQuery||"").replace("?",""),t.videoFileInput=!!t.videoFileInput,t.videoUrlInput=t.videoUrlInput===void 0||!t.videoFileInput?!0:t.videoUrlInput,t.videoUploadHeader=t.videoUploadHeader||null,t.videoUploadUrl=typeof t.videoUploadUrl=="string"?t.videoUploadUrl:null,t.videoUploadSizeLimit=/\d+/.test(t.videoUploadSizeLimit)?Le.getNumber(t.videoUploadSizeLimit,0):null,t.videoMultipleFile=!!t.videoMultipleFile,t.videoTagAttrs=t.videoTagAttrs||null,t.videoIframeAttrs=t.videoIframeAttrs||null,t.videoAccept=typeof t.videoAccept!="string"||t.videoAccept.trim()==="*"?"video/*":t.videoAccept.trim()||"video/*",t.audioWidth=t.audioWidth?Le.isNumber(t.audioWidth)?t.audioWidth+"px":t.audioWidth:"",t.audioHeight=t.audioHeight?Le.isNumber(t.audioHeight)?t.audioHeight+"px":t.audioHeight:"",t.audioFileInput=!!t.audioFileInput,t.audioUrlInput=t.audioUrlInput===void 0||!t.audioFileInput?!0:t.audioUrlInput,t.audioUploadHeader=t.audioUploadHeader||null,t.audioUploadUrl=typeof t.audioUploadUrl=="string"?t.audioUploadUrl:null,t.audioUploadSizeLimit=/\d+/.test(t.audioUploadSizeLimit)?Le.getNumber(t.audioUploadSizeLimit,0):null,t.audioMultipleFile=!!t.audioMultipleFile,t.audioTagAttrs=t.audioTagAttrs||null,t.audioAccept=typeof t.audioAccept!="string"||t.audioAccept.trim()==="*"?"audio/*":t.audioAccept.trim()||"audio/*",t.tableCellControllerPosition=typeof t.tableCellControllerPosition=="string"?t.tableCellControllerPosition.toLowerCase():"cell",t.linkTargetNewWindow=!!t.linkTargetNewWindow,t.linkProtocol=typeof t.linkProtocol=="string"?t.linkProtocol:null,t.linkRel=Array.isArray(t.linkRel)?t.linkRel:[],t.linkRelDefault=t.linkRelDefault||{},t.tabDisable=!!t.tabDisable,t.shortcutsDisable=Array.isArray(t.shortcutsDisable)?t.shortcutsDisable:[],t.shortcutsHint=t.shortcutsHint===void 0?!0:!!t.shortcutsHint,t.callBackSave=t.callBackSave?t.callBackSave:null,t.templates=t.templates?t.templates:null,t.placeholder=typeof t.placeholder=="string"?t.placeholder:null,t.mediaAutoSelect=t.mediaAutoSelect===void 0?!0:!!t.mediaAutoSelect,t.buttonList=t.buttonList?t.buttonList:[["undo","redo"],["bold","underline","italic","strike","subscript","superscript"],["removeFormat"],["outdent","indent"],["fullScreen","showBlocks","codeView"],["preview","print"]],t.rtl&&(t.buttonList=t.buttonList.reverse()),t.icons=!t.icons||typeof t.icons!="object"?Co:[Co,t.icons].reduce(function(r,u){for(let c in u)Le.hasOwn(u,c)&&(r[c]=u[c]);return r},{}),t.icons=t.rtl?[t.icons,t.icons.rtl].reduce(function(r,u){for(let c in u)Le.hasOwn(u,c)&&(r[c]=u[c]);return r},{}):t.icons,t.__listCommonStyle=t.__listCommonStyle||["fontSize","color","fontFamily","fontWeight","fontStyle"],t._editorStyles=Le._setDefaultOptionStyle(t,t.defaultStyle)},_setWhitelist:function(e,t){if(typeof t!="string")return e;t=t.split("|"),e=e.split("|");for(let i=0,n=t.length,l;i<n;i++)l=e.indexOf(t[i]),l>-1&&e.splice(l,1);return e.join("|")},_defaultButtons:function(e){const t=e.icons,i=e.lang,n=Le.isOSX_IOS?"":"CTRL",l=Le.isOSX_IOS?"":"+SHIFT",r=e.shortcutsHint?e.shortcutsDisable:["bold","strike","underline","italic","undo","indent","save"],u=e.rtl?["[","]"]:["]","["],c=e.rtl?[t.outdent,t.indent]:[t.indent,t.outdent];return{bold:["",i.toolbar.bold+'<span class="se-shortcut">'+(r.indexOf("bold")>-1?"":n+'+<span class="se-shortcut-key">B</span>')+"</span>","bold","",t.bold],underline:["",i.toolbar.underline+'<span class="se-shortcut">'+(r.indexOf("underline")>-1?"":n+'+<span class="se-shortcut-key">U</span>')+"</span>","underline","",t.underline],italic:["",i.toolbar.italic+'<span class="se-shortcut">'+(r.indexOf("italic")>-1?"":n+'+<span class="se-shortcut-key">I</span>')+"</span>","italic","",t.italic],strike:["",i.toolbar.strike+'<span class="se-shortcut">'+(r.indexOf("strike")>-1?"":n+l+'+<span class="se-shortcut-key">S</span>')+"</span>","strike","",t.strike],subscript:["",i.toolbar.subscript,"SUB","",t.subscript],superscript:["",i.toolbar.superscript,"SUP","",t.superscript],removeFormat:["",i.toolbar.removeFormat,"removeFormat","",t.erase],indent:["",i.toolbar.indent+'<span class="se-shortcut">'+(r.indexOf("indent")>-1?"":n+'+<span class="se-shortcut-key">'+u[0]+"</span>")+"</span>","indent","",c[0]],outdent:["",i.toolbar.outdent+'<span class="se-shortcut">'+(r.indexOf("indent")>-1?"":n+'+<span class="se-shortcut-key">'+u[1]+"</span>")+"</span>","outdent","",c[1]],fullScreen:["se-code-view-enabled se-resizing-enabled",i.toolbar.fullScreen,"fullScreen","",t.expansion],showBlocks:["",i.toolbar.showBlocks,"showBlocks","",t.show_blocks],codeView:["se-code-view-enabled se-resizing-enabled",i.toolbar.codeView,"codeView","",t.code_view],undo:["",i.toolbar.undo+'<span class="se-shortcut">'+(r.indexOf("undo")>-1?"":n+'+<span class="se-shortcut-key">Z</span>')+"</span>","undo","",t.undo],redo:["",i.toolbar.redo+'<span class="se-shortcut">'+(r.indexOf("undo")>-1?"":n+'+<span class="se-shortcut-key">Y</span> / '+n+l+'+<span class="se-shortcut-key">Z</span>')+"</span>","redo","",t.redo],preview:["se-resizing-enabled",i.toolbar.preview,"preview","",t.preview],print:["se-resizing-enabled",i.toolbar.print,"print","",t.print],dir:["",i.toolbar[e.rtl?"dir_ltr":"dir_rtl"],"dir","",t[e.rtl?"dir_ltr":"dir_rtl"]],dir_ltr:["",i.toolbar.dir_ltr,"dir_ltr","",t.dir_ltr],dir_rtl:["",i.toolbar.dir_rtl,"dir_rtl","",t.dir_rtl],save:["se-resizing-enabled",i.toolbar.save+'<span class="se-shortcut">'+(r.indexOf("save")>-1?"":n+'+<span class="se-shortcut-key">S</span>')+"</span>","save","",t.save],blockquote:["",i.toolbar.tag_blockquote,"blockquote","command",t.blockquote],font:["se-btn-select se-btn-tool-font",i.toolbar.font,"font","submenu",'<span class="txt">'+i.toolbar.font+"</span>"+t.arrow_down],formatBlock:["se-btn-select se-btn-tool-format",i.toolbar.formats,"formatBlock","submenu",'<span class="txt">'+i.toolbar.formats+"</span>"+t.arrow_down],fontSize:["se-btn-select se-btn-tool-size",i.toolbar.fontSize,"fontSize","submenu",'<span class="txt">'+i.toolbar.fontSize+"</span>"+t.arrow_down],fontColor:["",i.toolbar.fontColor,"fontColor","submenu",t.font_color],hiliteColor:["",i.toolbar.hiliteColor,"hiliteColor","submenu",t.highlight_color],align:["se-btn-align",i.toolbar.align,"align","submenu",e.rtl?t.align_right:t.align_left],list:["",i.toolbar.list,"list","submenu",t.list_number],horizontalRule:["btn_line",i.toolbar.horizontalRule,"horizontalRule","submenu",t.horizontal_rule],table:["",i.toolbar.table,"table","submenu",t.table],lineHeight:["",i.toolbar.lineHeight,"lineHeight","submenu",t.line_height],template:["",i.toolbar.template,"template","submenu",t.template],paragraphStyle:["",i.toolbar.paragraphStyle,"paragraphStyle","submenu",t.paragraph_style],textStyle:["",i.toolbar.textStyle,"textStyle","submenu",t.text_style],link:["",i.toolbar.link,"link","dialog",t.link],image:["",i.toolbar.image,"image","dialog",t.image],video:["",i.toolbar.video,"video","dialog",t.video],audio:["",i.toolbar.audio,"audio","dialog",t.audio],math:["",i.toolbar.math,"math","dialog",t.math],imageGallery:["",i.toolbar.imageGallery,"imageGallery","fileBrowser",t.image_gallery]}},_createModuleGroup:function(){const e=Le.createElement("DIV");e.className="se-btn-module se-btn-module-border";const t=Le.createElement("UL");return t.className="se-menu-list",e.appendChild(t),{div:e,ul:t}},_createButton:function(e,t,i,n,l,r,u){const c=Le.createElement("LI"),o=Le.createElement("BUTTON"),f=t||i;return o.setAttribute("type","button"),o.setAttribute("class","se-btn"+(e?" "+e:"")+" se-tooltip"),o.setAttribute("data-command",i),o.setAttribute("data-display",n),o.setAttribute("aria-label",f.replace(/<span .+<\/span>/,"")),o.setAttribute("tabindex","-1"),l||(l='<span class="se-icon-text">!</span>'),/^default\./i.test(l)&&(l=u[l.replace(/^default\./i,"")]),/^text\./i.test(l)&&(l=l.replace(/^text\./i,""),o.className+=" se-btn-more-text"),l+='<span class="se-tooltip-inner"><span class="se-tooltip-text">'+f+"</span></span>",r&&o.setAttribute("disabled",!0),o.innerHTML=l,c.appendChild(o),{li:c,button:o}},_createToolBar:function(e,t,i,n){const l=e.createElement("DIV");l.className="se-toolbar-separator-vertical";const r=e.createElement("DIV");r.className="se-toolbar sun-editor-common";const u=e.createElement("DIV");u.className="se-btn-tray",r.appendChild(u),t=JSON.parse(JSON.stringify(t));const c=n.icons,o=this._defaultButtons(n),f={},d=[];let g=null,y=null,_=null,S=null,T="",s=!1;const a=Le.createElement("DIV");a.className="se-toolbar-more-layer";e:for(let m=0,v,b,w,E,x;m<t.length;m++)if(v=!1,x="",E=t[m],_=this._createModuleGroup(),typeof E=="object"){for(let k=0,B;k<E.length;k++){if(y=E[k],B=!1,/^\%\d+/.test(y)&&k===0){E[0]=y.replace(/[^\d]/g,""),d.push(E),t.splice(m--,1);continue e}if(typeof y=="object")typeof y.add=="function"?(T=y.name,g=o[T],i[T]=y):(T=y.name,g=[y.buttonClass,y.title,y.name,y.dataDisplay,y.innerHTML,y._disabled]);else{if(/^\-/.test(y)){x=y.substr(1),_.div.className+=" module-float-"+x;continue}if(/^\#/.test(y)){y.substr(1)==="fix"&&(_.ul.className+=" se-menu-dir-fix");continue}if(/^\:/.test(y)){B=!0;const N=y.match(/^\:([^\-]+)\-([^\-]+)\-([^\-]+)/);w="__se__"+N[1].trim();const L=N[2].trim(),I=N[3].trim();g=["se-btn-more",L,w,"MORE",I]}else g=o[y];if(T=y,!g){const N=i[T];if(!N)throw Error("[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. ["+T+"]");g=[N.buttonClass,N.title,N.name,N.display,N.innerHTML,N._disabled]}}S=this._createButton(g[0],g[1],g[2],g[3],g[4],g[5],c),(v?b:_.ul).appendChild(S.li),i[T]&&(f[T]=S.button),B&&(v=!0,b=Le.createElement("DIV"),b.className="se-more-layer "+w,b.innerHTML='<div class="se-more-form"><ul class="se-menu-list"'+(x?' style="float: '+x+';"':"")+"></ul></div>",a.appendChild(b),b=b.firstElementChild.firstElementChild)}if(s){const k=l.cloneNode(!1);u.appendChild(k)}u.appendChild(_.div),s=!0}else if(/^\/$/.test(E)){const k=e.createElement("DIV");k.className="se-btn-module-enter",u.appendChild(k),s=!1}switch(u.children.length){case 0:u.style.display="none";break;case 1:Le.removeClass(u.firstElementChild,"se-btn-module-border");break;default:if(n.rtl){const m=l.cloneNode(!1);m.style.float=u.lastElementChild.style.float,u.appendChild(m)}}d.length>0&&d.unshift(t),a.children.length>0&&u.appendChild(a);const h=e.createElement("DIV");h.className="se-menu-tray",r.appendChild(h);const p=e.createElement("DIV");return p.className="se-toolbar-cover",r.appendChild(p),n.hideToolbar&&(r.style.display="none"),{element:r,plugins:i,pluginCallButtons:f,responsiveButtons:d,_menuTray:h,_buttonTray:u}}},bg=function(e,t,i){return{element:{originElement:e,topArea:t._top,relative:t._relative,toolbar:t._toolBar,_toolbarShadow:t._toolbarShadow,_buttonTray:t._toolBar.querySelector(".se-btn-tray"),_menuTray:t._menuTray,resizingBar:t._resizingBar,navigation:t._navigation,charWrapper:t._charWrapper,charCounter:t._charCounter,editorArea:t._editorArea,wysiwygFrame:t._wysiwygArea,wysiwyg:t._wysiwygArea,code:t._codeArea,placeholder:t._placeholder,loading:t._loading,lineBreaker:t._lineBreaker,lineBreaker_t:t._lineBreaker_t,lineBreaker_b:t._lineBreaker_b,resizeBackground:t._resizeBack,_stickyDummy:t._stickyDummy,_arrow:t._arrow,_focusTemp:t._focusTemp},tool:{cover:t._toolBar.querySelector(".se-toolbar-cover"),bold:t._toolBar.querySelector('[data-command="bold"]'),underline:t._toolBar.querySelector('[data-command="underline"]'),italic:t._toolBar.querySelector('[data-command="italic"]'),strike:t._toolBar.querySelector('[data-command="strike"]'),sub:t._toolBar.querySelector('[data-command="SUB"]'),sup:t._toolBar.querySelector('[data-command="SUP"]'),undo:t._toolBar.querySelector('[data-command="undo"]'),redo:t._toolBar.querySelector('[data-command="redo"]'),save:t._toolBar.querySelector('[data-command="save"]'),outdent:t._toolBar.querySelector('[data-command="outdent"]'),indent:t._toolBar.querySelector('[data-command="indent"]'),fullScreen:t._toolBar.querySelector('[data-command="fullScreen"]'),showBlocks:t._toolBar.querySelector('[data-command="showBlocks"]'),codeView:t._toolBar.querySelector('[data-command="codeView"]'),dir:t._toolBar.querySelector('[data-command="dir"]'),dir_ltr:t._toolBar.querySelector('[data-command="dir_ltr"]'),dir_rtl:t._toolBar.querySelector('[data-command="dir_rtl"]')},options:i,option:i}},zi=bg;function yg(e,t){const i=e._w,n=e.util,l=e.options.historyStackDelayTime;let r=e.context.element,u=e.context.tool.undo,c=e.context.tool.redo,o=null,f=0,d=[];function g(){const _=d[f];r.wysiwyg.innerHTML=_.contents,e.setRange(n.getNodeFromPath(_.s.path,r.wysiwyg),_.s.offset,n.getNodeFromPath(_.e.path,r.wysiwyg),_.e.offset),e.focus(),d.length<=1?(u&&u.setAttribute("disabled",!0),c&&c.setAttribute("disabled",!0)):f===0?(u&&u.setAttribute("disabled",!0),c&&c.removeAttribute("disabled")):f===d.length-1?(u&&u.removeAttribute("disabled"),c&&c.setAttribute("disabled",!0)):(u&&u.removeAttribute("disabled"),c&&c.removeAttribute("disabled")),e.controllersOff(),e._checkComponents(),e._setCharCount(),e._resourcesStateChange(),t()}function y(){e._checkComponents();const _=r.wysiwyg.innerHTML;if(!_||d[f]&&_===d[f].contents)return;f++;const S=e._variable._range;d.length>f&&(d=d.slice(0,f),c&&c.setAttribute("disabled",!0)),S?d[f]={contents:_,s:{path:n.getNodePath(S.startContainer,null,null),offset:S.startOffset},e:{path:n.getNodePath(S.endContainer,null,null),offset:S.endOffset}}:d[f]={contents:_,s:{path:[0,0],offset:[0,0]},e:{path:0,offset:0}},f===1&&u&&u.removeAttribute("disabled"),e._setCharCount(),t()}return{stack:d,push:function(_){i.setTimeout(e._resourcesStateChange.bind(e));const S=typeof _=="number"?_>0?_:0:_?l:0;if((!S||o)&&(i.clearTimeout(o),!S)){y();return}o=i.setTimeout(function(){i.clearTimeout(o),o=null,y()},S)},undo:function(){f>0&&(f--,g())},redo:function(){d.length-1>f&&(f++,g())},go:function(_){f=_<0?d.length-1:_,g()},getCurrentIndex:function(){return f},reset:function(_){u&&u.setAttribute("disabled",!0),c&&c.setAttribute("disabled",!0),e._variable.isChanged=!1,e.context.tool.save&&e.context.tool.save.setAttribute("disabled",!0),d.splice(0),f=0,d[f]={contents:e.getContents(!0),s:{path:[0,0],offset:0},e:{path:[0,0],offset:0}},_||t()},_resetCachingButton:function(){r=e.context.element,u=e.context.tool.undo,c=e.context.tool.redo,f===0?(u&&u.setAttribute("disabled",!0),c&&f===d.length-1&&c.setAttribute("disabled",!0),e._variable.isChanged=!1,e.context.tool.save&&e.context.tool.save.setAttribute("disabled",!0)):f===d.length-1&&c&&c.setAttribute("disabled",!0)},_destroy:function(){o&&i.clearTimeout(o),d=null}}}const _o={name:"notice",add:function(e){const t=e.context;t.notice={};let i=e.util.createElement("DIV"),n=e.util.createElement("SPAN"),l=e.util.createElement("BUTTON");i.className="se-notice",l.className="close",l.setAttribute("aria-label","Close"),l.setAttribute("title",e.lang.dialogBox.close),l.innerHTML=e.icons.cancel,i.appendChild(n),i.appendChild(l),t.notice.modal=i,t.notice.message=n,l.addEventListener("click",this.onClick_cancel.bind(e)),t.element.editorArea.appendChild(i),i=null},onClick_cancel:function(e){e.preventDefault(),e.stopPropagation(),this.plugins.notice.close.call(this)},open:function(e){this.context.notice.message.textContent=e,this.context.notice.modal.style.display="block"},close:function(){this.context.notice.modal.style.display="none"}};function Cg(e,t,i,n,l,r){const u=e.element.originElement.ownerDocument||document,c=u.defaultView||window,o=Le,f=l.icons,d={_d:u,_w:c,_parser:new c.DOMParser,_prevRtl:l.rtl,_editorHeight:0,_editorHeightPadding:0,_listCamel:l.__listCommonStyle,_listKebab:o.camelToKebabCase(l.__listCommonStyle),__focusTemp:e.element._focusTemp,_wd:null,_ww:null,_shadowRoot:null,_shadowRootControllerEventTarget:null,util:o,functions:null,options:null,wwComputedStyle:null,notice:_o,icons:f,history:null,context:e,pluginCallButtons:t,plugins:i||{},initPlugins:{},_targetPlugins:{},_menuTray:{},lang:n,effectNode:null,submenu:null,container:null,_submenuName:"",_bindedSubmenuOff:null,_bindedContainerOff:null,submenuActiveButton:null,containerActiveButton:null,controllerArray:[],currentControllerName:"",currentControllerTarget:null,currentFileComponentInfo:null,codeViewDisabledButtons:[],resizingDisabledButtons:[],_moreLayerActiveButton:null,_htmlCheckWhitelistRegExp:null,_htmlCheckBlacklistRegExp:null,_disallowedTextTagsRegExp:null,editorTagsWhitelistRegExp:null,editorTagsBlacklistRegExp:null,pasteTagsWhitelistRegExp:null,pasteTagsBlacklistRegExp:null,hasFocus:!1,isDisabled:!1,isReadOnly:!1,_attributesWhitelistRegExp:null,_attributesWhitelistRegExp_all_data:null,_attributesBlacklistRegExp:null,_attributesTagsWhitelist:null,_attributesTagsBlacklist:null,_bindControllersOff:null,_isInline:null,_isBalloon:null,_isBalloonAlways:null,_inlineToolbarAttr:{top:"",width:"",isShow:!1},_notHideToolbar:!1,_sticky:!1,_antiBlur:!1,_lineBreaker:null,_lineBreakerButton:null,_componentsInfoInit:!0,_componentsInfoReset:!1,activePlugins:null,managedTagsInfo:null,_charTypeHTML:!1,_fileInfoPluginsCheck:null,_fileInfoPluginsReset:null,_fileManager:{tags:null,regExp:null,queryString:null,pluginRegExp:null,pluginMap:null},commandMap:{},_commandMapStyles:{STRONG:["font-weight"],U:["text-decoration"],EM:["font-style"],DEL:["text-decoration"]},_styleCommandMap:null,_cleanStyleRegExp:{div:new c.RegExp("\\s*[^-a-zA-Z](.+)\\s*:[^;]+(?!;)*","ig"),span:new c.RegExp("\\s*[^-a-zA-Z](font-family|font-size|color|background-color)\\s*:[^;]+(?!;)*","ig"),format:new c.RegExp("\\s*[^-a-zA-Z](text-align|margin-left|margin-right|width|height|line-height)\\s*:[^;]+(?!;)*","ig"),fontSizeUnit:new c.RegExp("\\d+"+l.fontSizeUnit+"$","i")},_variable:{isChanged:!1,isCodeView:!1,isFullScreen:!1,innerHeight_fullScreen:0,resizeClientY:0,tabSize:4,codeIndent:2,minResizingSize:o.getNumber(e.element.wysiwygFrame.style.minHeight||"65",0),currentNodes:[],currentNodesMap:[],_range:null,_selectionNode:null,_originCssText:e.element.topArea.style.cssText,_bodyOverflow:"",_editorAreaOriginCssText:"",_wysiwygOriginCssText:"",_codeOriginCssText:"",_fullScreenAttrs:{sticky:!1,balloon:!1,inline:!1},_lineBreakComp:null,_lineBreakDir:""},_formatAttrsTemp:null,_saveButtonStates:function(){this.allCommandButtons||(this.allCommandButtons={});const s=this.context.element._buttonTray.querySelectorAll(".se-menu-list button[data-display]");for(let a=0,h,p;a<s.length;a++)h=s[a],p=h.getAttribute("data-command"),this.allCommandButtons[p]=h},_recoverButtonStates:function(){if(this.allCommandButtons){const s=this.context.element._buttonTray.querySelectorAll(".se-menu-list button[data-display]");for(let a=0,h,p,m;a<s.length;a++)h=s[a],p=h.getAttribute("data-command"),m=this.allCommandButtons[p],m&&(h.parentElement.replaceChild(m,h),this.context.tool[p]&&(this.context.tool[p]=m))}},callPlugin:function(s,a,h){if(h=h||t[s],this.plugins[s])this.initPlugins[s]?typeof this._targetPlugins[s]=="object"&&h&&this.initMenuTarget(s,h,this._targetPlugins[s]):(this.plugins[s].add(this,h),this.initPlugins[s]=!0);else throw Error('[SUNEDITOR.core.callPlugin.fail] The called plugin does not exist or is in an invalid format. (pluginName:"'+s+'")');this.plugins[s].active&&!this.commandMap[s]&&h&&(this.commandMap[s]=h,this.activePlugins.push(s)),typeof a=="function"&&a()},addModule:function(s){for(let a=0,h=s.length,p;a<h;a++)p=s[a].name,this.plugins[p]||(this.plugins[p]=s[a]),this.initPlugins[p]||(this.initPlugins[p]=!0,typeof this.plugins[p].add=="function"&&this.plugins[p].add(this))},getGlobalScrollOffset:function(){let s=0,a=0,h=e.element.topArea;for(;h;)s+=h.scrollTop,a+=h.scrollLeft,h=h.parentElement;for(h=this._shadowRoot?this._shadowRoot.host:null;h;)s+=h.scrollTop,a+=h.scrollLeft,h=h.parentElement;return{top:s,left:a}},initMenuTarget:function(s,a,h){a?(e.element._menuTray.appendChild(h),this._targetPlugins[s]=!0,this._menuTray[a.getAttribute("data-command")]=h):this._targetPlugins[s]=h},submenuOn:function(s){this._bindedSubmenuOff&&this._bindedSubmenuOff(),this._bindControllersOff&&this.controllersOff();const a=this._submenuName=s.getAttribute("data-command"),h=this.submenu=this._menuTray[a];this.submenuActiveButton=s,this._setMenuPosition(s,h),this._bindedSubmenuOff=this.submenuOff.bind(this),this.addDocEvent("mousedown",this._bindedSubmenuOff,!1),this.plugins[a].on&&this.plugins[a].on.call(this),this._antiBlur=!0},submenuOff:function(){this.removeDocEvent("mousedown",this._bindedSubmenuOff),this._bindedSubmenuOff=null,this.submenu&&(this._submenuName="",this.submenu.style.display="none",this.submenu=null,o.removeClass(this.submenuActiveButton,"on"),this.submenuActiveButton=null,this._notHideToolbar=!1),this._antiBlur=!1},moreLayerOff:function(){if(this._moreLayerActiveButton){const s=e.element.toolbar.querySelector("."+this._moreLayerActiveButton.getAttribute("data-command"));s.style.display="none",o.removeClass(this._moreLayerActiveButton,"on"),this._moreLayerActiveButton=null}},containerOn:function(s){this._bindedContainerOff&&this._bindedContainerOff();const a=this._containerName=s.getAttribute("data-command"),h=this.container=this._menuTray[a];this.containerActiveButton=s,this._setMenuPosition(s,h),this._bindedContainerOff=this.containerOff.bind(this),this.addDocEvent("mousedown",this._bindedContainerOff,!1),this.plugins[a].on&&this.plugins[a].on.call(this),this._antiBlur=!0},containerOff:function(){this.removeDocEvent("mousedown",this._bindedContainerOff),this._bindedContainerOff=null,this.container&&(this._containerName="",this.container.style.display="none",this.container=null,o.removeClass(this.containerActiveButton,"on"),this.containerActiveButton=null,this._notHideToolbar=!1),this._antiBlur=!1},_setMenuPosition:function(s,a){a.style.visibility="hidden",a.style.display="block",a.style.height="",o.addClass(s,"on");const h=this.context.element.toolbar,p=h.offsetWidth,m=g._getEditorOffsets(e.element.toolbar),v=a.offsetWidth,b=s.parentElement.offsetLeft+3;if(l.rtl){const I=s.offsetWidth,O=v>I?v-I:0,P=O>0?0:I-v;a.style.left=b-O+P+"px",m.left>g._getEditorOffsets(a).left&&(a.style.left="0px")}else{const I=p<=v?0:p-(b+v);I<0?a.style.left=b+I+"px":a.style.left=b+"px"}let w=0,E=s;for(;E&&E!==h;)w+=E.offsetTop,E=E.offsetParent;const x=w;this._isBalloon?w+=h.offsetTop+s.offsetHeight:w-=s.offsetHeight;const k=m.top,B=a.offsetHeight,N=this.getGlobalScrollOffset().top,L=c.innerHeight-(k-N+x+s.parentElement.offsetHeight);if(L<B){let I=-1*(B-x+3);const O=k-N+I,P=B+(O<0?O:0);P>L?(a.style.height=P+"px",I=-1*(P-x+3)):(a.style.height=L+"px",I=x+s.parentElement.offsetHeight),a.style.top=I+"px"}else a.style.top=x+s.parentElement.offsetHeight+"px";a.style.visibility=""},controllersOn:function(){this._bindControllersOff&&this._bindControllersOff(),this.controllerArray=[];for(let s=0,a;s<arguments.length;s++)if(a=arguments[s],!!a){if(typeof a=="string"){this.currentControllerName=a;continue}if(typeof a=="function"){this.controllerArray.push(a);continue}if(!o.hasClass(a,"se-controller")){this.currentControllerTarget=a,this.currentFileComponentInfo=this.getFileComponent(a);continue}a.style&&(a.style.display="block",this._shadowRoot&&this._shadowRootControllerEventTarget.indexOf(a)===-1&&(a.addEventListener("mousedown",function(h){h.preventDefault(),h.stopPropagation()}),this._shadowRootControllerEventTarget.push(a))),this.controllerArray.push(a)}this._bindControllersOff=this.controllersOff.bind(this),this.addDocEvent("mousedown",this._bindControllersOff,!1),this.addDocEvent("keydown",this._bindControllersOff,!1),this._antiBlur=!0,typeof y.showController=="function"&&y.showController(this.currentControllerName,this.controllerArray,this)},controllersOff:function(s){this._lineBreaker.style.display="none";const a=this.controllerArray.length;if(s&&s.target&&a>0){for(let h=0;h<a;h++)if(typeof this.controllerArray[h].contains=="function"&&this.controllerArray[h].contains(s.target))return}if(!(this._fileManager.pluginRegExp.test(this.currentControllerName)&&s&&s.type==="keydown"&&s.keyCode!==27)&&(e.element.lineBreaker_t.style.display=e.element.lineBreaker_b.style.display="none",this._variable._lineBreakComp=null,this.currentControllerName="",this.currentControllerTarget=null,this.currentFileComponentInfo=null,this.effectNode=null,!!this._bindControllersOff)){if(this.removeDocEvent("mousedown",this._bindControllersOff),this.removeDocEvent("keydown",this._bindControllersOff),this._bindControllersOff=null,a>0){for(let h=0;h<a;h++)typeof this.controllerArray[h]=="function"?this.controllerArray[h]():this.controllerArray[h].style.display="none";this.controllerArray=[]}this._antiBlur=!1}},setControllerPosition:function(s,a,h,p){l.rtl&&(p.left*=-1);const m=o.getOffset(a,e.element.wysiwygFrame);s.style.visibility="hidden",s.style.display="block";const v=h==="top"?-(s.offsetHeight+2):a.offsetHeight+12;s.style.top=m.top+v+p.top+"px";const b=m.left-e.element.wysiwygFrame.scrollLeft+p.left,w=s.offsetWidth,E=a.offsetWidth,x=o.hasClass(s.firstElementChild,"se-arrow")?s.firstElementChild:null;if(l.rtl){const k=w>E?w-E:0,B=k>0?0:E-w;s.style.left=b-k+B+"px",k>0&&x&&(x.style.left=(w-14<10+k?w-14:10+k)+"px");const N=e.element.wysiwygFrame.offsetLeft-s.offsetLeft;N>0&&(s.style.left="0px",x&&(x.style.left=N+"px"))}else{s.style.left=b+"px";const k=e.element.wysiwygFrame.offsetWidth-(s.offsetLeft+w);k<0?(s.style.left=s.offsetLeft+k+"px",x&&(x.style.left=20-k+"px")):x&&(x.style.left="20px")}s.style.visibility=""},execCommand:function(s,a,h){this._wd.execCommand(s,a,s==="formatBlock"?"<"+h+">":h),this.history.push(!0)},nativeFocus:function(){this.__focus(),this._editorRange()},__focus:function(){const s=o.getParentElement(this.getSelectionNode(),"figcaption");s?s.focus():e.element.wysiwyg.focus()},focus:function(){if(e.element.wysiwygFrame.style.display!=="none"){if(l.iframe)this.nativeFocus();else try{const s=this.getRange();if(s.startContainer===s.endContainer&&o.isWysiwygDiv(s.startContainer)){const a=s.commonAncestorContainer.children[s.startOffset];if(!o.isFormatElement(a)&&!o.isComponent(a)){const h=o.createElement(l.defaultTag),p=o.createElement("BR");h.appendChild(p),e.element.wysiwyg.insertBefore(h,a),this.setRange(p,0,p,0);return}}this.setRange(s.startContainer,s.startOffset,s.endContainer,s.endOffset)}catch{this.nativeFocus()}g._applyTagEffects(),this._isBalloon&&g._toggleToolbarBalloon()}},focusEdge:function(s){s||(s=e.element.wysiwyg.lastElementChild);const a=this.getFileComponent(s);a?this.selectComponent(a.target,a.pluginName):s?(s=o.getChildElement(s,function(h){return h.childNodes.length===0||h.nodeType===3},!0),s?this.setRange(s,s.textContent.length,s,s.textContent.length):this.nativeFocus()):this.focus()},blur:function(){l.iframe?e.element.wysiwygFrame.blur():e.element.wysiwyg.blur()},setRange:function(s,a,h,p){if(!s||!h)return;a>s.textContent.length&&(a=s.textContent.length),p>h.textContent.length&&(p=h.textContent.length),o.isFormatElement(s)&&(s=s.childNodes[a]||s.childNodes[a-1]||s,a=a>0?s.nodeType===1?1:s.textContent?s.textContent.length:0:0),o.isFormatElement(h)&&(h=h.childNodes[p]||h.childNodes[p-1]||h,p=p>0?h.nodeType===1?1:h.textContent?h.textContent.length:0:0);const m=this._wd.createRange();try{m.setStart(s,a),m.setEnd(h,p)}catch(b){console.warn("[SUNEDITOR.core.focus.error] "+b),this.nativeFocus();return}const v=this.getSelection();return v.removeAllRanges&&v.removeAllRanges(),v.addRange(m),this._rangeInfo(m,this.getSelection()),l.iframe&&this.__focus(),m},removeRange:function(){this._variable._range=null,this._variable._selectionNode=null,this.hasFocus&&this.getSelection().removeAllRanges(),this._setKeyEffect([])},getRange:function(){const s=this._variable._range||this._createDefaultRange(),a=this.getSelection();if(s.collapsed===a.isCollapsed||!e.element.wysiwyg.contains(a.focusNode))return s;if(a.rangeCount>0)return this._variable._range=a.getRangeAt(0),this._variable._range;{const h=a.anchorNode,p=a.focusNode,m=a.anchorOffset,v=a.focusOffset,b=o.compareElements(h,p),w=b.ancestor&&(b.result===0?m<=v:b.result>1);return this.setRange(w?h:p,w?m:v,w?p:h,w?v:m)}},getRange_addLine:function(s,a){if(this._selectionVoid(s)){const h=e.element.wysiwyg,p=o.createElement(l.defaultTag);p.innerHTML="<br>",h.insertBefore(p,a&&a!==h?a.nextElementSibling:h.firstElementChild),this.setRange(p.firstElementChild,0,p.firstElementChild,1),s=this._variable._range}return s},getSelection:function(){const s=this._shadowRoot&&this._shadowRoot.getSelection?this._shadowRoot.getSelection():this._ww.getSelection();return!this._variable._range&&!e.element.wysiwyg.contains(s.focusNode)&&(s.removeAllRanges(),s.addRange(this._createDefaultRange())),s},getSelectionNode:function(){if(e.element.wysiwyg.contains(this._variable._selectionNode)||this._editorRange(),!this._variable._selectionNode){const s=o.getChildElement(e.element.wysiwyg.firstChild,function(a){return a.childNodes.length===0||a.nodeType===3},!1);if(!s)this._editorRange();else return this._variable._selectionNode=s,s}return this._variable._selectionNode},_editorRange:function(){const s=this._wd.activeElement;if(o.isInputElement(s))return this._variable._selectionNode=s,s;const a=this.getSelection();if(!a)return null;let h=null;a.rangeCount>0?h=a.getRangeAt(0):h=this._createDefaultRange(),this._rangeInfo(h,a)},_rangeInfo:function(s,a){let h=null;this._variable._range=s,s.collapsed?o.isWysiwygDiv(s.commonAncestorContainer)?h=s.commonAncestorContainer.children[s.startOffset]||s.commonAncestorContainer:h=s.commonAncestorContainer:h=a.extentNode||a.anchorNode,this._variable._selectionNode=h},_createDefaultRange:function(){const s=e.element.wysiwyg,a=this._wd.createRange();let h=s.firstElementChild,p=null;return h?(p=h.firstChild,p||(p=o.createElement("BR"),h.appendChild(p))):(h=o.createElement(l.defaultTag),p=o.createElement("BR"),h.appendChild(p),s.appendChild(h)),a.setStart(p,0),a.setEnd(p,0),a},_selectionVoid:function(s){const a=s.commonAncestorContainer;return o.isWysiwygDiv(s.startContainer)&&o.isWysiwygDiv(s.endContainer)||/FIGURE/i.test(a.nodeName)||this._fileManager.regExp.test(a.nodeName)||o.isMediaComponent(a)},_resetRangeToTextNode:function(){const s=this.getRange();if(this._selectionVoid(s))return!1;let a=s.startContainer,h=s.startOffset,p=s.endContainer,m=s.endOffset,v,b,w;if(o.isFormatElement(a))for(a.childNodes[h]?(a=a.childNodes[h]||a,h=0):(a=a.lastChild||a,h=a.textContent.length);a&&a.nodeType===1&&a.firstChild;)a=a.firstChild||a,h=0;if(o.isFormatElement(p)){for(p=p.childNodes[m]||p.lastChild||p;p&&p.nodeType===1&&p.lastChild;)p=p.lastChild;m=p.textContent.length}if(v=o.isWysiwygDiv(a)?e.element.wysiwyg.firstChild:a,b=h,o.isBreak(v)||v.nodeType===1&&v.childNodes.length>0){const E=o.isBreak(v);if(!E){for(;v&&!o.isBreak(v)&&v.nodeType===1;)v=v.childNodes[b]||v.nextElementSibling||v.nextSibling,b=0;let x=o.getFormatElement(v,null);x===o.getRangeFormatElement(x,null)&&(x=o.createElement(o.getParentElement(v,o.isCell)?"DIV":l.defaultTag),v.parentNode.insertBefore(x,v),x.appendChild(v))}if(o.isBreak(v)){const x=o.createTextNode(o.zeroWidthSpace);v.parentNode.insertBefore(x,v),v=x,E&&a===p&&(p=v,m=1)}}if(a=v,h=b,v=o.isWysiwygDiv(p)?e.element.wysiwyg.lastChild:p,b=m,o.isBreak(v)||v.nodeType===1&&v.childNodes.length>0){const E=o.isBreak(v);if(!E){for(;v&&!o.isBreak(v)&&v.nodeType===1&&(w=v.childNodes,w.length!==0);)v=w[b>0?b-1:b]||!/FIGURE/i.test(w[0].nodeName)?w[0]:v.previousElementSibling||v.previousSibling||a,b=b>0?v.textContent.length:b;let x=o.getFormatElement(v,null);x===o.getRangeFormatElement(x,null)&&(x=o.createElement(o.isCell(x)?"DIV":l.defaultTag),v.parentNode.insertBefore(x,v),x.appendChild(v))}if(o.isBreak(v)){const x=o.createTextNode(o.zeroWidthSpace);v.parentNode.insertBefore(x,v),v=x,b=1,E&&!v.previousSibling&&o.removeItem(p)}}return p=v,m=b,this.setRange(a,h,p,m),!0},getSelectedElements:function(s){if(!this._resetRangeToTextNode())return[];let a=this.getRange();if(o.isWysiwygDiv(a.startContainer)){const I=e.element.wysiwyg.children;if(I.length===0)return[];this.setRange(I[0],0,I[I.length-1],I[I.length-1].textContent.trim().length),a=this.getRange()}const h=a.startContainer,p=a.endContainer,m=a.commonAncestorContainer,v=o.getListChildren(m,function(I){return s?s(I):o.isFormatElement(I)});if(!o.isWysiwygDiv(m)&&!o.isRangeFormatElement(m)&&v.unshift(o.getFormatElement(m,null)),h===p||v.length===1)return v;let b=o.getFormatElement(h,null),w=o.getFormatElement(p,null),E=null,x=null;const k=function(I){return o.isTable(I)?/^TABLE$/i.test(I.nodeName):!0};let B=o.getRangeFormatElement(b,k),N=o.getRangeFormatElement(w,k);o.isTable(B)&&o.isListCell(B.parentNode)&&(B=B.parentNode),o.isTable(N)&&o.isListCell(N.parentNode)&&(N=N.parentNode);const L=B===N;for(let I=0,O=v.length,P;I<O;I++){if(P=v[I],b===P||!L&&P===B){E=I;continue}if(w===P||!L&&P===N){x=I;break}}return E===null&&(E=0),x===null&&(x=v.length-1),v.slice(E,x+1)},getSelectedElementsAndComponents:function(s){const a=this.getRange().commonAncestorContainer,h=o.getParentElement(a,o.isComponent),p=o.isTable(a)?this.getSelectedElements(null):this.getSelectedElements((function(m){const v=this.getParentElement(m,this.isComponent);return this.isFormatElement(m)&&(!v||v===h)||this.isComponent(m)&&!this.getFormatElement(m)}).bind(o));if(s){for(let m=0,v=p.length;m<v;m++)for(let b=m-1;b>=0;b--)if(p[b].contains(p[m])){p.splice(m,1),m--,v--;break}}return p},isEdgePoint:function(s,a,h){return h!=="end"&&a===0||(!h||h!=="front")&&!s.nodeValue&&a===1||(!h||h==="end")&&!!s.nodeValue&&a===s.nodeValue.length},_isEdgeFormat:function(s,a,h){if(!this.isEdgePoint(s,a,h))return!1;const p=[];for(h=h==="front"?"previousSibling":"nextSibling";s&&!o.isFormatElement(s)&&!o.isWysiwygDiv(s);)if(!s[h]||o.isBreak(s[h])&&!s[h][h])s.nodeType===1&&p.push(s.cloneNode(!1)),s=s.parentNode;else return null;return p},showLoading:function(){e.element.loading.style.display="block"},closeLoading:function(){e.element.loading.style.display="none"},appendFormatTag:function(s,a){if(!s||!s.parentNode)return null;const h=o.getFormatElement(this.getSelectionNode(),null);let p=null;if(!o.isFormatElement(s)&&o.isFreeFormatElement(h||s.parentNode))p=o.createElement("BR");else{const m=a?typeof a=="string"?a:a.nodeName:o.isFormatElement(h)&&!o.isRangeFormatElement(h)&&!o.isFreeFormatElement(h)?h.nodeName:l.defaultTag;p=o.createElement(m),p.innerHTML="<br>",(a&&typeof a!="string"||!a&&o.isFormatElement(h))&&o.copyTagAttributes(p,a||h,["id"])}return o.isCell(s)?s.insertBefore(p,s.nextElementSibling):s.parentNode.insertBefore(p,s.nextElementSibling),p},insertComponent:function(s,a,h,p){if(this.isReadOnly||h&&!this.checkCharCount(s,null))return null;const m=this.removeNode();this.getRange_addLine(this.getRange(),m.container);let v=null,b=this.getSelectionNode(),w=o.getFormatElement(b,null);if(o.isListCell(w))this.insertNode(s,b===w?null:m.container.nextSibling,!1),s.nextSibling||s.parentNode.appendChild(o.createElement("BR"));else{if(this.getRange().collapsed&&(m.container.nodeType===3||o.isBreak(m.container))){const E=o.getParentElement(m.container,(function(x){return this.isRangeFormatElement(x)}).bind(o));v=o.splitElement(m.container,m.offset,E?o.getElementDepth(E)+1:0),v&&(w=v.previousSibling)}this.insertNode(s,o.isRangeFormatElement(w)?null:w,!1),w&&o.onlyZeroWidthSpace(w)&&o.removeItem(w)}if(!p){this.setRange(s,0,s,0);const E=this.getFileComponent(s);E?this.selectComponent(E.target,E.pluginName):v&&(v=o.getEdgeChildNodes(v,null).sc||v,this.setRange(v,0,v,0))}return a||this.history.push(1),v||s},getFileComponent:function(s){if(!this._fileManager.queryString||!s)return null;let a,h;return(/^FIGURE$/i.test(s.nodeName)||/se-component/.test(s.className))&&(a=s.querySelector(this._fileManager.queryString)),!a&&s.nodeName&&this._fileManager.regExp.test(s.nodeName)&&(a=s),a&&(h=this._fileManager.pluginMap[a.nodeName.toLowerCase()],h)?{target:a,component:o.getParentElement(a,o.isComponent),pluginName:h}:null},selectComponent:function(s,a){if(o.isUneditableComponent(o.getParentElement(s,o.isComponent))||o.isUneditableComponent(s))return!1;this.hasFocus||this.focus();const h=this.plugins[a];h&&c.setTimeout((function(){typeof h.select=="function"&&this.callPlugin(a,h.select.bind(this,s),null),this._setComponentLineBreaker(s)}).bind(this))},_setComponentLineBreaker:function(s){this._lineBreaker.style.display="none";const a=o.getParentElement(s,o.isComponent),h=e.element.lineBreaker_t.style,p=e.element.lineBreaker_b.style,m=this.context.resizing.resizeContainer.style.display==="block"?this.context.resizing.resizeContainer:s,v=o.isListCell(a.parentNode);let b,w,E;(v?!a.previousSibling:!o.isFormatElement(a.previousElementSibling))?(this._variable._lineBreakComp=a,w=e.element.wysiwyg.scrollTop,b=o.getOffset(s,e.element.wysiwygFrame).top+w,E=m.offsetWidth/2/2,h.top=b-w-12+"px",h.left=o.getOffset(m).left+E+"px",h.display="block"):h.display="none",(v?!a.nextSibling:!o.isFormatElement(a.nextElementSibling))?(b||(this._variable._lineBreakComp=a,w=e.element.wysiwyg.scrollTop,b=o.getOffset(s,e.element.wysiwygFrame).top+w,E=m.offsetWidth/2/2),p.top=b+m.offsetHeight-w-12+"px",p.left=o.getOffset(m).left+m.offsetWidth-E-24+"px",p.display="block"):p.display="none"},_checkDuplicateNode:function(s,a){(function h(p){d._dupleCheck(p,a);const m=p.childNodes;for(let v=0,b=m.length;v<b;v++)h(m[v])})(s)},_dupleCheck:function(s,a){if(!o.isTextStyleElement(s))return;const h=(s.style.cssText.match(/[^;]+;/g)||[]).map(function(v){return v.trim()}),p=s.nodeName;if(/^span$/i.test(p)&&h.length===0)return s;let m=!1;return function v(b){if(!(o.isWysiwygDiv(b)||!o.isTextStyleElement(b))){if(b.nodeName===p){m=!0;const w=b.style.cssText.match(/[^;]+;/g)||[];for(let E=0,x=w.length,k;E<x;E++)(k=h.indexOf(w[E].trim()))>-1&&h.splice(k,1);for(let E=0,x=b.classList.length;E<x;E++)s.classList.remove(b.classList[E])}v(b.parentElement)}}(a),m&&((s.style.cssText=h.join(" "))||(s.setAttribute("style",""),s.removeAttribute("style")),s.attributes.length||s.setAttribute("data-se-duple","true")),s},insertNode:function(s,a,h){if(this.isReadOnly||h&&!this.checkCharCount(s,null))return null;let p=this.getRange(),m=o.isListCell(p.commonAncestorContainer)?p.commonAncestorContainer:o.getFormatElement(this.getSelectionNode(),null),v=o.isListCell(m)&&(o.isListCell(s)||o.isList(s)),b,w,E,x=null;const k=o.isFreeFormatElement(m),B=!k&&(o.isFormatElement(s)||o.isRangeFormatElement(s))||o.isComponent(s);if(v&&(E=a||o.isList(s)?m.lastChild:m.nextElementSibling,x=o.isList(s)?m:(E||m).parentNode),!a&&(B||o.isComponent(s)||o.isMedia(s))){const R=this.isEdgePoint(p.endContainer,p.endOffset,"end"),$=this.removeNode(),A=$.container,F=A===$.prevContainer&&p.collapsed?null:$.prevContainer;if(v&&F)if(x=F.nodeType===3?F.parentNode:F,x.contains(A)){let z=!0;for(E=A;E.parentNode&&E.parentNode!==x;)E=E.parentNode,z=!1;z&&A===F&&(E=E.nextSibling)}else E=null;else if(v&&o.isListCell(A)&&!m.parentElement)m=o.createElement("LI"),x.appendChild(m),A.appendChild(x),E=null;else if(A.nodeType===3||o.isBreak(A)||v){const z=o.getParentElement(A,(function(H){return this.isRangeFormatElement(H)||this.isListCell(H)}).bind(o));if(a=o.splitElement(A,$.offset,z?o.getElementDepth(z)+1:0),!a)E=a=m;else if(v){if(m.contains(A)){const H=o.isList(m.lastElementChild);let D=null;R||(D=m.cloneNode(!1),D.appendChild(a.textContent.trim()?a:o.createTextNode(o.zeroWidthSpace))),H&&(D||(D=m.cloneNode(!1),D.appendChild(o.createTextNode(o.zeroWidthSpace))),D.appendChild(m.lastElementChild)),D&&(m.parentNode.insertBefore(D,m.nextElementSibling),E=a=D)}}else a=a.previousSibling}}p=!a&&!B?this.getRange_addLine(this.getRange(),null):this.getRange();const N=p.commonAncestorContainer,L=p.startOffset,I=p.endOffset,O=p.startContainer===N&&o.isFormatElement(N),P=O&&(N.childNodes[L]||N.childNodes[0])||p.startContainer,M=O&&(N.childNodes[I]||N.childNodes[N.childNodes.length-1])||p.endContainer;if(!v)if(a)b=a.parentNode,a=a.nextSibling,w=!0;else if(b=P,P.nodeType===3&&(b=P.parentNode),p.collapsed)if(N.nodeType===3)N.textContent.length>I?a=N.splitText(I):a=N.nextSibling;else if(o.isBreak(b))a=b,b=b.parentNode;else{let R=b.childNodes[L];const $=R&&R.nodeType===3&&o.onlyZeroWidthSpace(R)&&o.isBreak(R.nextSibling)?R.nextSibling:R;$?!$.nextSibling&&o.isBreak($)?(b.removeChild($),a=null):a=o.isBreak($)&&!o.isBreak(s)?$:$.nextSibling:a=null}else if(P===M){this.isEdgePoint(M,I)?a=M.nextSibling:a=M.splitText(I);let $=P;this.isEdgePoint(P,L)||($=P.splitText(L)),b.removeChild($),b.childNodes.length===0&&B&&(b.innerHTML="<br>")}else{const $=this.removeNode(),A=$.container,F=$.prevContainer;if(A&&A.childNodes.length===0&&B&&(o.isFormatElement(A)?A.innerHTML="<br>":o.isRangeFormatElement(A)&&(A.innerHTML="<"+l.defaultTag+"><br></"+l.defaultTag+">")),o.isListCell(A)&&s.nodeType===3)b=A,a=null;else if(!B&&F)if(b=F.nodeType===3?F.parentNode:F,b.contains(A)){let z=!0;for(a=A;a.parentNode&&a.parentNode!==b;)a=a.parentNode,z=!1;z&&A===F&&(a=a.nextSibling)}else a=null;else o.isWysiwygDiv(A)&&!o.isFormatElement(s)?(b=A.appendChild(o.createElement(l.defaultTag)),a=null):(a=B?M:A===F?A.nextSibling:A,b=!a||!a.parentNode?N:a.parentNode);for(;a&&!o.isFormatElement(a)&&a.parentNode!==N;)a=a.parentNode}try{if(!v){if((o.isWysiwygDiv(a)||b===e.element.wysiwyg.parentNode)&&(b=e.element.wysiwyg,a=null),o.isFormatElement(s)||o.isRangeFormatElement(s)||!o.isListCell(b)&&o.isComponent(s)){const R=b;if(o.isList(a))b=a,a=null;else if(o.isListCell(a))b=a.previousElementSibling||a;else if(!w&&!a){const $=this.removeNode(),A=$.container.nodeType===3?o.isListCell(o.getFormatElement($.container,null))?$.container:o.getFormatElement($.container,null)||$.container.parentNode:$.container,F=o.isWysiwygDiv(A)||o.isRangeFormatElement(A);b=F?A:A.parentNode,a=F?null:A.nextSibling}R.childNodes.length===0&&b!==R&&o.removeItem(R)}if(B&&!k&&!o.isRangeFormatElement(b)&&!o.isListCell(b)&&!o.isWysiwygDiv(b)&&(a=b.nextElementSibling,b=b.parentNode),o.isWysiwygDiv(b)&&(s.nodeType===3||o.isBreak(s))){const R=o.createElement(l.defaultTag);R.appendChild(s),s=R}}if(v?x.parentNode?(b=x,a=E):(b=e.element.wysiwyg,a=null):a=b===a?b.lastChild:a,o.isListCell(s)&&!o.isList(b)){if(o.isListCell(b))a=b.nextElementSibling,b=b.parentNode;else{const R=o.createElement("ol");b.insertBefore(R,a),b=R,a=null}v=!0}if(this._checkDuplicateNode(s,b),b.insertBefore(s,a),v)if(o.onlyZeroWidthSpace(m.textContent.trim()))o.removeItem(m),s=s.lastChild;else{const R=o.getArrayItem(m.children,o.isList);R&&(s!==R?(s.appendChild(R),s=R.previousSibling):(b.appendChild(s),s=b),o.onlyZeroWidthSpace(m.textContent.trim())&&o.removeItem(m))}}catch(R){b.appendChild(s),console.warn("[SUNEDITOR.insertNode.warn] "+R)}finally{const R=b.querySelectorAll("[data-se-duple]");if(R.length>0)for(let $=0,A=R.length,F,z,H,D;$<A;$++){for(F=R[$],H=F.childNodes,D=F.parentNode;H[0];)z=H[0],D.insertBefore(z,F);F===s&&(s=z),o.removeItem(F)}if((o.isFormatElement(s)||o.isComponent(s))&&P===M){const $=o.getFormatElement(N,null);$&&$.nodeType===1&&o.isEmptyLine($)&&o.removeItem($)}if(k&&(o.isFormatElement(s)||o.isRangeFormatElement(s))&&(s=this._setIntoFreeFormat(s)),!o.isComponent(s)){let $=1;if(s.nodeType===3){const A=s.previousSibling,F=s.nextSibling,z=!A||A.nodeType===1||o.onlyZeroWidthSpace(A)?"":A.textContent,H=!F||F.nodeType===1||o.onlyZeroWidthSpace(F)?"":F.textContent;A&&z.length>0&&(s.textContent=z+s.textContent,o.removeItem(A)),F&&F.length>0&&(s.textContent+=H,o.removeItem(F));const D={container:s,startOffset:z.length,endOffset:s.textContent.length-H.length};return this.setRange(s,D.startOffset,s,D.endOffset),D}else if(!o.isBreak(s)&&!o.isListCell(s)&&o.isFormatElement(b)){let A=null;(!s.previousSibling||o.isBreak(s.previousSibling))&&(A=o.createTextNode(o.zeroWidthSpace),s.parentNode.insertBefore(A,s)),(!s.nextSibling||o.isBreak(s.nextSibling))&&(A=o.createTextNode(o.zeroWidthSpace),s.parentNode.insertBefore(A,s.nextSibling)),o._isIgnoreNodeChange(s)&&(s=s.nextSibling,$=0)}this.setRange(s,$,s,$)}return this.history.push(!0),s}},_setIntoFreeFormat:function(s){const a=s.parentNode;let h,p;for(;o.isFormatElement(s)||o.isRangeFormatElement(s);){for(h=s.childNodes,p=null;h[0];){if(p=h[0],o.isFormatElement(p)||o.isRangeFormatElement(p)){if(this._setIntoFreeFormat(p),!s.parentNode)break;h=s.childNodes;continue}a.insertBefore(p,s)}s.childNodes.length===0&&o.removeItem(s),s=o.createElement("BR"),a.insertBefore(s,p.nextSibling)}return s},removeNode:function(){this._resetRangeToTextNode();const s=this.getRange();if(s.startContainer===s.endContainer){const A=o.getParentElement(s.startContainer,o.isMediaComponent);if(A){const F=o.createElement("BR"),z=o.createElement(l.defaultTag);return z.appendChild(F),o.changeElement(A,z),d.setRange(z,0,z,0),this.history.push(!0),{container:z,offset:0,prevContainer:null}}}const a=s.startOffset===0,h=d.isEdgePoint(s.endContainer,s.endOffset,"end");let p=null,m=null,v=null;a&&(m=o.getFormatElement(s.startContainer),m&&(p=m.previousElementSibling,m=p)),h&&(v=o.getFormatElement(s.endContainer),v=v&&v.nextElementSibling);let b,w=0,E=s.startContainer,x=s.endContainer,k=s.startOffset,B=s.endOffset;const N=s.commonAncestorContainer.nodeType===3&&s.commonAncestorContainer.parentNode===E.parentNode?E.parentNode:s.commonAncestorContainer;if(N===E&&N===x&&(E=N.children[k],x=N.children[B],k=B=0),!E||!x)return{container:N,offset:0};if(E===x&&s.collapsed&&E.textContent&&o.onlyZeroWidthSpace(E.textContent.substr(k)))return{container:E,offset:k,prevContainer:E&&E.parentNode?E:null};let L=null,I=null;const O=o.getListChildNodes(N,null);let P=o.getArrayIndex(O,E),M=o.getArrayIndex(O,x);if(O.length>0&&P>-1&&M>-1){for(let A=P+1,F=E;A>=0;A--)O[A]===F.parentNode&&O[A].firstChild===F&&k===0&&(P=A,F=F.parentNode);for(let A=M-1,F=x;A>P;A--)O[A]===F.parentNode&&O[A].nodeType===1&&(O.splice(A,1),F=F.parentNode,--M)}else{if(O.length===0){if(o.isFormatElement(N)||o.isRangeFormatElement(N)||o.isWysiwygDiv(N)||o.isBreak(N)||o.isMedia(N))return{container:N,offset:0};if(N.nodeType===3)return{container:N,offset:B};O.push(N),E=x=N}else if(E=x=O[0],o.isBreak(E)||o.onlyZeroWidthSpace(E))return{container:o.isMedia(N)?N:E,offset:0};P=M=0}for(let A=P;A<=M;A++){const F=O[A];if(F.length===0||F.nodeType===3&&F.data===void 0){this._nodeRemoveListItem(F);continue}if(F===E){if(E.nodeType===1){if(o.isComponent(E))continue;L=o.createTextNode(E.textContent)}else F===x?(L=o.createTextNode(E.substringData(0,k)+x.substringData(B,x.length-B)),w=k):L=o.createTextNode(E.substringData(0,k));if(L.length>0?E.data=L.data:this._nodeRemoveListItem(E),F===x)break;continue}if(F===x){if(x.nodeType===1){if(o.isComponent(x))continue;I=o.createTextNode(x.textContent)}else I=o.createTextNode(x.substringData(B,x.length-B));I.length>0?x.data=I.data:this._nodeRemoveListItem(x);continue}this._nodeRemoveListItem(F)}const R=o.getParentElement(x,"ul"),$=o.getParentElement(E,"li");if(R&&$&&$.contains(R)?(b=R.previousSibling,w=b.textContent.length):(b=x&&x.parentNode?x:E&&E.parentNode?E:s.endContainer||s.startContainer,w=!a&&!h?w:h?b.textContent.length:0),!o.isWysiwygDiv(b)&&b.childNodes.length===0){const A=o.removeItemAllParents(b,null,null);A&&(b=A.sc||A.ec||e.element.wysiwyg)}return!o.getFormatElement(b)&&!(E&&E.parentNode)&&(v?(b=v,w=0):m&&(b=m,w=1)),this.setRange(b,w,b,w),this.history.push(!0),{container:b,offset:w,prevContainer:p}},_nodeRemoveListItem:function(s){const a=o.getFormatElement(s,null);o.removeItem(s),o.isListCell(a)&&(o.removeItemAllParents(a,null,null),a&&o.isList(a.firstChild)&&a.insertBefore(o.createTextNode(o.zeroWidthSpace),a.firstChild))},applyRangeFormatElement:function(s){this.getRange_addLine(this.getRange(),null);const a=this.getSelectedElementsAndComponents(!1);if(!a||a.length===0)return;e:for(let B=0,N=a.length,L,I,O,P,M,R;B<N;B++)if(L=a[B],!!o.isListCell(L)&&(I=L.lastElementChild,I&&o.isListCell(L.nextElementSibling)&&a.indexOf(L.nextElementSibling)>-1&&(P=I.lastElementChild,a.indexOf(P)>-1))){let $=null;for(;$=P.lastElementChild;)if(o.isList($))if(a.indexOf($.lastElementChild)>-1)P=$.lastElementChild;else continue e;O=I.firstElementChild,M=a.indexOf(O),R=a.indexOf(P),a.splice(M,R-M+1),N=a.length;continue}let h=a[a.length-1],p,m,v;o.isRangeFormatElement(h)||o.isFormatElement(h)?p=h:p=o.getRangeFormatElement(h,null)||o.getFormatElement(h,null),o.isCell(p)?(m=null,v=p):(m=p.nextSibling,v=p.parentNode);let b=o.getElementDepth(p),w=null;const E=[],x=function(B,N,L){let I=null;if(B!==N&&!o.isTable(N)){if(N&&o.getElementDepth(B)===o.getElementDepth(N))return L;I=o.removeItemAllParents(N,null,B)}return I?I.ec:L};for(let B=0,N=a.length,L,I,O,P,M,R,$;B<N;B++)if(L=a[B],I=L.parentNode,!(!I||s.contains(I)))if(O=o.getElementDepth(L),o.isList(I)){if(w===null&&(R?(w=R,$=!0,R=null):w=I.cloneNode(!1)),E.push(L),M=a[B+1],B===N-1||M&&M.parentNode!==I){M&&L.contains(M.parentNode)&&(R=M.parentNode.cloneNode(!1));let A=I.parentNode,F;for(;o.isList(A);)F=o.createElement(A.nodeName),F.appendChild(w),w=F,A=A.parentNode;const z=this.detachRangeFormatElement(I,E,null,!0,!0);b>=O?(b=O,v=z.cc,m=x(v,I,z.ec),m&&(v=m.parentNode)):v===z.cc&&(m=z.ec),v!==z.cc&&(P=x(v,z.cc,P),P!==void 0?m=P:m=z.cc);for(let H=0,D=z.removeArray.length;H<D;H++)w.appendChild(z.removeArray[H]);$||s.appendChild(w),R&&z.removeArray[z.removeArray.length-1].appendChild(R),w=null,$=!1}}else b>=O&&(b=O,v=I,m=L.nextSibling),s.appendChild(L),v!==I&&(P=x(v,I),P!==void 0&&(m=P));if(this.effectNode=null,o.mergeSameTags(s,null,!1),o.mergeNestedTags(s,(function(B){return this.isList(B)}).bind(o)),m&&o.getElementDepth(m)>0&&(o.isList(m.parentNode)||o.isList(m.parentNode.parentNode))){const B=o.getParentElement(m,(function(L){return this.isRangeFormatElement(L)&&!this.isList(L)}).bind(o)),N=o.splitElement(m,null,B?o.getElementDepth(B)+1:0);N.parentNode.insertBefore(s,N)}else v.insertBefore(s,m),x(s,m);const k=o.getEdgeChildNodes(s.firstElementChild,s.lastElementChild);a.length>1?this.setRange(k.sc,0,k.ec,k.ec.textContent.length):this.setRange(k.ec,k.ec.textContent.length,k.ec,k.ec.textContent.length),this.history.push(!1)},detachRangeFormatElement:function(s,a,h,p,m){const v=this.getRange();let b=v.startOffset,w=v.endOffset,E=o.getListChildNodes(s,function(z){return z.parentNode===s}),x=s.parentNode,k=null,B=null,N=s.cloneNode(!1);const L=[],I=o.isList(h);let O=!1,P=!1,M=!1;function R(z,H,D,V){if(o.onlyZeroWidthSpace(H)&&(H.innerHTML=o.zeroWidthSpace,b=w=1),H.nodeType===3)return z.insertBefore(H,D),H;const q=(M?H:V).childNodes;let K=H.cloneNode(!1),Z=null,G=null;for(;q[0];)G=q[0],o._notTextNode(G)&&!o.isBreak(G)&&!o.isListCell(K)?(K.childNodes.length>0&&(Z||(Z=K),z.insertBefore(K,D),K=H.cloneNode(!1)),z.insertBefore(G,D),Z||(Z=G)):K.appendChild(G);if(K.childNodes.length>0){if(o.isListCell(z)&&o.isListCell(K)&&o.isList(D))if(I){for(Z=D;D;)K.appendChild(D),D=D.nextSibling;z.parentNode.insertBefore(K,z.nextElementSibling)}else{const U=V.nextElementSibling,Y=o.detachNestedList(V,!1);if(s!==Y||U!==V.nextElementSibling){const ee=K.childNodes;for(;ee[0];)V.appendChild(ee[0]);s=Y,P=!0}}else z.insertBefore(K,D);Z||(Z=K)}return Z}for(let z=0,H=E.length,D,V,q;z<H;z++)if(D=E[z],!(D.nodeType===3&&o.isList(N)))if(M=!1,p&&z===0&&(!a||a.length===H||a[0]===D?k=s.previousSibling:k=N),a&&(V=a.indexOf(D)),a&&V===-1)N||(N=s.cloneNode(!1)),N.appendChild(D);else{if(a&&(q=a[V+1]),N&&N.children.length>0&&(x.insertBefore(N,s),N=null),!I&&o.isListCell(D))if(q&&o.getElementDepth(D)!==o.getElementDepth(q)&&(o.isListCell(x)||o.getArrayItem(D.children,o.isList,!1))){const K=D.nextElementSibling,Z=o.detachNestedList(D,!1);(s!==Z||K!==D.nextElementSibling)&&(s=Z,P=!0)}else{const K=D;D=o.createElement(p?K.nodeName:o.isList(s.parentNode)||o.isListCell(s.parentNode)?"LI":o.isCell(s.parentNode)?"DIV":l.defaultTag);const Z=o.isListCell(D),G=K.childNodes;for(;G[0]&&!(o.isList(G[0])&&!Z);)D.appendChild(G[0]);o.copyFormatAttributes(D,K),M=!0}else D=D.cloneNode(!1);if(!P&&(p?(L.push(D),o.removeItem(E[z])):(h?(O||(x.insertBefore(h,s),O=!0),D=R(h,D,null,E[z])):D=R(x,D,s,E[z]),P||(a?(B=D,k||(k=D)):k||(k=B=D))),P)){P=M=!1,E=o.getListChildNodes(s,function(K){return K.parentNode===s}),N=s.cloneNode(!1),x=s.parentNode,z=-1,H=E.length;continue}}const $=s.parentNode;let A=s.nextSibling;N&&N.children.length>0&&$.insertBefore(N,A),h?k=h.previousSibling:k||(k=s.previousSibling),A=s.nextSibling!==N?s.nextSibling:N?N.nextSibling:null,s.children.length===0||s.textContent.length===0?o.removeItem(s):o.removeEmptyNode(s,null,!1);let F=null;if(p)F={cc:$,sc:k,so:b,ec:A,eo:w,removeArray:L};else{k||(k=B),B||(B=k);const z=o.getEdgeChildNodes(k,B.parentNode?k:B);F={cc:(z.sc||z.ec).parentNode,sc:z.sc,so:b,ec:z.ec,eo:w,removeArray:null}}if(this.effectNode=null,m)return F;!p&&F&&(a?this.setRange(F.sc,b,F.ec,w):this.setRange(F.sc,0,F.sc,0)),this.history.push(!1)},detachList:function(s,a){let h={},p=!1,m=!1,v=null,b=null;const w=(function(E){return!this.isComponent(E)}).bind(o);for(let E=0,x=s.length,k,B,N,L;E<x;E++){if(N=E===x-1,B=o.getRangeFormatElement(s[E],w),L=o.isList(B),!k&&L)k=B,h={r:k,f:[o.getParentElement(s[E],"LI")]},E===0&&(p=!0);else if(k&&L)if(k!==B){const I=this.detachRangeFormatElement(h.f[0].parentNode,h.f,null,a,!0);B=s[E].parentNode,p&&(v=I.sc,p=!1),N&&(b=I.ec),L?(k=B,h={r:k,f:[o.getParentElement(s[E],"LI")]},N&&(m=!0)):k=null}else h.f.push(o.getParentElement(s[E],"LI")),N&&(m=!0);if(N&&o.isList(k)){const I=this.detachRangeFormatElement(h.f[0].parentNode,h.f,null,a,!0);(m||x===1)&&(b=I.ec),p&&(v=I.sc||b)}}return{sc:v,ec:b}},nodeChange:function(s,a,h,p){this._resetRangeToTextNode();let m=this.getRange_addLine(this.getRange(),null);a=a&&a.length>0?a:!1,h=h&&h.length>0?h:!1;const v=!s,b=v&&!h&&!a;let w=m.startContainer,E=m.startOffset,x=m.endContainer,k=m.endOffset;if(b&&m.collapsed&&o.isFormatElement(w.parentNode)||w===x&&w.nodeType===1&&o.isNonEditable(w)){const G=w.parentNode;if(!o.isListCell(G)||!o.getValues(G.style).some((function(U){return this._listKebab.indexOf(U)>-1}).bind(this)))return}if(m.collapsed&&!b&&w.nodeType===1&&!o.isBreak(w)&&!o.isComponent(w)){let G=null;const U=w.childNodes[E];U&&(U.nextSibling?G=o.isBreak(U)?U:U.nextSibling:G=null);const Y=o.createTextNode(o.zeroWidthSpace);w.insertBefore(Y,G),this.setRange(Y,1,Y,1),m=this.getRange(),w=m.startContainer,E=m.startOffset,x=m.endContainer,k=m.endOffset}o.isFormatElement(w)&&(w=w.childNodes[E]||w.firstChild,E=0),o.isFormatElement(x)&&(x=x.childNodes[k]||x.lastChild,k=x.textContent.length),v&&(s=o.createElement("DIV"));const B=c.RegExp,N=s.nodeName;if(!b&&w===x&&!h&&s){let G=w,U=0;const Y=[],ee=s.style;for(let X=0,te=ee.length;X<te;X++)Y.push(ee[X]);const J=s.classList;for(let X=0,te=J.length;X<te;X++)Y.push("."+J[X]);if(Y.length>0){for(;!o.isFormatElement(G)&&!o.isWysiwygDiv(G);){for(let X=0;X<Y.length;X++)if(G.nodeType===1){const te=Y[X],ue=/^\./.test(te)?new B("\\s*"+te.replace(/^\./,"")+"(\\s+|$)","ig"):!1,Q=v?!!G.style[te]:!!G.style[te]&&!!s.style[te]&&G.style[te]===s.style[te],oe=ue===!1?!1:v?!!G.className.match(ue):!!G.className.match(ue)&&!!s.className.match(ue);(Q||oe)&&U++}G=G.parentNode}if(U>=Y.length)return}}let L={},I={},O,P="",M="",R="";if(a){for(let G=0,U=a.length,Y;G<U;G++)Y=a[G],/^\./.test(Y)?M+=(M?"|":"\\s*(?:")+Y.replace(/^\./,""):P+=(P?"|":"(?:;|^|\\s)(?:")+Y;P&&(P+=")\\s*:[^;]*\\s*(?:;|$)",P=new B(P,"ig")),M&&(M+=")(?=\\s+|$)",M=new B(M,"ig"))}if(h){R="^(?:"+h[0];for(let G=1;G<h.length;G++)R+="|"+h[G];R+=")$",R=new B(R,"i")}const $=c.Boolean,A={v:!1},F=function(G){const U=G.cloneNode(!1);if(U.nodeType===3||o.isBreak(U))return U;if(b)return null;const Y=!R&&v||R&&R.test(U.nodeName);if(Y&&!p)return A.v=!0,null;const ee=U.style.cssText;let J="";P&&ee.length>0&&(J=ee.replace(P,"").trim(),J!==ee&&(A.v=!0));const X=U.className;let te="";return M&&X.length>0&&(te=X.replace(M,"").trim(),te!==X&&(A.v=!0)),v&&(M||!X)&&(P||!ee)&&!J&&!te&&Y?(A.v=!0,null):J||te||U.nodeName!==N||$(P)!==$(ee)||$(M)!==$(X)?(P&&ee.length>0&&(U.style.cssText=J),U.style.cssText||U.removeAttribute("style"),M&&X.length>0&&(U.className=te.trim()),U.className.trim()||U.removeAttribute("class"),!U.style.cssText&&!U.className&&(U.nodeName===N||Y)?(A.v=!0,null):U):(A.v=!0,null)},z=this.getSelectedElements(null);m=this.getRange(),w=m.startContainer,E=m.startOffset,x=m.endContainer,k=m.endOffset,o.getFormatElement(w,null)||(w=o.getChildElement(z[0],function(G){return G.nodeType===3},!1),E=0),o.getFormatElement(x,null)||(x=o.getChildElement(z[z.length-1],function(G){return G.nodeType===3},!1),k=x.textContent.length);const H=o.getFormatElement(w,null)===o.getFormatElement(x,null),D=z.length-(H?0:1);O=s.cloneNode(!1);const V=b||v&&function(G){for(let U=0,Y=G.length;U<Y;U++)if(o._isMaintainedNode(G[U])||o._isSizeNode(G[U]))return!0;return!1}(h),q=v||o._isSizeNode(O),K=this._util_getMaintainedNode.bind(o,V,q),Z=this._util_isMaintainedNode.bind(o,V,q);if(H){this._resetCommonListCell(z[0],a)&&(m=this.setRange(w,E,x,k));const G=this._nodeChange_oneLine(z[0],O,F,w,E,x,k,b,v,m.collapsed,A,K,Z);L.container=G.startContainer,L.offset=G.startOffset,I.container=G.endContainer,I.offset=G.endOffset,L.container===I.container&&o.onlyZeroWidthSpace(L.container)&&(L.offset=I.offset=1),this._setCommonListStyle(G.ancestor,null)}else{let G=!1;D>0&&this._resetCommonListCell(z[D],a)&&(G=!0),this._resetCommonListCell(z[0],a)&&(G=!0),G&&this.setRange(w,E,x,k),D>0&&(O=s.cloneNode(!1),I=this._nodeChange_endLine(z[D],O,F,x,k,b,v,A,K,Z));for(let U=D-1,Y;U>0;U--)this._resetCommonListCell(z[U],a),O=s.cloneNode(!1),Y=this._nodeChange_middleLine(z[U],O,F,b,v,A,I.container),Y.endContainer&&Y.ancestor.contains(Y.endContainer)&&(I.ancestor=null,I.container=Y.endContainer),this._setCommonListStyle(Y.ancestor,null);O=s.cloneNode(!1),L=this._nodeChange_startLine(z[0],O,F,w,E,b,v,A,K,Z,I.container),L.endContainer&&(I.ancestor=null,I.container=L.endContainer),D<=0?I=L:I.container||(I.ancestor=null,I.container=L.container,I.offset=L.container.textContent.length),this._setCommonListStyle(L.ancestor,null),this._setCommonListStyle(I.ancestor||o.getFormatElement(I.container),null)}this.controllersOff(),this.setRange(L.container,L.offset,I.container,I.offset),this.history.push(!1)},_resetCommonListCell:function(s,a){if(!o.isListCell(s))return;a||(a=this._listKebab);const h=o.getArrayItem(s.childNodes,function(B){return!o.isBreak(B)},!0),p=s.style,m=[],v=[],b=o.getValues(p);for(let B=0,N=this._listKebab.length;B<N;B++)b.indexOf(this._listKebab[B])>-1&&a.indexOf(this._listKebab[B])>-1&&(m.push(this._listCamel[B]),v.push(this._listKebab[B]));if(!m.length)return;const w=o.createElement("SPAN");for(let B=0,N=m.length;B<N;B++)w.style[m[B]]=p[v[B]],p.removeProperty(v[B]);let E=w.cloneNode(!1),x=null,k=!1;for(let B=0,N=h.length,L,I;B<N;B++)L=h[B],!l._textTagsMap[L.nodeName.toLowerCase()]&&(I=o.getValues(L.style),I.length===0||m.some(function(O){return I.indexOf(O)===-1})&&I.some(function(O){})?(x=L.nextSibling,E.appendChild(L)):E.childNodes.length>0&&(s.insertBefore(E,x),E=w.cloneNode(!1),x=null,k=!0));return E.childNodes.length>0&&(s.insertBefore(E,x),k=!0),p.length||s.removeAttribute("style"),k},_setCommonListStyle:function(s,a){if(!o.isListCell(s))return;const h=o.getArrayItem((a||s).childNodes,function(E){return!o.isBreak(E)},!0);if(a=h[0],!a||h.length>1||a.nodeType!==1)return;const p=a.style,m=s.style,v=a.nodeName.toLowerCase();let b=!1;l._textTagsMap[v]===l._defaultCommand.bold.toLowerCase()&&(m.fontWeight="bold"),l._textTagsMap[v]===l._defaultCommand.italic.toLowerCase()&&(m.fontStyle="italic");const w=o.getValues(p);if(w.length>0)for(let E=0,x=this._listCamel.length;E<x;E++)w.indexOf(this._listKebab[E])>-1&&(m[this._listCamel[E]]=p[this._listCamel[E]],p.removeProperty(this._listKebab[E]),b=!0);if(this._setCommonListStyle(s,a),!!b&&!p.length){const E=a.childNodes,x=a.parentNode,k=a.nextSibling;for(;E.length>0;)x.insertBefore(E[0],k);o.removeItem(a)}},_stripRemoveNode:function(s){const a=s.parentNode;if(!s||s.nodeType===3||!a)return;const h=s.childNodes;for(;h[0];)a.insertBefore(h[0],s);a.removeChild(s)},_util_getMaintainedNode:function(s,a,h){return!h||s?null:this.getParentElement(h,this._isMaintainedNode.bind(this))||(a?null:this.getParentElement(h,this._isSizeNode.bind(this)))},_util_isMaintainedNode:function(s,a,h){if(!h||s||h.nodeType!==1)return!1;const p=this._isMaintainedNode(h);return this.getParentElement(h,this._isMaintainedNode.bind(this))?p:p||(a?!1:this._isSizeNode(h))},_nodeChange_oneLine:function(s,a,h,p,m,v,b,w,E,x,k,B,N){let L=p.parentNode;for(;!L.nextSibling&&!L.previousSibling&&!o.isFormatElement(L.parentNode)&&!o.isWysiwygDiv(L.parentNode)&&L.nodeName!==a.nodeName;)L=L.parentNode;if(!E&&L===v.parentNode&&L.nodeName===a.nodeName&&o.onlyZeroWidthSpace(p.textContent.slice(0,m))&&o.onlyZeroWidthSpace(v.textContent.slice(b))){const oe=L.childNodes;let me=!0;for(let se=0,Ee=oe.length,de,be,ke,fe;se<Ee;se++){if(de=oe[se],fe=!o.onlyZeroWidthSpace(de),de===p){be=!0;continue}if(de===v){ke=!0;continue}if(!be&&fe||be&&ke&&fe){me=!1;break}}if(me)return o.copyTagAttributes(L,a),{ancestor:s,startContainer:p,startOffset:m,endContainer:v,endOffset:b}}k.v=!1;const I=s,O=[a],P=s.cloneNode(!1),M=p===v;let R=p,$=m,A=v,F=b,z=!1,H=!1,D,V,q,K,Z;const G=c.RegExp;function U(oe){const me=new G("(?:;|^|\\s)(?:"+K+"null)\\s*:[^;]*\\s*(?:;|$)","ig");let se="";return me&&oe.style.cssText.length>0&&(se=me.test(oe.style.cssText)),!se}if(function oe(me,se){const Ee=me.childNodes;for(let de=0,be=Ee.length,ke;de<be;de++){let fe=Ee[de];if(!fe)continue;let De=se,Ae;if(!z&&fe===R){let ze=P;Z=B(fe);const ve=o.createTextNode(R.nodeType===1?"":R.substringData(0,$)),ge=o.createTextNode(R.nodeType===1?"":R.substringData($,M&&F>=$?F-$:R.data.length-$));if(Z){const ae=B(se);if(ae&&ae.parentNode!==ze){let ce=ae,he=null;for(;ce.parentNode!==ze;){for(se=he=ce.parentNode.cloneNode(!1);ce.childNodes[0];)he.appendChild(ce.childNodes[0]);ce.appendChild(he),ce=ce.parentNode}ce.parentNode.appendChild(ae)}Z=Z.cloneNode(!1)}o.onlyZeroWidthSpace(ve)||se.appendChild(ve);const ye=B(se);for(ye&&(Z=ye),Z&&(ze=Z),V=fe,D=[],K="";V!==ze&&V!==I&&V!==null;)ke=N(V)?null:h(V),ke&&V.nodeType===1&&U(V)&&(D.push(ke),K+=V.style.cssText.substr(0,V.style.cssText.indexOf(":"))+"|"),V=V.parentNode;const Oe=D.pop()||ge;for(q=V=Oe;D.length>0;)V=D.pop(),q.appendChild(V),q=V;if(a.appendChild(Oe),ze.appendChild(a),Z&&!B(A)&&(a=a.cloneNode(!1),P.appendChild(a),O.push(a)),R=ge,$=0,z=!0,V!==ge&&V.appendChild(R),!M)continue}if(!H&&fe===A){Z=B(fe);const ze=o.createTextNode(A.nodeType===1?"":A.substringData(F,A.length-F)),ve=o.createTextNode(M||A.nodeType===1?"":A.substringData(0,F));if(Z?Z=Z.cloneNode(!1):N(a.parentNode)&&!Z&&(a=a.cloneNode(!1),P.appendChild(a),O.push(a)),!o.onlyZeroWidthSpace(ze)){V=fe,K="",D=[];const ye=[];for(;V!==P&&V!==I&&V!==null;)V.nodeType===1&&U(V)&&(N(V)?ye.push(V.cloneNode(!1)):D.push(V.cloneNode(!1)),K+=V.style.cssText.substr(0,V.style.cssText.indexOf(":"))+"|"),V=V.parentNode;for(D=D.concat(ye),Ae=q=V=D.pop()||ze;D.length>0;)V=D.pop(),q.appendChild(V),q=V;P.appendChild(Ae),V.textContent=ze.data}if(Z&&Ae){const ye=B(Ae);ye&&(Z=ye)}for(V=fe,D=[],K="";V!==P&&V!==I&&V!==null;)ke=N(V)?null:h(V),ke&&V.nodeType===1&&U(V)&&(D.push(ke),K+=V.style.cssText.substr(0,V.style.cssText.indexOf(":"))+"|"),V=V.parentNode;const ge=D.pop()||ve;for(q=V=ge;D.length>0;)V=D.pop(),q.appendChild(V),q=V;Z?(a=a.cloneNode(!1),a.appendChild(ge),Z.insertBefore(a,Z.firstChild),P.appendChild(Z),O.push(a),Z=null):a.appendChild(ge),A=ve,F=ve.data.length,H=!0,!w&&x&&(a=ve,ve.textContent=o.zeroWidthSpace),V!==ve&&V.appendChild(A);continue}if(z){if(fe.nodeType===1&&!o.isBreak(fe)){o._isIgnoreNodeChange(fe)?(P.appendChild(fe.cloneNode(!0)),x||(a=a.cloneNode(!1),P.appendChild(a),O.push(a))):oe(fe,fe);continue}V=fe,D=[],K="";const ze=[];for(;V.parentNode!==null&&V!==I&&V!==a;)ke=H?V.cloneNode(!1):h(V),V.nodeType===1&&!o.isBreak(fe)&&ke&&U(V)&&(N(V)?Z||ze.push(ke):D.push(ke),K+=V.style.cssText.substr(0,V.style.cssText.indexOf(":"))+"|"),V=V.parentNode;D=D.concat(ze);const ve=D.pop()||fe;for(q=V=ve;D.length>0;)V=D.pop(),q.appendChild(V),q=V;if(N(a.parentNode)&&!N(ve)&&!o.onlyZeroWidthSpace(a)&&(a=a.cloneNode(!1),P.appendChild(a),O.push(a)),!H&&!Z&&N(ve)){a=a.cloneNode(!1);const ge=ve.childNodes;for(let ye=0,Oe=ge.length;ye<Oe;ye++)a.appendChild(ge[ye]);ve.appendChild(a),P.appendChild(ve),O.push(a),a.children.length>0?se=V:se=a}else ve===fe?H?se=P:se=a:H?(P.appendChild(ve),se=V):(a.appendChild(ve),se=V);if(Z&&fe.nodeType===3)if(B(fe)){const ge=o.getParentElement(se,(function(ye){return this._isMaintainedNode(ye.parentNode)||ye.parentNode===P}).bind(o));Z.appendChild(ge),a=ge.cloneNode(!1),O.push(a),P.appendChild(a)}else Z=null}Ae=fe.cloneNode(!1),se.appendChild(Ae),fe.nodeType===1&&!o.isBreak(fe)&&(De=Ae),oe(fe,De)}}(s,P),E&&!w&&!k.v)return{ancestor:s,startContainer:p,startOffset:m,endContainer:v,endOffset:b};if(w=w&&E,w)for(let oe=0;oe<O.length;oe++){let me=O[oe],se,Ee,de;if(x)se=o.createTextNode(o.zeroWidthSpace),P.replaceChild(se,me);else{const be=me.childNodes;for(Ee=be[0];be[0];)de=be[0],P.insertBefore(de,me);o.removeItem(me)}oe===0&&(x?R=A=se:(R=Ee,A=de))}else{if(E)for(let oe=0;oe<O.length;oe++)this._stripRemoveNode(O[oe]);x&&(R=A=a)}o.removeEmptyNode(P,a,!1),x&&($=R.textContent.length,F=A.textContent.length);const Y=w||A.textContent.length===0;!o.isBreak(A)&&A.textContent.length===0&&(o.removeItem(A),A=R),F=Y?A.textContent.length:F;const ee={s:0,e:0},J=o.getNodePath(R,P,ee),X=!A.parentNode;X&&(A=R);const te={s:0,e:0},ue=o.getNodePath(A,P,!X&&!Y?te:null);$+=ee.s,F=x?$:X?R.textContent.length:Y?F+ee.s:F+te.s;const Q=o.mergeSameTags(P,[J,ue],!0);return s.parentNode.replaceChild(P,s),R=o.getNodeFromPath(J,P),A=o.getNodeFromPath(ue,P),{ancestor:P,startContainer:R,startOffset:$+Q[0],endContainer:A,endOffset:F+Q[1]}},_nodeChange_startLine:function(s,a,h,p,m,v,b,w,E,x,k){let B=p.parentNode;for(;!B.nextSibling&&!B.previousSibling&&!o.isFormatElement(B.parentNode)&&!o.isWysiwygDiv(B.parentNode)&&B.nodeName!==a.nodeName;)B=B.parentNode;if(!b&&B.nodeName===a.nodeName&&!o.isFormatElement(B)&&!B.nextSibling&&o.onlyZeroWidthSpace(p.textContent.slice(0,m))){let z=!0,H=p.previousSibling;for(;H;){if(!o.onlyZeroWidthSpace(H)){z=!1;break}H=H.previousSibling}if(z)return o.copyTagAttributes(B,a),{ancestor:s,container:p,offset:m}}w.v=!1;const N=s,L=[a],I=s.cloneNode(!1);let O=p,P=m,M=!1,R,$,A,F;if(function z(H,D){const V=H.childNodes;for(let q=0,K=V.length,Z,G;q<K;q++){const U=V[q];if(!U)continue;let Y=D;if(M&&!o.isBreak(U)){if(U.nodeType===1){if(o._isIgnoreNodeChange(U)){if(a=a.cloneNode(!1),G=U.cloneNode(!0),I.appendChild(G),I.appendChild(a),L.push(a),k&&U.contains(k)){const te=o.getNodePath(k,U);k=o.getNodeFromPath(te,G)}}else z(U,U);continue}$=U,R=[];const ee=[];for(;$.parentNode!==null&&$!==N&&$!==a;)Z=h($),$.nodeType===1&&Z&&(x($)?F||ee.push(Z):R.push(Z)),$=$.parentNode;R=R.concat(ee);const J=R.length>0,X=R.pop()||U;for(A=$=X;R.length>0;)$=R.pop(),A.appendChild($),A=$;if(x(a.parentNode)&&!x(X)&&(a=a.cloneNode(!1),I.appendChild(a),L.push(a)),!F&&x(X)){a=a.cloneNode(!1);const te=X.childNodes;for(let ue=0,Q=te.length;ue<Q;ue++)a.appendChild(te[ue]);X.appendChild(a),I.appendChild(X),D=x($)?a:$,L.push(a)}else J?(a.appendChild(X),D=$):D=a;if(F&&U.nodeType===3)if(E(U)){const te=o.getParentElement(D,(function(ue){return this._isMaintainedNode(ue.parentNode)||ue.parentNode===I}).bind(o));F.appendChild(te),a=te.cloneNode(!1),L.push(a),I.appendChild(a)}else F=null}if(!M&&U===O){let ee=I;F=E(U);const J=o.createTextNode(O.nodeType===1?"":O.substringData(0,P)),X=o.createTextNode(O.nodeType===1?"":O.substringData(P,O.length-P));if(F){const Q=E(D);if(Q&&Q.parentNode!==ee){let oe=Q,me=null;for(;oe.parentNode!==ee;){for(D=me=oe.parentNode.cloneNode(!1);oe.childNodes[0];)me.appendChild(oe.childNodes[0]);oe.appendChild(me),oe=oe.parentNode}oe.parentNode.appendChild(Q)}F=F.cloneNode(!1)}o.onlyZeroWidthSpace(J)||D.appendChild(J);const te=E(D);for(te&&(F=te),F&&(ee=F),$=D,R=[];$!==ee&&$!==null;)Z=h($),$.nodeType===1&&Z&&R.push(Z),$=$.parentNode;const ue=R.pop()||D;for(A=$=ue;R.length>0;)$=R.pop(),A.appendChild($),A=$;ue!==D?(a.appendChild(ue),D=$):D=a,o.isBreak(U)&&a.appendChild(U.cloneNode(!1)),ee.appendChild(a),O=X,P=0,M=!0,D.appendChild(O);continue}Z=M?h(U):U.cloneNode(!1),Z&&(D.appendChild(Z),U.nodeType===1&&!o.isBreak(U)&&(Y=Z)),z(U,Y)}}(s,I),b&&!v&&!w.v)return{ancestor:s,container:p,offset:m,endContainer:k};if(v=v&&b,v)for(let z=0;z<L.length;z++){let H=L[z];const D=H.childNodes,V=D[0];for(;D[0];)I.insertBefore(D[0],H);o.removeItem(H),z===0&&(O=V)}else if(b){a=a.firstChild;for(let z=0;z<L.length;z++)this._stripRemoveNode(L[z])}if(!v&&I.childNodes.length===0)s.childNodes?O=s.childNodes[0]:(O=o.createTextNode(o.zeroWidthSpace),s.appendChild(O));else{o.removeEmptyNode(I,a,!1),o.onlyZeroWidthSpace(I.textContent)&&(O=I.firstChild,P=0);const z={s:0,e:0},H=o.getNodePath(O,I,z);P+=z.s;const D=o.mergeSameTags(I,[H],!0);s.parentNode.replaceChild(I,s),O=o.getNodeFromPath(H,I),P+=D[0]}return{ancestor:I,container:O,offset:P,endContainer:k}},_nodeChange_middleLine:function(s,a,h,p,m,v,b){if(!m){let k=null;b&&s.contains(b)&&(k=o.getNodePath(b,s));const B=s.cloneNode(!0),N=a.nodeName,L=a.style.cssText,I=a.className;let O=B.childNodes,P=0,M=O.length;for(let R;P<M&&(R=O[P],R.nodeType!==3);P++)if(R.nodeName===N)R.style.cssText+=L,o.addClass(R,I);else{if(!o.isBreak(R)&&o._isIgnoreNodeChange(R))continue;if(M===1){O=R.childNodes,M=O.length,P=-1;continue}else break}if(M>0&&P===M)return s.innerHTML=B.innerHTML,{ancestor:s,endContainer:k?o.getNodeFromPath(k,s):null}}v.v=!1;const w=s.cloneNode(!1),E=[a];let x=!0;if(function k(B,N){const L=B.childNodes;for(let I=0,O=L.length,P,M;I<O;I++){let R=L[I];if(!R)continue;let $=N;if(!o.isBreak(R)&&o._isIgnoreNodeChange(R)){if(a.childNodes.length>0&&(w.appendChild(a),a=a.cloneNode(!1)),M=R.cloneNode(!0),w.appendChild(M),w.appendChild(a),E.push(a),N=a,b&&R.contains(b)){const A=o.getNodePath(b,R);b=o.getNodeFromPath(A,M)}continue}else P=h(R),P&&(x=!1,N.appendChild(P),R.nodeType===1&&($=P));o.isBreak(R)||k(R,$)}}(s,a),x||m&&!p&&!v.v)return{ancestor:s,endContainer:b};if(w.appendChild(a),p&&m)for(let k=0;k<E.length;k++){let B=E[k];const N=B.childNodes;for(;N[0];)w.insertBefore(N[0],B);o.removeItem(B)}else if(m){a=a.firstChild;for(let k=0;k<E.length;k++)this._stripRemoveNode(E[k])}return o.removeEmptyNode(w,a,!1),o.mergeSameTags(w,null,!0),s.parentNode.replaceChild(w,s),{ancestor:w,endContainer:b}},_nodeChange_endLine:function(s,a,h,p,m,v,b,w,E,x){let k=p.parentNode;for(;!k.nextSibling&&!k.previousSibling&&!o.isFormatElement(k.parentNode)&&!o.isWysiwygDiv(k.parentNode)&&k.nodeName!==a.nodeName;)k=k.parentNode;if(!b&&k.nodeName===a.nodeName&&!o.isFormatElement(k)&&!k.previousSibling&&o.onlyZeroWidthSpace(p.textContent.slice(m))){let F=!0,z=p.nextSibling;for(;z;){if(!o.onlyZeroWidthSpace(z)){F=!1;break}z=z.nextSibling}if(F)return o.copyTagAttributes(k,a),{ancestor:s,container:p,offset:m}}w.v=!1;const B=s,N=[a],L=s.cloneNode(!1);let I=p,O=m,P=!1,M,R,$,A;if(function F(z,H){const D=z.childNodes;for(let V=D.length-1,q;0<=V;V--){const K=D[V];if(!K)continue;let Z=H;if(P&&!o.isBreak(K)){if(K.nodeType===1){if(o._isIgnoreNodeChange(K)){a=a.cloneNode(!1);const ee=K.cloneNode(!0);L.insertBefore(ee,H),L.insertBefore(a,ee),N.push(a)}else F(K,K);continue}R=K,M=[];const G=[];for(;R.parentNode!==null&&R!==B&&R!==a;)q=h(R),q&&R.nodeType===1&&(x(R)?A||G.push(q):M.push(q)),R=R.parentNode;M=M.concat(G);const U=M.length>0,Y=M.pop()||K;for($=R=Y;M.length>0;)R=M.pop(),$.appendChild(R),$=R;if(x(a.parentNode)&&!x(Y)&&(a=a.cloneNode(!1),L.insertBefore(a,L.firstChild),N.push(a)),!A&&x(Y)){a=a.cloneNode(!1);const ee=Y.childNodes;for(let J=0,X=ee.length;J<X;J++)a.appendChild(ee[J]);Y.appendChild(a),L.insertBefore(Y,L.firstChild),N.push(a),a.children.length>0?H=R:H=a}else U?(a.insertBefore(Y,a.firstChild),H=R):H=a;if(A&&K.nodeType===3)if(E(K)){const ee=o.getParentElement(H,(function(J){return this._isMaintainedNode(J.parentNode)||J.parentNode===L}).bind(o));A.appendChild(ee),a=ee.cloneNode(!1),N.push(a),L.insertBefore(a,L.firstChild)}else A=null}if(!P&&K===I){A=E(K);const G=o.createTextNode(I.nodeType===1?"":I.substringData(O,I.length-O)),U=o.createTextNode(I.nodeType===1?"":I.substringData(0,O));if(A){A=A.cloneNode(!1);const ee=E(H);if(ee&&ee.parentNode!==L){let J=ee,X=null;for(;J.parentNode!==L;){for(H=X=J.parentNode.cloneNode(!1);J.childNodes[0];)X.appendChild(J.childNodes[0]);J.appendChild(X),J=J.parentNode}J.parentNode.insertBefore(ee,J.parentNode.firstChild)}A=A.cloneNode(!1)}else x(a.parentNode)&&!A&&(a=a.cloneNode(!1),L.appendChild(a),N.push(a));for(o.onlyZeroWidthSpace(G)||H.insertBefore(G,H.firstChild),R=H,M=[];R!==L&&R!==null;)q=x(R)?null:h(R),q&&R.nodeType===1&&M.push(q),R=R.parentNode;const Y=M.pop()||H;for($=R=Y;M.length>0;)R=M.pop(),$.appendChild(R),$=R;Y!==H?(a.insertBefore(Y,a.firstChild),H=R):H=a,o.isBreak(K)&&a.appendChild(K.cloneNode(!1)),A?(A.insertBefore(a,A.firstChild),L.insertBefore(A,L.firstChild),A=null):L.insertBefore(a,L.firstChild),I=U,O=U.data.length,P=!0,H.insertBefore(I,H.firstChild);continue}q=P?h(K):K.cloneNode(!1),q&&(H.insertBefore(q,H.firstChild),K.nodeType===1&&!o.isBreak(K)&&(Z=q)),F(K,Z)}}(s,L),b&&!v&&!w.v)return{ancestor:s,container:p,offset:m};if(v=v&&b,v)for(let F=0;F<N.length;F++){let z=N[F];const H=z.childNodes;let D=null;for(;H[0];)D=H[0],L.insertBefore(D,z);o.removeItem(z),F===N.length-1&&(I=D,O=D.textContent.length)}else if(b){a=a.firstChild;for(let F=0;F<N.length;F++)this._stripRemoveNode(N[F])}if(!v&&L.childNodes.length===0)s.childNodes?I=s.childNodes[0]:(I=o.createTextNode(o.zeroWidthSpace),s.appendChild(I));else{if(!b&&a.textContent.length===0)return o.removeEmptyNode(L,null,!1),{ancestor:null,container:null,offset:0};o.removeEmptyNode(L,a,!1),o.onlyZeroWidthSpace(L.textContent)?(I=L.firstChild,O=I.textContent.length):o.onlyZeroWidthSpace(I)&&(I=a,O=1);const F={s:0,e:0},z=o.getNodePath(I,L,F);O+=F.s;const H=o.mergeSameTags(L,[z],!0);s.parentNode.replaceChild(L,s),I=o.getNodeFromPath(z,L),O+=H[0]}return{ancestor:L,container:I,offset:I.nodeType===1&&O===1?I.childNodes.length:O}},actionCall:function(s,a,h){if(a){if(/more/i.test(a)){if(h!==this._moreLayerActiveButton){const p=e.element.toolbar.querySelector("."+s);p&&(this._moreLayerActiveButton&&this.moreLayerOff(),this._moreLayerActiveButton=h,p.style.display="block",g._showToolbarBalloon(),g._showToolbarInline()),o.addClass(h,"on")}else e.element.toolbar.querySelector("."+this._moreLayerActiveButton.getAttribute("data-command"))&&(this.moreLayerOff(),g._showToolbarBalloon(),g._showToolbarInline());return}if(/container/.test(a)&&(this._menuTray[s]===null||h!==this.containerActiveButton)){this.callPlugin(s,this.containerOn.bind(this,h),h);return}if(this.isReadOnly&&o.arrayIncludes(this.resizingDisabledButtons,h))return;if(/submenu/.test(a)&&(this._menuTray[s]===null||h!==this.submenuActiveButton)){this.callPlugin(s,this.submenuOn.bind(this,h),h);return}else if(/dialog/.test(a)){this.callPlugin(s,this.plugins[s].open.bind(this),h);return}else/command/.test(a)?this.callPlugin(s,this.plugins[s].action.bind(this),h):/fileBrowser/.test(a)&&this.callPlugin(s,this.plugins[s].open.bind(this,null),h)}else s&&this.commandHandler(h,s);/submenu/.test(a)?this.submenuOff():/command/.test(a)||(this.submenuOff(),this.containerOff())},commandHandler:function(s,a){if(!(d.isReadOnly&&!/copy|cut|selectAll|codeView|fullScreen|print|preview|showBlocks/.test(a)))switch(a){case"copy":case"cut":this.execCommand(a);break;case"paste":break;case"selectAll":this.containerOff();const h=e.element.wysiwyg;let p=o.getChildElement(h.firstChild,function(E){return E.childNodes.length===0||E.nodeType===3},!1)||h.firstChild,m=o.getChildElement(h.lastChild,function(E){return E.childNodes.length===0||E.nodeType===3},!0)||h.lastChild;if(!p||!m)return;if(o.isMedia(p)){const E=this.getFileComponent(p),x=o.createElement("BR"),k=o.createElement(l.defaultTag);k.appendChild(x),p=E?E.component:p,p.parentNode.insertBefore(k,p),p=x}if(o.isMedia(m)){const E=o.createElement("BR"),x=o.createElement(l.defaultTag);x.appendChild(E),h.appendChild(x),m=E}g._showToolbarBalloon(this.setRange(p,0,m,m.textContent.length));break;case"codeView":this.toggleCodeView();break;case"fullScreen":this.toggleFullScreen(s);break;case"indent":case"outdent":this.indent(a);break;case"undo":this.history.undo();break;case"redo":this.history.redo();break;case"removeFormat":this.removeFormat(),this.focus();break;case"print":this.print();break;case"preview":this.preview();break;case"showBlocks":this.toggleDisplayBlocks();break;case"dir":this.setDir(l.rtl?"ltr":"rtl");break;case"dir_ltr":this.setDir("ltr");break;case"dir_rtl":this.setDir("rtl");break;case"save":if(typeof l.callBackSave=="function")l.callBackSave(this.getContents(!1),this._variable.isChanged);else if(this._variable.isChanged&&typeof y.save=="function")y.save();else throw Error("[SUNEDITOR.core.commandHandler.fail] Please register call back function in creation option. (callBackSave : Function)");this._variable.isChanged=!1,e.tool.save&&e.tool.save.setAttribute("disabled",!0);break;default:a=l._defaultCommand[a.toLowerCase()]||a,this.commandMap[a]||(this.commandMap[a]=s);const v=this._variable.currentNodesMap,b=v.indexOf(a)>-1?null:o.createElement(a);let w=a;/^SUB$/i.test(a)&&v.indexOf("SUP")>-1?w="SUP":/^SUP$/i.test(a)&&v.indexOf("SUB")>-1&&(w="SUB"),this.nodeChange(b,this._commandMapStyles[a]||null,[w],!1),this.focus()}},removeFormat:function(){this.nodeChange(null,null,null,null)},indent:function(s){const a=this.getRange(),h=this.getSelectedElements(null),p=[],m=s!=="indent",v=l.rtl?"marginRight":"marginLeft";let b=a.startContainer,w=a.endContainer,E=a.startOffset,x=a.endOffset;for(let k=0,B=h.length,N,L;k<B;k++)N=h[k],!o.isListCell(N)||!this.plugins.list?(L=/\d+/.test(N.style[v])?o.getNumber(N.style[v],0):0,m?L-=25:L+=25,o.setStyle(N,v,L<=0?"":L+"px")):(m||N.previousElementSibling)&&p.push(N);p.length>0&&this.plugins.list.editInsideList.call(this,m,p),this.effectNode=null,this.setRange(b,E,w,x),this.history.push(!1)},toggleDisplayBlocks:function(){const s=e.element.wysiwyg;o.toggleClass(s,"se-show-block"),o.hasClass(s,"se-show-block")?o.addClass(this._styleCommandMap.showBlocks,"active"):o.removeClass(this._styleCommandMap.showBlocks,"active"),this._resourcesStateChange()},toggleCodeView:function(){const s=this._variable.isCodeView;this.controllersOff(),o.setDisabledButtons(!s,this.codeViewDisabledButtons),s?(o.isNonEditable(e.element.wysiwygFrame)||this._setCodeDataToEditor(),e.element.wysiwygFrame.scrollTop=0,e.element.code.style.display="none",e.element.wysiwygFrame.style.display="block",this._variable._codeOriginCssText=this._variable._codeOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: none"),this._variable._wysiwygOriginCssText=this._variable._wysiwygOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: block"),l.height==="auto"&&!l.codeMirrorEditor&&(e.element.code.style.height="0px"),this._variable.isCodeView=!1,this._variable.isFullScreen||(this._notHideToolbar=!1,/balloon|balloon-always/i.test(l.mode)&&(e.element._arrow.style.display="",this._isInline=!1,this._isBalloon=!0,g._hideToolbar())),this.nativeFocus(),o.removeClass(this._styleCommandMap.codeView,"active"),o.isNonEditable(e.element.wysiwygFrame)||(this.history.push(!1),this.history._resetCachingButton())):(this._setEditorDataToCodeView(),this._variable._codeOriginCssText=this._variable._codeOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: block"),this._variable._wysiwygOriginCssText=this._variable._wysiwygOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: none"),this._variable.isFullScreen?e.element.code.style.height="100%":l.height==="auto"&&!l.codeMirrorEditor&&(e.element.code.style.height=e.element.code.scrollHeight>0?e.element.code.scrollHeight+"px":"auto"),l.codeMirrorEditor&&l.codeMirrorEditor.refresh(),this._variable.isCodeView=!0,this._variable.isFullScreen||(this._notHideToolbar=!0,this._isBalloon&&(e.element._arrow.style.display="none",e.element.toolbar.style.left="",this._isInline=!0,this._isBalloon=!1,g._showToolbarInline())),this._variable._range=null,e.element.code.focus(),o.addClass(this._styleCommandMap.codeView,"active")),this._checkPlaceholder(),this.isReadOnly&&o.setDisabledButtons(!0,this.resizingDisabledButtons),typeof y.toggleCodeView=="function"&&y.toggleCodeView(this._variable.isCodeView,this)},_setCodeDataToEditor:function(){const s=this._getCodeView();if(l.fullPage){const a=this._parser.parseFromString(s,"text/html");if(!this.options.__allowedScriptTag){const m=a.head.children;for(let v=0,b=m.length;v<b;v++)/^script$/i.test(m[v].tagName)&&(a.head.removeChild(m[v]),v--,b--)}let h=a.head.innerHTML;(!a.head.querySelector('link[rel="stylesheet"]')||this.options.height==="auto"&&!a.head.querySelector("style"))&&(h+=o._setIframeCssTags(this.options)),this._wd.head.innerHTML=h,this._wd.body.innerHTML=this.convertContentsForEditor(a.body.innerHTML);const p=a.body.attributes;for(let m=0,v=p.length;m<v;m++)p[m].name!=="contenteditable"&&this._wd.body.setAttribute(p[m].name,p[m].value);if(!o.hasClass(this._wd.body,"sun-editor-editable")){const m=l._editableClass.split(" ");for(let v=0;v<m.length;v++)o.addClass(this._wd.body,l._editableClass[v])}}else e.element.wysiwyg.innerHTML=s.length>0?this.convertContentsForEditor(s):"<"+l.defaultTag+"><br></"+l.defaultTag+">"},_setEditorDataToCodeView:function(){const s=this.convertHTMLForCodeView(e.element.wysiwyg,!1);let a="";if(l.fullPage){const h=o.getAttributesToString(this._wd.body,null);a=`<!DOCTYPE html>
<html>
`+this._wd.head.outerHTML.replace(/>(?!\n)/g,`>
`)+"<body "+h+`>
`+s+`</body>
</html>`}else a=s;e.element.code.style.display="block",e.element.wysiwygFrame.style.display="none",this._setCodeView(a)},toggleFullScreen:function(s){const a=e.element.topArea,h=e.element.toolbar,p=e.element.editorArea,m=e.element.wysiwygFrame,v=e.element.code,b=this._variable;this.controllersOff();const w=h.style.display==="none"||this._isInline&&!this._inlineToolbarAttr.isShow;b.isFullScreen?(b.isFullScreen=!1,m.style.cssText=b._wysiwygOriginCssText,v.style.cssText=b._codeOriginCssText,h.style.cssText="",p.style.cssText=b._editorAreaOriginCssText,a.style.cssText=b._originCssText,u.body.style.overflow=b._bodyOverflow,l.height==="auto"&&!l.codeMirrorEditor&&g._codeViewAutoHeight(),l.toolbarContainer&&l.toolbarContainer.appendChild(h),l.stickyToolbar>-1&&o.removeClass(h,"se-toolbar-sticky"),b._fullScreenAttrs.sticky&&!l.toolbarContainer&&(b._fullScreenAttrs.sticky=!1,e.element._stickyDummy.style.display="block",o.addClass(h,"se-toolbar-sticky")),this._isInline=b._fullScreenAttrs.inline,this._isBalloon=b._fullScreenAttrs.balloon,this._isInline&&g._showToolbarInline(),l.toolbarContainer&&o.removeClass(h,"se-toolbar-balloon"),g.onScroll_window(),s&&o.changeElement(s.firstElementChild,f.expansion),e.element.topArea.style.marginTop="",o.removeClass(this._styleCommandMap.fullScreen,"active")):(b.isFullScreen=!0,b._fullScreenAttrs.inline=this._isInline,b._fullScreenAttrs.balloon=this._isBalloon,(this._isInline||this._isBalloon)&&(this._isInline=!1,this._isBalloon=!1),l.toolbarContainer&&e.element.relative.insertBefore(h,p),a.style.position="fixed",a.style.top="0",a.style.left="0",a.style.width="100%",a.style.maxWidth="100%",a.style.height="100%",a.style.zIndex="2147483647",e.element._stickyDummy.style.display!==""&&(b._fullScreenAttrs.sticky=!0,e.element._stickyDummy.style.display="none",o.removeClass(h,"se-toolbar-sticky")),b._bodyOverflow=u.body.style.overflow,u.body.style.overflow="hidden",b._editorAreaOriginCssText=p.style.cssText,b._wysiwygOriginCssText=m.style.cssText,b._codeOriginCssText=v.style.cssText,p.style.cssText=h.style.cssText="",m.style.cssText=(m.style.cssText.match(/\s?display(\s+)?:(\s+)?[a-zA-Z]+;/)||[""])[0]+l._editorStyles.editor,v.style.cssText=(v.style.cssText.match(/\s?display(\s+)?:(\s+)?[a-zA-Z]+;/)||[""])[0],h.style.width=m.style.height=v.style.height="100%",h.style.position="relative",h.style.display="block",b.innerHeight_fullScreen=c.innerHeight-h.offsetHeight,p.style.height=b.innerHeight_fullScreen-l.fullScreenOffset+"px",s&&o.changeElement(s.firstElementChild,f.reduction),l.iframe&&l.height==="auto"&&(p.style.overflow="auto",this._iframeAutoHeight()),e.element.topArea.style.marginTop=l.fullScreenOffset+"px",o.addClass(this._styleCommandMap.fullScreen,"active")),w&&y.toolbar.hide(),typeof y.toggleFullScreen=="function"&&y.toggleFullScreen(this._variable.isFullScreen,this)},print:function(){const s=o.createElement("IFRAME");s.style.display="none",u.body.appendChild(s);const a=l.printTemplate?l.printTemplate.replace(/\{\{\s*contents\s*\}\}/i,this.getContents(!0)):this.getContents(!0),h=o.getIframeDocument(s),p=this._wd;if(l.iframe){const m=l._printClass!==null?'class="'+l._printClass+'"':l.fullPage?o.getAttributesToString(p.body,["contenteditable"]):'class="'+l._editableClass+'"';h.write("<!DOCTYPE html><html><head>"+p.head.innerHTML+"</head><body "+m+">"+a+"</body></html>")}else{const m=u.head.getElementsByTagName("link"),v=u.head.getElementsByTagName("style");let b="";for(let w=0,E=m.length;w<E;w++)b+=m[w].outerHTML;for(let w=0,E=v.length;w<E;w++)b+=v[w].outerHTML;h.write("<!DOCTYPE html><html><head>"+b+'</head><body class="'+(l._printClass!==null?l._printClass:l._editableClass)+'">'+a+"</body></html>")}this.showLoading(),c.setTimeout(function(){try{if(s.focus(),o.isIE_Edge||o.isChromium||u.documentMode||c.StyleMedia)try{s.contentWindow.document.execCommand("print",!1,null)}catch{s.contentWindow.print()}else s.contentWindow.print()}catch(m){throw Error("[SUNEDITOR.core.print.fail] error: "+m)}finally{d.closeLoading(),o.removeItem(s)}},1e3)},preview:function(){d.submenuOff(),d.containerOff(),d.controllersOff();const s=l.previewTemplate?l.previewTemplate.replace(/\{\{\s*contents\s*\}\}/i,this.getContents(!0)):this.getContents(!0),a=c.open("","_blank");a.mimeType="text/html";const h=this._wd;if(l.iframe){const p=l._printClass!==null?'class="'+l._printClass+'"':l.fullPage?o.getAttributesToString(h.body,["contenteditable"]):'class="'+l._editableClass+'"';a.document.write("<!DOCTYPE html><html><head>"+h.head.innerHTML+"<style>body {overflow:auto !important; margin: 10px auto !important; height:auto !important; outline:1px dashed #ccc;}</style></head><body "+p+">"+s+"</body></html>")}else{const p=u.head.getElementsByTagName("link"),m=u.head.getElementsByTagName("style");let v="";for(let b=0,w=p.length;b<w;b++)v+=p[b].outerHTML;for(let b=0,w=m.length;b<w;b++)v+=m[b].outerHTML;a.document.write('<!DOCTYPE html><html><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>'+n.toolbar.preview+"</title>"+v+'</head><body class="'+(l._printClass!==null?l._printClass:l._editableClass)+'" style="margin:10px auto !important; height:auto !important; outline:1px dashed #ccc;">'+s+"</body></html>")}},setDir:function(s){const a=s==="rtl",h=this._prevRtl!==a;this._prevRtl=l.rtl=a,h&&(this.plugins.align&&this.plugins.align.exchangeDir.call(this),e.tool.indent&&o.changeElement(e.tool.indent.firstElementChild,f.indent),e.tool.outdent&&o.changeElement(e.tool.outdent.firstElementChild,f.outdent));const p=e.element;a?(o.addClass(p.topArea,"se-rtl"),o.addClass(p.wysiwygFrame,"se-rtl")):(o.removeClass(p.topArea,"se-rtl"),o.removeClass(p.wysiwygFrame,"se-rtl"));const m=o.getListChildren(p.wysiwyg,function(b){return o.isFormatElement(b)&&(b.style.marginRight||b.style.marginLeft||b.style.textAlign)});for(let b=0,w=m.length,E,x,k;b<w;b++)E=m[b],k=E.style.marginRight,x=E.style.marginLeft,(k||x)&&(E.style.marginRight=x,E.style.marginLeft=k),k=E.style.textAlign,k==="left"?E.style.textAlign="right":k==="right"&&(E.style.textAlign="left");const v=e.tool;v.dir&&(o.changeTxt(v.dir.querySelector(".se-tooltip-text"),n.toolbar[l.rtl?"dir_ltr":"dir_rtl"]),o.changeElement(v.dir.firstElementChild,f[l.rtl?"dir_ltr":"dir_rtl"])),v.dir_ltr&&(a?o.removeClass(v.dir_ltr,"active"):o.addClass(v.dir_ltr,"active")),v.dir_rtl&&(a?o.addClass(v.dir_rtl,"active"):o.removeClass(v.dir_rtl,"active"))},setContents:function(s){this.removeRange();const a=s==null?"":this.convertContentsForEditor(s,null,null);if(!this._variable.isCodeView)e.element.wysiwyg.innerHTML=a,this._resetComponents(),this.history.push(!1);else{const h=this.convertHTMLForCodeView(a,!1);this._setCodeView(h)}},setIframeContents:function(s){if(!l.iframe)return!1;s.head&&(this._wd.head.innerHTML=this.options.__allowedScriptTag?s.head:s.head.replace(this.__scriptTagRegExp,"")),s.body&&(this._wd.body.innerHTML=this.convertContentsForEditor(s.body)),this._resetComponents()},getContents:function(s){const a=this.cleanHTML(e.element.wysiwyg.innerHTML,null,null),h=o.createElement("DIV");h.innerHTML=a;const p=o.getListChildren(h,function(m){return m.hasAttribute("contenteditable")});for(let m=0,v=p.length;m<v;m++)p[m].removeAttribute("contenteditable");if(l.fullPage&&!s){const m=o.getAttributesToString(this._wd.body,["contenteditable"]);return"<!DOCTYPE html><html>"+this._wd.head.outerHTML+"<body "+m+">"+h.innerHTML+"</body></html>"}else return h.innerHTML},getFullContents:function(s){return'<div class="sun-editor-editable'+(l.rtl?" se-rtl":"")+'">'+this.getContents(s)+"</div>"},_makeLine:function(s,a){const h=l.defaultTag;if(s.nodeType===1){if(this.__disallowedTagNameRegExp.test(s.nodeName))return"";if(/__se__tag/.test(s.className))return s.outerHTML;const p=o.getListChildNodes(s,function(m){return o.isSpanWithoutAttr(m)&&!o.getParentElement(m,o.isNotCheckingNode)})||[];for(let m=p.length-1;m>=0;m--)p[m].outerHTML=p[m].innerHTML;return!a||o.isFormatElement(s)||o.isRangeFormatElement(s)||o.isComponent(s)||o.isFigures(s)||o.isAnchor(s)&&o.isMedia(s.firstElementChild)?o.isSpanWithoutAttr(s)?s.innerHTML:s.outerHTML:"<"+h+">"+(o.isSpanWithoutAttr(s)?s.innerHTML:s.outerHTML)+"</"+h+">"}if(s.nodeType===3){if(!a)return o._HTMLConvertor(s.textContent);const p=s.textContent.split(/\n/g);let m="";for(let v=0,b=p.length,w;v<b;v++)w=p[v].trim(),w.length>0&&(m+="<"+h+">"+o._HTMLConvertor(w)+"</"+h+">");return m}return s.nodeType===8&&this._allowHTMLComments?"<!--"+s.textContent.trim()+"-->":""},_tagConvertor:function(s){if(!this._disallowedTextTagsRegExp)return s;const a=l._textTagsMap;return s.replace(this._disallowedTextTagsRegExp,function(h,p,m,v){return p+(typeof a[m]=="string"?a[m]:m)+(v?" "+v:"")})},_deleteDisallowedTags:function(s){return s=s.replace(this.__disallowedTagsRegExp,"").replace(/<[a-z0-9]+\:[a-z0-9]+[^>^\/]*>[^>]*<\/[a-z0-9]+\:[a-z0-9]+>/gi,""),/\bfont\b/i.test(this.options._editorTagsWhitelist)||(s=s.replace(/(<\/?)font(\s?)/gi,"$1span$2")),s.replace(this.editorTagsWhitelistRegExp,"").replace(this.editorTagsBlacklistRegExp,"")},_convertFontSize:function(s,a){const h=this._w.Math,p=a.match(/(\d+(?:\.\d+)?)(.+)/),m=p?p[1]*1:o.fontValueMap[a],v=p?p[2]:"rem";let b=m;switch(/em/.test(v)?b=h.round(m/.0625):v==="pt"?b=h.round(m*1.333):v==="%"&&(b=m/100),s){case"em":case"rem":case"%":return(b*.0625).toFixed(2)+s;case"pt":return h.floor(b/1.333)+s;default:return b+s}},_cleanStyle:function(s,a,h){let p=(s.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/)||[])[0];if(/span/i.test(h)&&!p&&(s.match(/<[^\s]+\s(.+)/)||[])[1]){const m=(s.match(/\ssize="([^"]+)"/i)||[])[1],v=(s.match(/\sface="([^"]+)"/i)||[])[1],b=(s.match(/\scolor="([^"]+)"/i)||[])[1];(m||v||b)&&(p='style="'+(m?"font-size:"+this.util.getNumber(m/3.333,1)+"rem;":"")+(v?"font-family:"+v+";":"")+(b?"color:"+b+";":"")+'"')}if(p){a||(a=[]);const m=p.replace(/&quot;/g,"").match(this._cleanStyleRegExp[h]);if(m){const v=[];for(let b=0,w=m.length,E;b<w;b++)if(E=m[b].match(/([a-zA-Z0-9-]+)(:)([^"']+)/),E&&!/inherit|initial|revert|unset/i.test(E[3])){const x=o.kebabToCamelCase(E[1].trim()),k=this.wwComputedStyle[x].replace(/"/g,""),B=E[3].trim();switch(x){case"fontFamily":if(!l.plugins.font||l.font.indexOf(B)===-1)continue;break;case"fontSize":if(!l.plugins.fontSize)continue;this._cleanStyleRegExp.fontSizeUnit.test(E[0])||(E[0]=E[0].replace((E[0].match(/:\s*([^;]+)/)||[])[1],this._convertFontSize.bind(this,l.fontSizeUnit)));break;case"color":if(!l.plugins.fontColor||/rgba\(([0-9]+\s*,\s*){3}0\)|windowtext/i.test(B))continue;break;case"backgroundColor":if(!l.plugins.hiliteColor||/rgba\(([0-9]+\s*,\s*){3}0\)|windowtext/i.test(B))continue;break}k!==B&&v.push(E[0])}v.length>0&&a.push('style="'+v.join(";")+'"')}}return a},_cleanTags:function(s,a,h){if(/^<[a-z0-9]+\:[a-z0-9]+/i.test(a))return a;let p=null;const m=h.match(/(?!<)[a-zA-Z0-9\-]+/)[0].toLowerCase(),v=this._attributesTagsBlacklist[m];a=a.replace(/\s(?:on[a-z]+)\s*=\s*(")[^"]*\1/ig,""),v?a=a.replace(v,""):a=a.replace(this._attributesBlacklistRegExp,"");const b=this._attributesTagsWhitelist[m];if(b?p=a.match(b):p=a.match(s?this._attributesWhitelistRegExp:this._attributesWhitelistRegExp_all_data),s||m==="span"||m==="li"||this._cleanStyleRegExp[m])if(m==="a"){const w=a.match(/(?:(?:id|name)\s*=\s*(?:"|')[^"']*(?:"|'))/g);w&&(p||(p=[]),p.push(w[0]))}else(!p||!/style=/i.test(p.toString()))&&((m==="span"||m==="li")&&(p=this._cleanStyle(a,p,"span")),this._cleanStyleRegExp[m]?p=this._cleanStyle(a,p,m):/^(P|DIV|H[1-6]|PRE)$/i.test(m)&&(p=this._cleanStyle(a,p,"format")));else{const w=a.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/);w&&!p?p=[w[0]]:w&&!p.some(function(E){return/^style/.test(E.trim())})&&p.push(w[0])}if(o.isFigures(m)){const w=a.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/);p||(p=[]),w&&p.push(w[0])}if(p)for(let w=0,E=p.length,x;w<E;w++)x=/^(?:href|src)\s*=\s*('|"|\s)*javascript\s*\:/i.test(p[w].trim())?"":p[w],h+=(/^\s/.test(x)?"":" ")+x;return h},_editFormat:function(s){let a="",h;const p=s.childNodes;for(let m=0,v=p.length,b;m<v;m++)b=p[m],b.nodeType===8?a+="<!-- "+b.textContent+" -->":!o.isFormatElement(b)&&!o.isRangeFormatElement(b)&&!o.isComponent(b)&&!/meta/i.test(b.nodeName)?(h||(h=o.createElement(l.defaultTag)),h.appendChild(b),m--,v--):(h&&(a+=h.outerHTML,h=null),a+=b.outerHTML);return h&&(a+=h.outerHTML),u.createRange().createContextualFragment(a)},_convertListCell:function(s){let a="";for(let h=0,p=s.length,m;h<p;h++)m=s[h],m.nodeType===1?o.isList(m)?a+=m.innerHTML:o.isListCell(m)?a+=m.outerHTML:o.isFormatElement(m)?a+="<li>"+(m.innerHTML.trim()||"<br>")+"</li>":o.isRangeFormatElement(m)&&!o.isTable(m)?a+=this._convertListCell(m):a+="<li>"+m.outerHTML+"</li>":a+="<li>"+(m.textContent||"<br>")+"</li>";return a},_isFormatData:function(s){let a=!1;for(let h=0,p=s.length,m;h<p;h++)if(m=s[h],m.nodeType===1&&!o.isTextStyleElement(m)&&!o.isBreak(m)&&!this.__disallowedTagNameRegExp.test(m.nodeName)){a=!0;break}return a},cleanHTML:function(s,a,h){if(!l.strictMode)return s;s=this._deleteDisallowedTags(this._parser.parseFromString(o.htmlCompress(s),"text/html").body.innerHTML).replace(/(<[a-zA-Z0-9\-]+)[^>]*(?=>)/g,this._cleanTags.bind(this,!0)).replace(/<br\/?>$/i,"");const p=u.createRange().createContextualFragment(s);try{o._consistencyCheckOfHTML(p,this._htmlCheckWhitelistRegExp,this._htmlCheckBlacklistRegExp,this._classNameFilter)}catch(w){console.warn("[SUNEDITOR.cleanHTML.consistencyCheck.fail] "+w)}if(this.managedTagsInfo&&this.managedTagsInfo.query){const w=p.querySelectorAll(this.managedTagsInfo.query);for(let E=0,x=w.length,k,B;E<x;E++){B=[].slice.call(w[E].classList);for(let N=0,L=B.length;N<L;N++)if(k=this.managedTagsInfo.map[B[N]],k){k(w[E]);break}}}let m=p.childNodes,v="";const b=this._isFormatData(m);b&&(m=this._editFormat(p).childNodes);for(let w=0,E=m.length,x;w<E;w++){if(x=m[w],this.__allowedScriptRegExp.test(x.nodeName)){v+=x.outerHTML;continue}v+=this._makeLine(x,b)}return v=o.htmlRemoveWhiteSpace(v),v?(a&&(v=v.replace(typeof a=="string"?o.createTagsWhitelist(a):a,"")),h&&(v=v.replace(typeof h=="string"?o.createTagsBlacklist(h):h,""))):v=s,this._tagConvertor(v)},convertContentsForEditor:function(s){if(!l.strictMode)return s;s=this._deleteDisallowedTags(this._parser.parseFromString(o.htmlCompress(s),"text/html").body.innerHTML).replace(/(<[a-zA-Z0-9\-]+)[^>]*(?=>)/g,this._cleanTags.bind(this,!0));const a=u.createRange().createContextualFragment(s);try{o._consistencyCheckOfHTML(a,this._htmlCheckWhitelistRegExp,this._htmlCheckBlacklistRegExp,this._classNameFilter)}catch(v){console.warn("[SUNEDITOR.convertContentsForEditor.consistencyCheck.fail] "+v)}if(this.managedTagsInfo&&this.managedTagsInfo.query){const v=a.querySelectorAll(this.managedTagsInfo.query);for(let b=0,w=v.length,E,x;b<w;b++){x=[].slice.call(v[b].classList);for(let k=0,B=x.length;k<B;k++)if(E=this.managedTagsInfo.map[x[k]],E){E(v[b]);break}}}const h=a.childNodes;let p="",m=null;for(let v=0,b;v<h.length;v++){if(b=h[v],this.__allowedScriptRegExp.test(b.nodeName)){p+=b.outerHTML;continue}if(!o.isFormatElement(b)&&!o.isRangeFormatElement(b)&&!o.isComponent(b)&&!o.isFigures(b)&&b.nodeType!==8&&!/__se__tag/.test(b.className)){if(m||(m=o.createElement(l.defaultTag)),m.appendChild(b),v--,h[v+1]&&!o.isFormatElement(h[v+1]))continue;b=m,m=null}m&&(p+=this._makeLine(m,!0),m=null),p+=this._makeLine(b,!0)}return m&&(p+=this._makeLine(m,!0)),p.length===0?"<"+l.defaultTag+"><br></"+l.defaultTag+">":(p=o.htmlRemoveWhiteSpace(p),this._tagConvertor(p))},convertHTMLForCodeView:function(s,a){let h="";const p=c.RegExp,m=new p("^(BLOCKQUOTE|PRE|TABLE|THEAD|TBODY|TR|TH|TD|OL|UL|IMG|IFRAME|VIDEO|AUDIO|FIGURE|FIGCAPTION|HR|BR|CANVAS|SELECT)$","i"),v=typeof s=="string"?u.createRange().createContextualFragment(s):s,b=(function(x){return this.isFormatElement(x)||this.isComponent(x)}).bind(o),w=a?"":`
`;let E=a?0:this._variable.codeIndent*1;return E=E>0?new c.Array(E+1).join(" "):"",function x(k,B){const N=k.childNodes,L=m.test(k.nodeName),I=L?B:"";for(let O=0,P=N.length,M,R,$,A,F,z;O<P;O++){if(M=N[O],A=m.test(M.nodeName),R=A?w:"",$=b(M)&&!L&&!/^(TH|TD)$/i.test(k.nodeName)?w:"",M.nodeType===8){h+=`
<!-- `+M.textContent.trim()+" -->"+R;continue}if(M.nodeType===3){o.isList(M.parentElement)||(h+=o._HTMLConvertor(/^\n+$/.test(M.data)?"":M.data));continue}if(M.childNodes.length===0){h+=(/^HR$/i.test(M.nodeName)?w:"")+(/^PRE$/i.test(M.parentElement.nodeName)&&/^BR$/i.test(M.nodeName)?"":I)+M.outerHTML+R;continue}M.outerHTML?(F=M.nodeName.toLowerCase(),z=I||A?B:"",h+=($||(L?"":R))+z+M.outerHTML.match(p("<"+F+"[^>]*>","i"))[0]+R,x(M,B+E),h+=(/\n$/.test(h)?z:"")+"</"+F+">"+($||R||L||/^(TH|TD)$/i.test(M.nodeName)?w:"")):h+=new c.XMLSerializer().serializeToString(M)}}(v,""),h.trim()+w},addDocEvent:function(s,a,h){u.addEventListener(s,a,h),l.iframe&&this._wd.addEventListener(s,a)},removeDocEvent:function(s,a){u.removeEventListener(s,a),l.iframe&&this._wd.removeEventListener(s,a)},_charCount:function(s){const a=l.maxCharCount,h=l.charCounterType;let p=0;if(s&&(p=this.getCharLength(s,h)),this._setCharCount(),a>0){let m=!1;const v=y.getCharCount(h);if(v>a){if(m=!0,p>0){this._editorRange();const b=this.getRange(),w=b.endOffset-1,E=this.getSelectionNode().textContent,x=b.endOffset-(v-a);this.getSelectionNode().textContent=E.slice(0,x<0?0:x)+E.slice(b.endOffset,E.length),this.setRange(b.endContainer,w,b.endContainer,w)}}else v+p>a&&(m=!0);if(m&&(this._callCounterBlink(),p>0))return!1}return!0},checkCharCount:function(s,a){if(l.maxCharCount){const h=a||l.charCounterType,p=this.getCharLength(typeof s=="string"?s:this._charTypeHTML&&s.nodeType===1?s.outerHTML:s.textContent,h);if(p>0&&p+y.getCharCount(h)>l.maxCharCount)return this._callCounterBlink(),!1}return!0},getCharLength:function(s,a){return/byte/.test(a)?o.getByteLength(s):s.length},resetResponsiveToolbar:function(){d.controllersOff();const s=g._responsiveButtonSize;if(s){let a=0;(d._isBalloon||d._isInline)&&l.toolbarWidth==="auto"?a=e.element.topArea.offsetWidth:a=e.element.toolbar.offsetWidth;let h="default";for(let p=1,m=s.length;p<m;p++)if(a<s[p]){h=s[p]+"";break}g._responsiveCurrentSize!==h&&(g._responsiveCurrentSize=h,y.setToolbarButtons(g._responsiveButtons[h]))}},_setCharCount:function(){e.element.charCounter&&c.setTimeout((function(s,a){this.textContent&&s&&(this.textContent=s.getCharCount(a.charCounterType))}).bind(e.element.charCounter,y,l),0)},_callCounterBlink:function(){const s=e.element.charWrapper;s&&!o.hasClass(s,"se-blink")&&(o.addClass(s,"se-blink"),c.setTimeout(function(){o.removeClass(s,"se-blink")},600))},_checkComponents:function(){for(let s=0,a=this._fileInfoPluginsCheck.length;s<a;s++)this._fileInfoPluginsCheck[s]()},_resetComponents:function(){for(let s=0,a=this._fileInfoPluginsReset.length;s<a;s++)this._fileInfoPluginsReset[s]()},_setCodeView:function(s){l.codeMirrorEditor?l.codeMirrorEditor.getDoc().setValue(s):e.element.code.value=s},_getCodeView:function(){return l.codeMirrorEditor?l.codeMirrorEditor.getDoc().getValue():e.element.code.value},_setKeyEffect:function(s){const a=this.commandMap,h=this.activePlugins;for(let p in a)s.indexOf(p)>-1||!o.hasOwn(a,p)||(h.indexOf(p)>-1?i[p].active.call(this,null):a.OUTDENT&&/^OUTDENT$/i.test(p)?o.isImportantDisabled(a.OUTDENT)||a.OUTDENT.setAttribute("disabled",!0):a.INDENT&&/^INDENT$/i.test(p)?o.isImportantDisabled(a.INDENT)||a.INDENT.removeAttribute("disabled"):o.removeClass(a[p],"active"))},_init:function(s,a){const h=c.RegExp;this._ww=l.iframe?e.element.wysiwygFrame.contentWindow:c,this._wd=u,this._charTypeHTML=l.charCounterType==="byte-html",this.wwComputedStyle=c.getComputedStyle(e.element.wysiwyg),this._editorHeight=e.element.wysiwygFrame.offsetHeight,this._editorHeightPadding=o.getNumber(this.wwComputedStyle.getPropertyValue("padding-top"))+o.getNumber(this.wwComputedStyle.getPropertyValue("padding-bottom")),this._classNameFilter=(function(R){return this.test(R)?R:""}).bind(l.allowedClassNames);const p=l.__allowedScriptTag?"":"script|";if(this.__scriptTagRegExp=new h("<(script)[^>]*>([\\s\\S]*?)<\\/\\1>|<script[^>]*\\/?>","gi"),this.__disallowedTagsRegExp=new h("<("+p+"style)[^>]*>([\\s\\S]*?)<\\/\\1>|<("+p+"style)[^>]*\\/?>","gi"),this.__disallowedTagNameRegExp=new h("^("+p+"meta|link|style|[a-z]+:[a-z]+)$","i"),this.__allowedScriptRegExp=new h("^"+(l.__allowedScriptTag?"script":"")+"$","i"),!l.iframe&&typeof c.ShadowRoot=="function"){let R=e.element.wysiwygFrame;for(;R;){if(R.shadowRoot){this._shadowRoot=R.shadowRoot;break}else if(R instanceof c.ShadowRoot){this._shadowRoot=R;break}R=R.parentNode}this._shadowRoot&&(this._shadowRootControllerEventTarget=[])}const m=c.Object.keys(l._textTagsMap),v=l.addTagsWhitelist?l.addTagsWhitelist.split("|").filter(function(R){return/b|i|ins|s|strike/i.test(R)}):[];for(let R=0;R<v.length;R++)m.splice(m.indexOf(v[R].toLowerCase()),1);this._disallowedTextTagsRegExp=m.length===0?null:new h("(<\\/?)("+m.join("|")+")\\b\\s*([^>^<]+)?\\s*(?=>)","gi");const b=function(R,$){return R?R==="*"?"[a-z-]+":$?R+"|"+$:R:"^"},w="contenteditable|colspan|rowspan|target|href|download|rel|src|alt|class|type|controls|origin-size",E="data-format|data-size|data-file-size|data-file-name|data-origin|data-align|data-image-link|data-rotate|data-proportion|data-percentage|data-exp|data-font-size";this._allowHTMLComments=l._editorTagsWhitelist.indexOf("//")>-1||l._editorTagsWhitelist==="*",this._htmlCheckWhitelistRegExp=new h("^("+b(l._editorTagsWhitelist.replace("|//",""),"")+")$","i"),this._htmlCheckBlacklistRegExp=new h("^("+(l.tagsBlacklist||"^")+")$","i"),this.editorTagsWhitelistRegExp=o.createTagsWhitelist(b(l._editorTagsWhitelist.replace("|//","|<!--|-->"),"")),this.editorTagsBlacklistRegExp=o.createTagsBlacklist(l.tagsBlacklist.replace("|//","|<!--|-->")),this.pasteTagsWhitelistRegExp=o.createTagsWhitelist(b(l.pasteTagsWhitelist,"")),this.pasteTagsBlacklistRegExp=o.createTagsBlacklist(l.pasteTagsBlacklist);const x='\\s*=\\s*(")[^"]*\\1',k=l.attributesWhitelist;let B={},N="";if(k)for(let R in k)!o.hasOwn(k,R)||/^on[a-z]+$/i.test(k[R])||(R==="all"?N=b(k[R],w):B[R]=new h("\\s(?:"+b(k[R],"")+")"+x,"ig"));this._attributesWhitelistRegExp=new h("\\s(?:"+(N||w+"|"+E)+")"+x,"ig"),this._attributesWhitelistRegExp_all_data=new h("\\s(?:"+((N||w)+"|data-[a-z0-9\\-]+")+")"+x,"ig"),this._attributesTagsWhitelist=B;const L=l.attributesBlacklist;if(B={},N="",L)for(let R in L)o.hasOwn(L,R)&&(R==="all"?N=b(L[R],""):B[R]=new h("\\s(?:"+b(L[R],"")+")"+x,"ig"));this._attributesBlacklistRegExp=new h("\\s(?:"+(N||"^")+")"+x,"ig"),this._attributesTagsBlacklist=B,this._isInline=/inline/i.test(l.mode),this._isBalloon=/balloon|balloon-always/i.test(l.mode),this._isBalloonAlways=/balloon-always/i.test(l.mode),this._cachingButtons(),this._fileInfoPluginsCheck=[],this._fileInfoPluginsReset=[],this.managedTagsInfo={query:"",map:{}};const I=[];this.activePlugins=[],this._fileManager.tags=[],this._fileManager.pluginMap={};let O=[],P,M;for(let R in i)if(o.hasOwn(i,R)){if(P=i[R],M=t[R],(P.active||P.action)&&M&&this.callPlugin(R,null,M),typeof P.checkFileInfo=="function"&&typeof P.resetFileInfo=="function"&&(this.callPlugin(R,null,M),this._fileInfoPluginsCheck.push(P.checkFileInfo.bind(this)),this._fileInfoPluginsReset.push(P.resetFileInfo.bind(this))),c.Array.isArray(P.fileTags)){const $=P.fileTags;this.callPlugin(R,null,M),this._fileManager.tags=this._fileManager.tags.concat($),O.push(R);for(let A=0,F=$.length;A<F;A++)this._fileManager.pluginMap[$[A].toLowerCase()]=R}if(P.managedTags){const $=P.managedTags();I.push("."+$.className),this.managedTagsInfo.map[$.className]=$.method.bind(this)}}this.managedTagsInfo.query=I.toString(),this._fileManager.queryString=this._fileManager.tags.join(","),this._fileManager.regExp=new h("^("+(this._fileManager.tags.join("|")||"^")+")$","i"),this._fileManager.pluginRegExp=new h("^("+(O.length===0?"^":O.join("|"))+")$","i"),this._variable._originCssText=e.element.topArea.style.cssText,this._placeholder=e.element.placeholder,this._lineBreaker=e.element.lineBreaker,this._lineBreakerButton=this._lineBreaker.querySelector("button"),this.history=yg(this,this._onChange_historyStack.bind(this)),this.addModule([_o]),l.iframe&&(this._wd=e.element.wysiwygFrame.contentDocument,e.element.wysiwyg=this._wd.body,l._editorStyles.editor&&(e.element.wysiwyg.style.cssText=l._editorStyles.editor),l.height==="auto"&&(this._iframeAuto=this._wd.body)),this._initWysiwygArea(s,a)},_cachingButtons:function(){this.codeViewDisabledButtons=e.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]:not([class~="se-code-view-enabled"]):not([data-display="MORE"])'),this.resizingDisabledButtons=e.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]:not([class~="se-resizing-enabled"]):not([data-display="MORE"])');const s=e.tool,a=this.commandMap;a.INDENT=s.indent,a.OUTDENT=s.outdent,a[l.textTags.bold.toUpperCase()]=s.bold,a[l.textTags.underline.toUpperCase()]=s.underline,a[l.textTags.italic.toUpperCase()]=s.italic,a[l.textTags.strike.toUpperCase()]=s.strike,a[l.textTags.sub.toUpperCase()]=s.subscript,a[l.textTags.sup.toUpperCase()]=s.superscript,this._styleCommandMap={fullScreen:s.fullScreen,showBlocks:s.showBlocks,codeView:s.codeView},this._saveButtonStates()},_initWysiwygArea:function(s,a){e.element.wysiwyg.innerHTML=s?a:this.convertContentsForEditor((typeof a=="string"?a:/^TEXTAREA$/i.test(e.element.originElement.nodeName)?e.element.originElement.value:e.element.originElement.innerHTML)||"")},_resourcesStateChange:function(){this._iframeAutoHeight(),this._checkPlaceholder()},_onChange_historyStack:function(){this.hasFocus&&g._applyTagEffects(),this._variable.isChanged=!0,e.tool.save&&e.tool.save.removeAttribute("disabled"),y.onChange&&y.onChange(this.getContents(!0),this),e.element.toolbar.style.display==="block"&&g._showToolbarBalloon()},_iframeAutoHeight:function(){this._iframeAuto?c.setTimeout(function(){const s=d._iframeAuto.offsetHeight;e.element.wysiwygFrame.style.height=s+"px",o.isResizeObserverSupported||d.__callResizeFunction(s,null)}):o.isResizeObserverSupported||d.__callResizeFunction(e.element.wysiwygFrame.offsetHeight,null)},__callResizeFunction:function(s,a){s=s===-1?a.borderBoxSize&&a.borderBoxSize[0]?a.borderBoxSize[0].blockSize:a.contentRect.height+this._editorHeightPadding:s,this._editorHeight!==s&&(typeof y.onResizeEditor=="function"&&y.onResizeEditor(s,this._editorHeight,d,a),this._editorHeight=s)},_checkPlaceholder:function(){if(this._placeholder){if(this._variable.isCodeView){this._placeholder.style.display="none";return}const s=e.element.wysiwyg;!o.onlyZeroWidthSpace(s.textContent)||s.querySelector(o._allowedEmptyNodeList)||(s.innerText.match(/\n/g)||"").length>1?this._placeholder.style.display="none":this._placeholder.style.display="block"}},_setDefaultFormat:function(s){if(this._fileManager.pluginRegExp.test(this.currentControllerName))return;const a=this.getRange(),h=a.commonAncestorContainer,p=a.startContainer,m=o.getRangeFormatElement(h,null);let v,b,w;const E=o.getParentElement(h,o.isComponent);if(!(E&&!o.isTable(E))){if(h.nodeType===1&&h.getAttribute("data-se-embed")==="true"){let x=h.nextElementSibling;o.isFormatElement(x)||(x=this.appendFormatTag(h,l.defaultTag)),this.setRange(x.firstChild,0,x.firstChild,0);return}if(!((o.isRangeFormatElement(p)||o.isWysiwygDiv(p))&&(o.isComponent(p.children[a.startOffset])||o.isComponent(p.children[a.startOffset-1])))){if(o.getParentElement(h,o.isNotCheckingNode))return null;if(m){w=o.createElement(s||l.defaultTag),w.innerHTML=m.innerHTML,w.childNodes.length===0&&(w.innerHTML=o.zeroWidthSpace),m.innerHTML=w.outerHTML,w=m.firstChild,v=o.getEdgeChildNodes(w,null).sc,v||(v=o.createTextNode(o.zeroWidthSpace),w.insertBefore(v,w.firstChild)),b=v.textContent.length,this.setRange(v,b,v,b);return}if(o.isRangeFormatElement(h)&&h.childNodes.length<=1){let x=null;h.childNodes.length===1&&o.isBreak(h.firstChild)?x=h.firstChild:(x=o.createTextNode(o.zeroWidthSpace),h.appendChild(x)),this.setRange(x,1,x,1);return}try{if(h.nodeType===3&&(w=o.createElement(s||l.defaultTag),h.parentNode.insertBefore(w,h),w.appendChild(h)),o.isBreak(w.nextSibling)&&o.removeItem(w.nextSibling),o.isBreak(w.previousSibling)&&o.removeItem(w.previousSibling),o.isBreak(v)){const x=o.createTextNode(o.zeroWidthSpace);v.parentNode.insertBefore(x,v),v=x}}catch{this.execCommand("formatBlock",!1,s||l.defaultTag),this.removeRange(),this._editorRange()}if(o.isBreak(w.nextSibling)&&o.removeItem(w.nextSibling),o.isBreak(w.previousSibling)&&o.removeItem(w.previousSibling),o.isBreak(v)){const x=o.createTextNode(o.zeroWidthSpace);v.parentNode.insertBefore(x,v),v=x}this.effectNode=null,this.nativeFocus()}}},_setOptionsInit:function(s,a){this.context=e=zi(s.originElement,this._getConstructed(s),l),this._componentsInfoReset=!0,this._editorInit(!0,a)},_editorInit:function(s,a){this._init(s,a),g._addEvent(),this._setCharCount(),g._offStickyToolbar(),g.onResize_window(),e.element.toolbar.style.visibility="";const h=l.frameAttrbutes;for(let p in h)e.element.wysiwyg.setAttribute(p,h[p]);this._checkComponents(),this._componentsInfoInit=!1,this._componentsInfoReset=!1,this.history.reset(!0),c.setTimeout(function(){typeof d._resourcesStateChange=="function"&&(g._resizeObserver&&g._resizeObserver.observe(e.element.wysiwygFrame),g._toolbarObserver&&g._toolbarObserver.observe(e.element._toolbarShadow),d._resourcesStateChange(),typeof y.onload=="function"&&y.onload(d,s))})},_getConstructed:function(s){return{_top:s.topArea,_relative:s.relative,_toolBar:s.toolbar,_toolbarShadow:s._toolbarShadow,_menuTray:s._menuTray,_editorArea:s.editorArea,_wysiwygArea:s.wysiwygFrame,_codeArea:s.code,_placeholder:s.placeholder,_resizingBar:s.resizingBar,_navigation:s.navigation,_charCounter:s.charCounter,_charWrapper:s.charWrapper,_loading:s.loading,_lineBreaker:s.lineBreaker,_lineBreaker_t:s.lineBreaker_t,_lineBreaker_b:s.lineBreaker_b,_resizeBack:s.resizeBackground,_stickyDummy:s._stickyDummy,_arrow:s._arrow}}},g={_IEisComposing:!1,_lineBreakerBind:null,_responsiveCurrentSize:"default",_responsiveButtonSize:null,_responsiveButtons:null,_cursorMoveKeyCode:new c.RegExp("^(8|3[2-9]|40|46)$"),_directionKeyCode:new c.RegExp("^(8|13|3[2-9]|40|46)$"),_nonTextKeyCode:new c.RegExp("^(8|13|1[6-9]|20|27|3[3-9]|40|45|46|11[2-9]|12[0-3]|144|145)$"),_historyIgnoreKeyCode:new c.RegExp("^(1[6-9]|20|27|3[3-9]|40|45|11[2-9]|12[0-3]|144|145)$"),_onButtonsCheck:new c.RegExp("^("+c.Object.keys(l._textTagsMap).join("|")+")$","i"),_frontZeroWidthReg:new c.RegExp(o.zeroWidthSpace+"+",""),_keyCodeShortcut:{65:"A",66:"B",83:"S",85:"U",73:"I",89:"Y",90:"Z",219:"[",221:"]"},_shortcutCommand:function(s,a){let h=null;const p=g._keyCodeShortcut[s];switch(p){case"A":h="selectAll";break;case"B":l.shortcutsDisable.indexOf("bold")===-1&&(h="bold");break;case"S":a&&l.shortcutsDisable.indexOf("strike")===-1?h="strike":!a&&l.shortcutsDisable.indexOf("save")===-1&&(h="save");break;case"U":l.shortcutsDisable.indexOf("underline")===-1&&(h="underline");break;case"I":l.shortcutsDisable.indexOf("italic")===-1&&(h="italic");break;case"Z":l.shortcutsDisable.indexOf("undo")===-1&&(a?h="redo":h="undo");break;case"Y":l.shortcutsDisable.indexOf("undo")===-1&&(h="redo");break;case"[":l.shortcutsDisable.indexOf("indent")===-1&&(h=l.rtl?"indent":"outdent");break;case"]":l.shortcutsDisable.indexOf("indent")===-1&&(h=l.rtl?"outdent":"indent");break}return h?(d.commandHandler(d.commandMap[h],h),!0):!!p},_applyTagEffects:function(){let s=d.getSelectionNode();if(s===d.effectNode)return;d.effectNode=s;const a=l.rtl?"marginRight":"marginLeft",h=d.commandMap,p=g._onButtonsCheck,m=[],v=[],b=d.activePlugins,w=b.length;let E="";for(;s.firstChild;)s=s.firstChild;for(let x=s;!o.isWysiwygDiv(x)&&x;x=x.parentNode)if(!(x.nodeType!==1||o.isBreak(x))){if(E=x.nodeName.toUpperCase(),v.push(E),!d.isReadOnly)for(let k=0,B;k<w;k++)B=b[k],m.indexOf(B)===-1&&i[B].active.call(d,x)&&m.push(B);if(o.isFormatElement(x)){m.indexOf("OUTDENT")===-1&&h.OUTDENT&&!o.isImportantDisabled(h.OUTDENT)&&(o.isListCell(x)||x.style[a]&&o.getNumber(x.style[a],0)>0)&&(m.push("OUTDENT"),h.OUTDENT.removeAttribute("disabled")),m.indexOf("INDENT")===-1&&h.INDENT&&!o.isImportantDisabled(h.INDENT)&&(m.push("INDENT"),o.isListCell(x)&&!x.previousElementSibling?h.INDENT.setAttribute("disabled",!0):h.INDENT.removeAttribute("disabled"));continue}p&&p.test(E)&&(m.push(E),o.addClass(h[E],"active"))}d._setKeyEffect(m),d._variable.currentNodes=v.reverse(),d._variable.currentNodesMap=m,l.showPathLabel&&(e.element.navigation.textContent=d._variable.currentNodes.join(" > "))},_buttonsEventHandler:function(s){let a=s.target;if(d._bindControllersOff&&s.stopPropagation(),/^(input|textarea|select|option)$/i.test(a.nodeName)?d._antiBlur=!1:s.preventDefault(),o.getParentElement(a,".se-submenu"))s.stopPropagation(),d._notHideToolbar=!0;else{let h=a.getAttribute("data-command"),p=a.className;for(;!h&&!/se-menu-list/.test(p)&&!/sun-editor-common/.test(p);)a=a.parentNode,h=a.getAttribute("data-command"),p=a.className;(h===d._submenuName||h===d._containerName)&&s.stopPropagation()}},addGlobalEvent(s,a,h){return l.iframe&&d._ww.addEventListener(s,a,h),d._w.addEventListener(s,a,h),{type:s,listener:a,useCapture:h}},removeGlobalEvent(s,a,h){s&&(typeof s=="object"&&(a=s.listener,h=s.useCapture,s=s.type),l.iframe&&d._ww.removeEventListener(s,a,h),d._w.removeEventListener(s,a,h))},onClick_toolbar:function(s){let a=s.target,h=a.getAttribute("data-display"),p=a.getAttribute("data-command"),m=a.className;for(d.controllersOff();a.parentNode&&!p&&!/se-menu-list/.test(m)&&!/se-toolbar/.test(m);)a=a.parentNode,p=a.getAttribute("data-command"),h=a.getAttribute("data-display"),m=a.className;!p&&!h||a.disabled||d.actionCall(p,h,a)},__selectionSyncEvent:null,onMouseDown_wysiwyg:function(s){if(d.isReadOnly||o.isNonEditable(e.element.wysiwyg))return;if(o._isExcludeSelectionElement(s.target)){s.preventDefault();return}if(g.removeGlobalEvent(g.__selectionSyncEvent),g.__selectionSyncEvent=g.addGlobalEvent("mouseup",function(){d._editorRange(),g.removeGlobalEvent(g.__selectionSyncEvent)}),typeof y.onMouseDown=="function"&&y.onMouseDown(s,d)===!1)return;const a=o.getParentElement(s.target,o.isCell);if(a){const h=d.plugins.table;h&&a!==h._fixedCell&&!h._shift&&d.callPlugin("table",function(){h.onTableCellMultiSelect.call(d,a,!1)},null)}d._isBalloon&&g._hideToolbar()},onClick_wysiwyg:function(s){const a=s.target;if(d.isReadOnly)return s.preventDefault(),o.isAnchor(a)&&c.open(a.href,a.target),!1;if(o.isNonEditable(e.element.wysiwyg)||typeof y.onClick=="function"&&y.onClick(s,d)===!1)return;const h=d.getFileComponent(a);if(h){s.preventDefault(),d.selectComponent(h.target,h.pluginName);return}const p=o.getParentElement(a,"FIGCAPTION");if(p&&o.isNonEditable(p)&&(s.preventDefault(),p.focus(),d._isInline&&!d._inlineToolbarAttr.isShow)){g._showToolbarInline();const x=function(){g._hideToolbar(),p.removeEventListener("blur",x)};p.addEventListener("blur",x)}if(d._editorRange(),s.detail===3){let x=d.getRange();o.isFormatElement(x.endContainer)&&x.endOffset===0&&(x=d.setRange(x.startContainer,x.startOffset,x.startContainer,x.startContainer.length),d._rangeInfo(x,d.getSelection()))}const m=d.getSelectionNode(),v=o.getFormatElement(m,null),b=o.getRangeFormatElement(m,null);let w=m;for(;w.firstChild;)w=w.firstChild;const E=d.getFileComponent(w);if(E){const x=d.getRange();!b&&x.startContainer===x.endContainer&&d.selectComponent(E.target,E.pluginName)}else d.currentFileComponentInfo&&d.controllersOff();if(!v&&!o.isNonEditable(a)&&!o.isList(b)){const x=d.getRange();if(o.getFormatElement(x.startContainer)===o.getFormatElement(x.endContainer))if(o.isList(b)){s.preventDefault();const k=o.createElement("LI"),B=m.nextElementSibling;k.appendChild(m),b.insertBefore(k,B),d.focus()}else!o.isWysiwygDiv(m)&&!o.isComponent(m)&&(!o.isTable(m)||o.isCell(m))&&d._setDefaultFormat(o.isRangeFormatElement(b)?"DIV":l.defaultTag)!==null?(s.preventDefault(),d.focus()):g._applyTagEffects()}else g._applyTagEffects();d._isBalloon&&c.setTimeout(g._toggleToolbarBalloon)},_balloonDelay:null,_showToolbarBalloonDelay:function(){g._balloonDelay&&c.clearTimeout(g._balloonDelay),g._balloonDelay=c.setTimeout((function(){c.clearTimeout(this._balloonDelay),this._balloonDelay=null,this._showToolbarBalloon()}).bind(g),350)},_toggleToolbarBalloon:function(){d._editorRange();const s=d.getRange();d._bindControllersOff||!d._isBalloonAlways&&s.collapsed?g._hideToolbar():g._showToolbarBalloon(s)},_showToolbarBalloon:function(s){if(!d._isBalloon)return;const a=s||d.getRange(),h=e.element.toolbar,p=e.element.topArea,m=d.getSelection();let v;if(d._isBalloonAlways&&a.collapsed)v=!0;else if(m.focusNode===m.anchorNode)v=m.focusOffset<m.anchorOffset;else{const R=o.getListChildNodes(a.commonAncestorContainer,null);v=o.getArrayIndex(R,m.focusNode)<o.getArrayIndex(R,m.anchorNode)}let b=a.getClientRects();b=b[v?0:b.length-1];const w=d.getGlobalScrollOffset();let E=w.left,x=w.top;const k=p.offsetWidth,B=g._getEditorOffsets(null),N=B.top,L=B.left;if(h.style.top="-10000px",h.style.visibility="hidden",h.style.display="block",!b){const R=d.getSelectionNode();if(o.isFormatElement(R)){const $=o.createTextNode(o.zeroWidthSpace);d.insertNode($,null,!1),d.setRange($,1,$,1),d._editorRange(),b=d.getRange().getClientRects(),b=b[v?0:b.length-1]}if(!b){const $=o.getOffset(R,e.element.wysiwygFrame);b={left:$.left,top:$.top,right:$.left,bottom:$.top+R.offsetHeight,noText:!0},E=0,x=0}v=!0}const I=c.Math.round(e.element._arrow.offsetWidth/2),O=h.offsetWidth,P=h.offsetHeight,M=/iframe/i.test(e.element.wysiwygFrame.nodeName)?e.element.wysiwygFrame.getClientRects()[0]:null;if(M&&(b={left:b.left+M.left,top:b.top+M.top,right:b.right+M.right-M.width,bottom:b.bottom+M.bottom-M.height}),g._setToolbarOffset(v,b,h,L,k,E,x,N,I),(O!==h.offsetWidth||P!==h.offsetHeight)&&g._setToolbarOffset(v,b,h,L,k,E,x,N,I),l.toolbarContainer){const R=p.parentElement;let $=l.toolbarContainer,A=$.offsetLeft,F=$.offsetTop;for(;!$.parentElement.contains(R)||!/^(BODY|HTML)$/i.test($.parentElement.nodeName);)$=$.offsetParent,A+=$.offsetLeft,F+=$.offsetTop;h.style.left=h.offsetLeft-A+p.offsetLeft+"px",h.style.top=h.offsetTop-F+p.offsetTop+"px"}h.style.visibility=""},_setToolbarOffset:function(s,a,h,p,m,v,b,w,E){const k=h.offsetWidth,B=a.noText&&!s?0:h.offsetHeight,N=(s?a.left:a.right)-p-k/2+v,L=N+k-m;let I=(s?a.top-B-E:a.bottom+E)-(a.noText?0:w)+b,O=N<0?1:L<0?N:N-L-1-1,P=!1;const M=I+(s?g._getEditorOffsets(null).top:h.offsetHeight-e.element.wysiwyg.offsetHeight);!s&&M>0&&g._getPageBottomSpace()<M?(s=!0,P=!0):s&&u.documentElement.offsetTop>M&&(s=!1,P=!0),P&&(I=(s?a.top-B-E:a.bottom+E)-(a.noText?0:w)+b),h.style.left=c.Math.floor(O)+"px",h.style.top=c.Math.floor(I)+"px",s?(o.removeClass(e.element._arrow,"se-arrow-up"),o.addClass(e.element._arrow,"se-arrow-down"),e.element._arrow.style.top=B+"px"):(o.removeClass(e.element._arrow,"se-arrow-down"),o.addClass(e.element._arrow,"se-arrow-up"),e.element._arrow.style.top=-E+"px");const R=c.Math.floor(k/2+(N-O));e.element._arrow.style.left=(R+E>h.offsetWidth?h.offsetWidth-E:R<E?E:R)+"px"},_showToolbarInline:function(){if(!d._isInline)return;const s=e.element.toolbar;l.toolbarContainer?s.style.position="relative":s.style.position="absolute",s.style.visibility="hidden",s.style.display="block",d._inlineToolbarAttr.width=s.style.width=l.toolbarWidth,d._inlineToolbarAttr.top=s.style.top=(l.toolbarContainer?0:-1-s.offsetHeight)+"px",typeof y.showInline=="function"&&y.showInline(s,e,d),g.onScroll_window(),d._inlineToolbarAttr.isShow=!0,s.style.visibility=""},_hideToolbar:function(){!d._notHideToolbar&&!d._variable.isFullScreen&&(e.element.toolbar.style.display="none",d._inlineToolbarAttr.isShow=!1)},onInput_wysiwyg:function(s){if(/AUDIO/.test(s.target.nodeName))return!1;if(d.isReadOnly||d.isDisabled)return s.preventDefault(),s.stopPropagation(),d.history.go(d.history.getCurrentIndex()),!1;d._editorRange();const a=(s.data===null?"":s.data===void 0?" ":s.data)||"";if(!d._charCount(a))return s.preventDefault(),s.stopPropagation(),!1;typeof y.onInput=="function"&&y.onInput(s,d)===!1||d.history.push(!0)},_isUneditableNode:function(s,a){const h=a?s.startContainer:s.endContainer,p=a?s.startOffset:s.endOffset,m=a?"previousSibling":"nextSibling",v=h.nodeType===1;let b;return v?(b=g._isUneditableNode_getSibling(h.childNodes[p],m,h),b&&b.nodeType===1&&b.getAttribute("contenteditable")==="false"):(b=g._isUneditableNode_getSibling(h,m,h),d.isEdgePoint(h,p,a?"front":"end")&&b&&b.nodeType===1&&b.getAttribute("contenteditable")==="false")},_isUneditableNode_getSibling:function(s,a,h){if(!s)return null;let p=s[a];if(!p)if(p=o.getFormatElement(h),p=p?p[a]:null,p&&!o.isComponent(p))p=a==="previousSibling"?p.firstChild:p.lastChild;else return null;return p},_onShortcutKey:!1,onKeyDown_wysiwyg:function(s){let a=d.getSelectionNode();if(o.isInputElement(a))return;const h=s.keyCode,p=s.shiftKey,m=s.ctrlKey||s.metaKey||h===91||h===92||h===224,v=s.altKey;if(g._IEisComposing=h===229,!m&&d.isReadOnly&&!g._cursorMoveKeyCode.test(h))return s.preventDefault(),!1;if(d.submenuOff(),d._isBalloon&&g._hideToolbar(),typeof y.onKeyDown=="function"&&y.onKeyDown(s,d)===!1)return;if(m&&g._shortcutCommand(h,p))return g._onShortcutKey=!0,s.preventDefault(),s.stopPropagation(),!1;g._onShortcutKey&&(g._onShortcutKey=!1);const b=d.getRange(),w=!b.collapsed||b.startContainer!==b.endContainer,E=d._fileManager.pluginRegExp.test(d.currentControllerName)?d.currentControllerName:"";let x=o.getFormatElement(a,null)||a,k=o.getRangeFormatElement(x,null);if(!(/37|38|39|40/.test(s.keyCode)&&g._onKeyDown_wysiwyg_arrowKey(s)===!1)){switch(h){case 8:if(!w&&E){s.preventDefault(),s.stopPropagation(),d.plugins[E].destroy.call(d);break}if(w&&g._hardDelete()){s.preventDefault(),s.stopPropagation();break}if(!o.isFormatElement(x)&&!e.element.wysiwyg.firstElementChild&&!o.isComponent(a)&&d._setDefaultFormat(l.defaultTag)!==null)return s.preventDefault(),s.stopPropagation(),!1;if(!w&&!x.previousElementSibling&&b.startOffset===0&&!a.previousSibling&&!o.isListCell(x)&&o.isFormatElement(x)&&(!o.isFreeFormatElement(x)||o.isClosureFreeFormatElement(x))){if(o.isClosureRangeFormatElement(x.parentNode))return s.preventDefault(),s.stopPropagation(),!1;if(o.isWysiwygDiv(x.parentNode)&&x.childNodes.length<=1&&(!x.firstChild||o.onlyZeroWidthSpace(x.textContent))){if(s.preventDefault(),s.stopPropagation(),x.nodeName.toUpperCase()===l.defaultTag.toUpperCase()){x.innerHTML="<br>";const z=x.attributes;for(;z[0];)x.removeAttribute(z[0].name)}else{const z=o.createElement(l.defaultTag);z.innerHTML="<br>",x.parentElement.replaceChild(z,x)}return d.nativeFocus(),!1}}const N=b.startContainer;if(x&&!x.previousElementSibling&&b.startOffset===0&&N.nodeType===3&&!o.isFormatElement(N.parentNode)){let z=N.parentNode.previousSibling;const H=N.parentNode.nextSibling;z||(H?z=H:(z=o.createElement("BR"),x.appendChild(z)));let D=N;for(;x.contains(D)&&!D.previousSibling;)D=D.parentNode;if(!x.contains(D)){N.textContent="",o.removeItemAllParents(N,null,x);break}}if(g._isUneditableNode(b,!0)){s.preventDefault(),s.stopPropagation();break}!w&&d._isEdgeFormat(b.startContainer,b.startOffset,"start")&&o.isFormatElement(x.previousElementSibling)&&(d._formatAttrsTemp=x.previousElementSibling.attributes);const L=b.commonAncestorContainer;if(x=o.getFormatElement(b.startContainer,null),k=o.getRangeFormatElement(x,null),k&&x&&!o.isCell(k)&&!/^FIGCAPTION$/i.test(k.nodeName)){if(o.isListCell(x)&&o.isList(k)&&(o.isListCell(k.parentNode)||x.previousElementSibling)&&(a===x||a.nodeType===3&&(!a.previousSibling||o.isList(a.previousSibling)))&&(o.getFormatElement(b.startContainer,null)!==o.getFormatElement(b.endContainer,null)?k.contains(b.startContainer):b.startOffset===0&&b.collapsed)){if(b.startContainer!==b.endContainer)s.preventDefault(),d.removeNode(),b.startContainer.nodeType===3&&d.setRange(b.startContainer,b.startContainer.textContent.length,b.startContainer,b.startContainer.textContent.length),d.history.push(!0);else{let z=x.previousElementSibling||k.parentNode;if(o.isListCell(z)){s.preventDefault();let H=z;if(!z.contains(x)&&o.isListCell(H)&&o.isList(H.lastElementChild)){for(H=H.lastElementChild.lastElementChild;o.isListCell(H)&&o.isList(H.lastElementChild);)H=H.lastElementChild&&H.lastElementChild.lastElementChild;z=H}let D=z===k.parentNode?k.previousSibling:z.lastChild;D||(D=o.createTextNode(o.zeroWidthSpace),k.parentNode.insertBefore(D,k.parentNode.firstChild));const V=D.nodeType===3?D.textContent.length:1,q=x.childNodes;let K=D,Z=q[0];for(;Z=q[0];)z.insertBefore(Z,K.nextSibling),K=Z;o.removeItem(x),k.children.length===0&&o.removeItem(k),d.setRange(D,V,D,V),d.history.push(!0)}}break}if(!w&&b.startOffset===0){let z=!0,H=L;for(;H&&H!==k&&!o.isWysiwygDiv(H);){if(H.previousSibling&&(H.previousSibling.nodeType===1||!o.onlyZeroWidthSpace(H.previousSibling.textContent.trim()))){z=!1;break}H=H.parentNode}if(z&&k.parentNode){s.preventDefault(),d.detachRangeFormatElement(k,o.isListCell(x)?[x]:null,null,!1,!1),d.history.push(!0);break}}}if(!w&&x&&(b.startOffset===0||a===x&&x.childNodes[b.startOffset])){const z=a===x?x.childNodes[b.startOffset]:a,H=x.previousSibling,D=(L.nodeType===3||o.isBreak(L))&&!L.previousSibling&&b.startOffset===0;if(z&&!z.previousSibling&&(L&&o.isComponent(L.previousSibling)||D&&o.isComponent(H))){const V=d.getFileComponent(H);V?(s.preventDefault(),s.stopPropagation(),x.textContent.length===0&&o.removeItem(x),d.selectComponent(V.target,V.pluginName)===!1&&d.blur()):o.isComponent(H)&&(s.preventDefault(),s.stopPropagation(),o.removeItem(H));break}if(z&&o.isNonEditable(z.previousSibling)){s.preventDefault(),s.stopPropagation(),o.removeItem(z.previousSibling);break}}break;case 46:if(E){s.preventDefault(),s.stopPropagation(),d.plugins[E].destroy.call(d);break}if(w&&g._hardDelete()){s.preventDefault(),s.stopPropagation();break}if(g._isUneditableNode(b,!1)){s.preventDefault(),s.stopPropagation();break}if((o.isFormatElement(a)||a.nextSibling===null||o.onlyZeroWidthSpace(a.nextSibling)&&a.nextSibling.nextSibling===null)&&b.startOffset===a.textContent.length){const z=x.nextElementSibling;if(!z)break;if(o.isComponent(z)){if(s.preventDefault(),o.onlyZeroWidthSpace(x)&&(o.removeItem(x),o.isTable(z))){let D=o.getChildElement(z,o.isCell,!1);D=D.firstElementChild||D,d.setRange(D,0,D,0);break}const H=d.getFileComponent(z);H?(s.stopPropagation(),d.selectComponent(H.target,H.pluginName)===!1&&d.blur()):o.isComponent(z)&&(s.stopPropagation(),o.removeItem(z));break}}if(!w&&(d.isEdgePoint(b.endContainer,b.endOffset)||a===x&&x.childNodes[b.startOffset])){const z=a===x&&x.childNodes[b.startOffset]||a;if(z&&o.isNonEditable(z.nextSibling)){s.preventDefault(),s.stopPropagation(),o.removeItem(z.nextSibling);break}else if(o.isComponent(z)){s.preventDefault(),s.stopPropagation(),o.removeItem(z);break}}if(!w&&d._isEdgeFormat(b.endContainer,b.endOffset,"end")&&o.isFormatElement(x.nextElementSibling)&&(d._formatAttrsTemp=x.attributes),x=o.getFormatElement(b.startContainer,null),k=o.getRangeFormatElement(x,null),o.isListCell(x)&&o.isList(k)&&(a===x||a.nodeType===3&&(!a.nextSibling||o.isList(a.nextSibling))&&(o.getFormatElement(b.startContainer,null)!==o.getFormatElement(b.endContainer,null)?k.contains(b.endContainer):b.endOffset===a.textContent.length&&b.collapsed))){b.startContainer!==b.endContainer&&d.removeNode();let z=o.getArrayItem(x.children,o.isList,!1);if(z=z||x.nextElementSibling||k.parentNode.nextElementSibling,z&&(o.isList(z)||o.getArrayItem(z.children,o.isList,!1))){s.preventDefault();let H,D;if(o.isList(z)){const V=z.firstElementChild;for(D=V.childNodes,H=D[0];D[0];)x.insertBefore(D[0],z);o.removeItem(V)}else{for(H=z.firstChild,D=z.childNodes;D[0];)x.appendChild(D[0]);o.removeItem(z)}d.setRange(H,0,H,0),d.history.push(!0)}break}break;case 9:if(E||l.tabDisable||(s.preventDefault(),m||v||o.isWysiwygDiv(a)))break;const I=!b.collapsed||d.isEdgePoint(b.startContainer,b.startOffset),O=d.getSelectedElements(null);a=d.getSelectionNode();const P=[];let M=[],R=o.isListCell(O[0]),$=o.isListCell(O[O.length-1]),A={sc:b.startContainer,so:b.startOffset,ec:b.endContainer,eo:b.endOffset};for(let z=0,H=O.length,D;z<H;z++)if(D=O[z],o.isListCell(D)){if(!D.previousElementSibling&&!p)continue;P.push(D)}else M.push(D);if(P.length>0&&I&&d.plugins.list)A=d.plugins.list.editInsideList.call(d,p,P);else{const z=o.getParentElement(a,o.isCell);if(z&&I){const H=o.getParentElement(z,"table"),D=o.getListChildren(H,o.isCell);let V=p?o.prevIdx(D,z):o.nextIdx(D,z);V===D.length&&!p&&(V=0),V===-1&&p&&(V=D.length-1);let q=D[V];if(!q)break;q=q.firstElementChild||q,d.setRange(q,0,q,0);break}M=M.concat(P),R=$=null}if(M.length>0)if(p){const z=M.length-1;for(let V=0,q;V<=z;V++){q=M[V].childNodes;for(let K=0,Z=q.length,G;K<Z&&(G=q[K],!!G);K++)if(!o.onlyZeroWidthSpace(G)){/^\s{1,4}$/.test(G.textContent)?o.removeItem(G):/^\s{1,4}/.test(G.textContent)&&(G.textContent=G.textContent.replace(/^\s{1,4}/,""));break}}const H=o.getChildElement(M[0],"text",!1),D=o.getChildElement(M[z],"text",!0);!R&&H&&(A.sc=H,A.so=0),!$&&D&&(A.ec=D,A.eo=D.textContent.length)}else{const z=o.createTextNode(new c.Array(d._variable.tabSize+1).join(""));if(M.length===1){const H=d.insertNode(z,null,!0);if(!H)return!1;R||(A.sc=z,A.so=H.endOffset),$||(A.ec=z,A.eo=H.endOffset)}else{const H=M.length-1;for(let q=0,K;q<=H;q++)K=M[q].firstChild,K&&(o.isBreak(K)?M[q].insertBefore(z.cloneNode(!1),K):K.textContent=z.textContent+K.textContent);const D=o.getChildElement(M[0],"text",!1),V=o.getChildElement(M[H],"text",!0);!R&&D&&(A.sc=D,A.so=0),!$&&V&&(A.ec=V,A.eo=V.textContent.length)}}d.setRange(A.sc,A.so,A.ec,A.eo),d.history.push(!1);break;case 13:const F=o.getFreeFormatElement(a,null);if(d._charTypeHTML){let z="";if(!p&&F||p?z="<br>":z="<"+x.nodeName+"><br></"+x.nodeName+">",!d.checkCharCount(z,"byte-html"))return s.preventDefault(),!1}if(!p&&!E){const z=d._isEdgeFormat(b.endContainer,b.endOffset,"end"),H=d._isEdgeFormat(b.startContainer,b.startOffset,"start");if(z&&(/^H[1-6]$/i.test(x.nodeName)||/^HR$/i.test(x.nodeName))){g._enterPrevent(s);let D=null;const V=d.appendFormatTag(x,l.defaultTag);if(z&&z.length>0){D=z.pop();const q=D;for(;z.length>0;)D=D.appendChild(z.pop());V.appendChild(q)}if(D=D?D.appendChild(V.firstChild):V.firstChild,o.isBreak(D)){const q=o.createTextNode(o.zeroWidthSpace);D.parentNode.insertBefore(q,D),d.setRange(q,1,q,1)}else d.setRange(D,0,D,0);break}else if(k&&x&&!o.isCell(k)&&!/^FIGCAPTION$/i.test(k.nodeName)){const D=d.getRange();if(d.isEdgePoint(D.endContainer,D.endOffset)&&o.isList(a.nextSibling)){g._enterPrevent(s);const V=o.createElement("LI"),q=o.createElement("BR");V.appendChild(q),x.parentNode.insertBefore(V,x.nextElementSibling),V.appendChild(a.nextSibling),d.setRange(q,1,q,1);break}if((D.commonAncestorContainer.nodeType!==3||!D.commonAncestorContainer.nextElementSibling)&&o.onlyZeroWidthSpace(x.innerText.trim())&&!o.isListCell(x.nextElementSibling)){g._enterPrevent(s);let V=null;if(o.isListCell(k.parentNode)){const q=x.parentNode.parentNode;k=q.parentNode;const K=o.createElement("LI");K.innerHTML="<br>",o.copyTagAttributes(K,x,l.lineAttrReset),V=K,k.insertBefore(V,q.nextElementSibling)}else{const q=o.isCell(k.parentNode)?"DIV":o.isList(k.parentNode)?"LI":o.isFormatElement(k.nextElementSibling)&&!o.isRangeFormatElement(k.nextElementSibling)?k.nextElementSibling.nodeName:o.isFormatElement(k.previousElementSibling)&&!o.isRangeFormatElement(k.previousElementSibling)?k.previousElementSibling.nodeName:l.defaultTag;V=o.createElement(q),o.copyTagAttributes(V,x,l.lineAttrReset);const K=d.detachRangeFormatElement(k,[x],null,!0,!0);K.cc.insertBefore(V,K.ec)}V.innerHTML="<br>",o.removeItemAllParents(x,null,null),d.setRange(V,1,V,1);break}}if(F){g._enterPrevent(s);const D=a===F,V=d.getSelection(),q=a.childNodes,K=V.focusOffset,Z=a.previousElementSibling,G=a.nextSibling;if(!o.isClosureFreeFormatElement(F)&&q&&(D&&b.collapsed&&q.length-1<=K+1&&o.isBreak(q[K])&&(!q[K+1]||(!q[K+2]||o.onlyZeroWidthSpace(q[K+2].textContent))&&q[K+1].nodeType===3&&o.onlyZeroWidthSpace(q[K+1].textContent))&&K>0&&o.isBreak(q[K-1])||!D&&o.onlyZeroWidthSpace(a.textContent)&&o.isBreak(Z)&&(o.isBreak(Z.previousSibling)||!o.onlyZeroWidthSpace(Z.previousSibling.textContent))&&(!G||!o.isBreak(G)&&o.onlyZeroWidthSpace(G.textContent)))){D?o.removeItem(q[K-1]):o.removeItem(a);const U=d.appendFormatTag(F,o.isFormatElement(F.nextElementSibling)&&!o.isRangeFormatElement(F.nextElementSibling)?F.nextElementSibling:null);o.copyFormatAttributes(U,F),d.setRange(U,1,U,1);break}if(D){y.insertHTML(b.collapsed&&o.isBreak(b.startContainer.childNodes[b.startOffset-1])?"<br>":"<br><br>",!0,!1);let U=V.focusNode;const Y=V.focusOffset;F===U&&(U=U.childNodes[Y-K>1?Y-1:Y]),d.setRange(U,1,U,1)}else{const U=V.focusNode.nextSibling,Y=o.createElement("BR");d.insertNode(Y,null,!1);const ee=Y.previousSibling,J=Y.nextSibling;!o.isBreak(U)&&!o.isBreak(ee)&&(!J||o.onlyZeroWidthSpace(J))?(Y.parentNode.insertBefore(Y.cloneNode(!1),Y),d.setRange(Y,1,Y,1)):d.setRange(J,0,J,0)}g._onShortcutKey=!0;break}if(b.collapsed&&(H||z)){g._enterPrevent(s);const D=o.createElement("BR"),V=o.createElement(x.nodeName);o.copyTagAttributes(V,x,l.lineAttrReset);let q=D;do{if(!o.isBreak(a)&&a.nodeType===1){const K=a.cloneNode(!1);K.appendChild(q),q=K}a=a.parentNode}while(x!==a&&x.contains(a));V.appendChild(q),x.parentNode.insertBefore(V,H&&!z?x:x.nextElementSibling),z&&d.setRange(D,1,D,1);break}if(x){s.stopPropagation();let D,V=0;if(b.collapsed)o.onlyZeroWidthSpace(x)?D=d.appendFormatTag(x,x.cloneNode(!1)):D=o.splitElement(b.endContainer,b.endOffset,o.getElementDepth(x));else{const q=o.getFormatElement(b.startContainer,null)!==o.getFormatElement(b.endContainer,null),K=x.cloneNode(!1);K.innerHTML="<br>";const Z=d.removeNode();if(D=o.getFormatElement(Z.container,null),!D){o.isWysiwygDiv(Z.container)&&(g._enterPrevent(s),e.element.wysiwyg.appendChild(K),D=K,o.copyTagAttributes(D,x,l.lineAttrReset),d.setRange(D,V,D,V));break}const G=o.getRangeFormatElement(Z.container);if(D=D.contains(G)?o.getChildElement(G,o.getFormatElement.bind(o)):D,q){if(z&&!H)D.parentNode.insertBefore(K,!Z.prevContainer||Z.container===Z.prevContainer?D.nextElementSibling:D),D=K,V=0;else if(V=Z.offset,H){const U=D.parentNode.insertBefore(K,D);z&&(D=U,V=0)}}else z&&H?(D.parentNode.insertBefore(K,Z.prevContainer&&Z.container===Z.prevContainer?D.nextElementSibling:D),D=K,V=0):D=o.splitElement(Z.container,Z.offset,o.getElementDepth(x))}g._enterPrevent(s),o.copyTagAttributes(D,x,l.lineAttrReset),d.setRange(D,V,D,V);break}}if(w)break;if(k&&o.getParentElement(k,"FIGCAPTION")&&o.getParentElement(k,o.isList)&&(g._enterPrevent(s),x=d.appendFormatTag(x,null),d.setRange(x,0,x,0)),E){s.preventDefault(),s.stopPropagation(),d.containerOff(),d.controllersOff();const z=e[E],H=z._container,D=H.previousElementSibling||H.nextElementSibling;let V=null;o.isListCell(H.parentNode)?V=o.createElement("BR"):(V=o.createElement(o.isFormatElement(D)&&!o.isRangeFormatElement(D)?D.nodeName:l.defaultTag),V.innerHTML="<br>"),p?H.parentNode.insertBefore(V,H):H.parentNode.insertBefore(V,H.nextElementSibling),d.callPlugin(E,function(){d.selectComponent(z._element,E)===!1&&d.blur()},null)}break;case 27:if(E)return s.preventDefault(),s.stopPropagation(),d.controllersOff(),!1;break}if(p&&h===16){s.preventDefault(),s.stopPropagation();const N=d.plugins.table;if(N&&!N._shift&&!N._ref){const L=o.getParentElement(x,o.isCell);if(L){N.onTableCellMultiSelect.call(d,L,!0);return}}}else if(p&&(o.isOSX_IOS?v:m)&&h===32){s.preventDefault(),s.stopPropagation();const N=d.insertNode(o.createTextNode(""));if(N&&N.container){d.setRange(N.container,N.endOffset,N.container,N.endOffset);return}}if(o.isIE&&!m&&!v&&!w&&!g._nonTextKeyCode.test(h)&&o.isBreak(b.commonAncestorContainer)){const N=o.createTextNode(o.zeroWidthSpace);d.insertNode(N,null,!1),d.setRange(N,1,N,1)}g._directionKeyCode.test(h)&&(d._editorRange(),g._applyTagEffects())}},_onKeyDown_wysiwyg_arrowKey:function(s){if(s.shiftKey)return;let a=d.getSelectionNode();const h=function(v,b=0){if(s.preventDefault(),s.stopPropagation(),!v)return;let w=d.getFileComponent(v);w?d.selectComponent(w.target,w.pluginName):(d.setRange(v,b,v,b),d.controllersOff())},p=o.getParentElement(a,"table");if(p){const v=o.getParentElement(a,"tr"),b=o.getParentElement(a,"td");let w=b,E=b;if(b){for(;w.firstChild;)w=w.firstChild;for(;E.lastChild;)E=E.lastChild}let x=a;for(;x.firstChild;)x=x.firstChild;const k=x===w,B=x===E;let N=null,L=0;if(s.keyCode===38&&k){const I=v&&v.previousElementSibling;for(I?N=I.children[b.cellIndex]:N=o.getPreviousDeepestNode(p,d.context.element.wysiwyg);N.lastChild;)N=N.lastChild;N&&(L=N.textContent.length)}else if(s.keyCode===40&&B){const I=v&&v.nextElementSibling;for(I?N=I.children[b.cellIndex]:N=o.getNextDeepestNode(p,d.context.element.wysiwyg);N.firstChild;)N=N.firstChild}if(N)return h(N,L),!1}const m=d.getFileComponent(a);if(m){const v=/37|38/.test(s.keyCode),b=/39|40/.test(s.keyCode);if(v){const w=o.getPreviousDeepestNode(m.target,d.context.element.wysiwyg);h(w,w&&w.textContent.length)}else if(b){const w=o.getNextDeepestNode(m.target,d.context.element.wysiwyg);h(w)}}},onKeyUp_wysiwyg:function(s){if(g._onShortcutKey)return;d._editorRange();const a=s.keyCode,h=s.ctrlKey||s.metaKey||a===91||a===92||a===224,p=s.altKey;if(d.isReadOnly){!h&&g._cursorMoveKeyCode.test(a)&&g._applyTagEffects();return}const m=d.getRange();let v=d.getSelectionNode();if(d._isBalloon&&(d._isBalloonAlways&&a!==27||!m.collapsed))if(d._isBalloonAlways)a!==27&&g._showToolbarBalloonDelay();else{g._showToolbarBalloon();return}let b=v;for(;b.firstChild;)b=b.firstChild;const w=d.getFileComponent(b);if(!(s.keyCode===16||s.shiftKey)&&w?d.selectComponent(w.target,w.pluginName):d.currentFileComponentInfo&&d.controllersOff(),a===8&&o.isWysiwygDiv(v)&&v.textContent===""&&v.children.length===0){s.preventDefault(),s.stopPropagation(),v.innerHTML="";const N=o.createElement(o.isFormatElement(d._variable.currentNodes[0])?d._variable.currentNodes[0]:l.defaultTag);N.innerHTML="<br>",v.appendChild(N),d.setRange(N,0,N,0),g._applyTagEffects(),d.history.push(!1);return}const E=o.getFormatElement(v,null),x=o.getRangeFormatElement(v,null),k=d._formatAttrsTemp;if(k){for(let N=0,L=k.length;N<L;N++){if(a===13&&/^id$/i.test(k[N].name)){E.removeAttribute("id");continue}E.setAttribute(k[N].name,k[N].value)}d._formatAttrsTemp=null}if(!E&&m.collapsed&&!o.isComponent(v)&&!o.isList(v)&&d._setDefaultFormat(o.isRangeFormatElement(x)?"DIV":l.defaultTag)!==null&&(v=d.getSelectionNode()),!h&&!p&&!g._nonTextKeyCode.test(a)&&v.nodeType===3&&o.zeroWidthRegExp.test(v.textContent)&&!(s.isComposing!==void 0?s.isComposing:g._IEisComposing)){let N=m.startOffset,L=m.endOffset;const I=(v.textContent.substring(0,L).match(g._frontZeroWidthReg)||"").length;N=m.startOffset-I,L=m.endOffset-I,v.textContent=v.textContent.replace(o.zeroWidthRegExp,""),d.setRange(v,N<0?0:N,v,L<0?0:L)}d._charCount(""),!(typeof y.onKeyUp=="function"&&y.onKeyUp(s,d)===!1)&&!h&&!p&&!g._historyIgnoreKeyCode.test(a)&&d.history.push(!0)},onScroll_wysiwyg:function(s){d.controllersOff(),d._isBalloon&&g._hideToolbar(),typeof y.onScroll=="function"&&y.onScroll(s,d)},onFocus_wysiwyg:function(s){d._antiBlur||(d.hasFocus=!0,c.setTimeout(g._applyTagEffects),d._isInline&&g._showToolbarInline(),typeof y.onFocus=="function"&&y.onFocus(s,d))},onBlur_wysiwyg:function(s){d._antiBlur||d._variable.isCodeView||(d.hasFocus=!1,d.effectNode=null,d.controllersOff(),(d._isInline||d._isBalloon)&&g._hideToolbar(),d._setKeyEffect([]),d._variable.currentNodes=[],d._variable.currentNodesMap=[],l.showPathLabel&&(e.element.navigation.textContent=""),typeof y.onBlur=="function"&&y.onBlur(s,d,this))},onMouseDown_resizingBar:function(s){s.stopPropagation(),d.submenuOff(),d.controllersOff(),d._variable.resizeClientY=s.clientY,e.element.resizeBackground.style.display="block";function a(){e.element.resizeBackground.style.display="none",u.removeEventListener("mousemove",g._resize_editor),u.removeEventListener("mouseup",a)}u.addEventListener("mousemove",g._resize_editor),u.addEventListener("mouseup",a)},_resize_editor:function(s){const a=e.element.editorArea.offsetHeight+(s.clientY-d._variable.resizeClientY),h=a<d._variable.minResizingSize?d._variable.minResizingSize:a;e.element.wysiwygFrame.style.height=e.element.code.style.height=h+"px",d._variable.resizeClientY=s.clientY,o.isResizeObserverSupported||d.__callResizeFunction(h,null)},onResize_window:function(){o.isResizeObserverSupported||d.resetResponsiveToolbar();const s=e.element.toolbar,a=s.style.display==="none"||d._isInline&&!d._inlineToolbarAttr.isShow;if(!(s.offsetWidth===0&&!a)){if(e.fileBrowser&&e.fileBrowser.area.style.display==="block"&&(e.fileBrowser.body.style.maxHeight=c.innerHeight-e.fileBrowser.header.offsetHeight-50+"px"),d.submenuActiveButton&&d.submenu&&d._setMenuPosition(d.submenuActiveButton,d.submenu),d._variable.isFullScreen){d._variable.innerHeight_fullScreen+=c.innerHeight-s.offsetHeight-d._variable.innerHeight_fullScreen,e.element.editorArea.style.height=d._variable.innerHeight_fullScreen+"px";return}if(d._variable.isCodeView&&d._isInline){g._showToolbarInline();return}d._iframeAutoHeight(),d._sticky&&(s.style.width=e.element.topArea.offsetWidth-2+"px",g.onScroll_window())}},onScroll_window:function(){if(d._variable.isFullScreen||e.element.toolbar.offsetWidth===0||l.stickyToolbar<0)return;const s=e.element,a=s.editorArea.offsetHeight,h=(this.scrollY||u.documentElement.scrollTop)+l.stickyToolbar,p=g._getEditorOffsets(l.toolbarContainer).top-(d._isInline?s.toolbar.offsetHeight:0),m=d._isInline&&h-p>0?h-p-e.element.toolbar.offsetHeight:0;h<p?g._offStickyToolbar():h+d._variable.minResizingSize>=a+p?(d._sticky||g._onStickyToolbar(m),s.toolbar.style.top=m+a+p+l.stickyToolbar-h-d._variable.minResizingSize+"px"):h>=p&&g._onStickyToolbar(m)},_getEditorOffsets:function(s){let a=s||e.element.topArea,h=0,p=0,m=0;for(;a;)h+=a.offsetTop,p+=a.offsetLeft,m+=a.scrollTop,a=a.offsetParent;return{top:h,left:p,scroll:m}},_getPageBottomSpace:function(){return u.documentElement.scrollHeight-(g._getEditorOffsets(null).top+e.element.topArea.offsetHeight)},_onStickyToolbar:function(s){const a=e.element;!d._isInline&&!l.toolbarContainer&&(a._stickyDummy.style.height=a.toolbar.offsetHeight+"px",a._stickyDummy.style.display="block"),a.toolbar.style.top=l.stickyToolbar+s+"px",a.toolbar.style.width=d._isInline?d._inlineToolbarAttr.width:a.toolbar.offsetWidth+"px",o.addClass(a.toolbar,"se-toolbar-sticky"),d._sticky=!0},_offStickyToolbar:function(){const s=e.element;s._stickyDummy.style.display="none",s.toolbar.style.top=d._isInline?d._inlineToolbarAttr.top:"",s.toolbar.style.width=d._isInline?d._inlineToolbarAttr.width:"",s.editorArea.style.marginTop="",o.removeClass(s.toolbar,"se-toolbar-sticky"),d._sticky=!1},_codeViewAutoHeight:function(){d._variable.isFullScreen||(e.element.code.style.height=e.element.code.scrollHeight+"px")},_hardDelete:function(){const s=d.getRange(),a=s.startContainer,h=s.endContainer,p=o.getRangeFormatElement(a),m=o.getRangeFormatElement(h),v=o.isCell(p),b=o.isCell(m),w=s.commonAncestorContainer;if((v&&!p.previousElementSibling&&!p.parentElement.previousElementSibling||b&&!m.nextElementSibling&&!m.parentElement.nextElementSibling)&&p!==m)if(!v)o.removeItem(o.getParentElement(m,function(k){return w===k.parentNode}));else if(!b)o.removeItem(o.getParentElement(p,function(k){return w===k.parentNode}));else return o.removeItem(o.getParentElement(p,function(k){return w===k.parentNode})),d.nativeFocus(),!0;const E=a.nodeType===1?o.getParentElement(a,".se-component"):null,x=h.nodeType===1?o.getParentElement(h,".se-component"):null;return E&&o.removeItem(E),x&&o.removeItem(x),!1},onPaste_wysiwyg:function(s){const a=o.isIE?c.clipboardData:s.clipboardData;return a?g._dataTransferAction("paste",s,a):!0},_setClipboardComponent:function(s,a,h){s.preventDefault(),s.stopPropagation(),h.setData("text/html",a.component.outerHTML)},onCopy_wysiwyg:function(s){const a=o.isIE?c.clipboardData:s.clipboardData;if(typeof y.onCopy=="function"&&y.onCopy(s,a,d)===!1)return s.preventDefault(),s.stopPropagation(),!1;const h=d.currentFileComponentInfo;h&&!o.isIE&&(g._setClipboardComponent(s,h,a),o.addClass(h.component,"se-component-copy"),c.setTimeout(function(){o.removeClass(h.component,"se-component-copy")},150))},onSave_wysiwyg:function(s){if(typeof y.onSave=="function"){y.onSave(s,d);return}},onCut_wysiwyg:function(s){const a=o.isIE?c.clipboardData:s.clipboardData;if(typeof y.onCut=="function"&&y.onCut(s,a,d)===!1)return s.preventDefault(),s.stopPropagation(),!1;const h=d.currentFileComponentInfo;h&&!o.isIE&&(g._setClipboardComponent(s,h,a),o.removeItem(h.component),d.controllersOff()),c.setTimeout(function(){d.history.push(!1)})},onDrop_wysiwyg:function(s){if(d.isReadOnly||o.isIE)return s.preventDefault(),s.stopPropagation(),!1;const a=s.dataTransfer;return a?(g._setDropLocationSelection(s),d.removeNode(),document.body.contains(d.currentControllerTarget)||d.controllersOff(),g._dataTransferAction("drop",s,a)):!0},_setDropLocationSelection:function(s){const a={startContainer:null,startOffset:null,endContainer:null,endOffset:null};let h=null;if(s.rangeParent?(a.startContainer=s.rangeParent,a.startOffset=s.rangeOffset,a.endContainer=s.rangeParent,a.endOffset=s.rangeOffset):d._wd.caretRangeFromPoint?h=d._wd.caretRangeFromPoint(s.clientX,s.clientY):h=d.getRange(),h&&(a.startContainer=h.startContainer,a.startOffset=h.startOffset,a.endContainer=h.endContainer,a.endOffset=h.endOffset),a.startContainer===a.endContainer){const p=o.getParentElement(a.startContainer,o.isComponent);p&&(a.startContainer=p,a.startOffset=0,a.endContainer=p,a.endOffset=0)}d.setRange(a.startContainer,a.startOffset,a.endContainer,a.endOffset)},_dataTransferAction:function(s,a,h){let p,m;if(o.isIE){p=h.getData("Text");const v=d.getRange(),b=o.createElement("DIV"),w={sc:v.startContainer,so:v.startOffset,ec:v.endContainer,eo:v.endOffset};return b.setAttribute("contenteditable",!0),b.style.cssText="position:absolute; top:0; left:0; width:1px; height:1px; overflow:hidden;",e.element.relative.appendChild(b),b.focus(),c.setTimeout(function(){m=b.innerHTML,o.removeItem(b),d.setRange(w.sc,w.so,w.ec,w.eo),g._setClipboardData(s,a,p,m,h)}),!0}else if(p=h.getData("text/plain"),m=h.getData("text/html"),g._setClipboardData(s,a,p,m,h)===!1)return a.preventDefault(),a.stopPropagation(),!1},_setClipboardData:function(s,a,h,p,m){const v=/class=["']*Mso(Normal|List)/i.test(p)||/content=["']*Word.Document/i.test(p)||/content=["']*OneNote.File/i.test(p)||/content=["']*Excel.Sheet/i.test(p);!p?p=o._HTMLConvertor(h).replace(/\n/g,"<br>"):(p=p.replace(/^<html>\r?\n?<body>\r?\n?\x3C!--StartFragment--\>|\x3C!--EndFragment-->\r?\n?<\/body\>\r?\n?<\/html>$/g,""),v&&(p=p.replace(/\n/g," "),h=h.replace(/\n/g," ")),p=d.cleanHTML(p,d.pasteTagsWhitelistRegExp,d.pasteTagsBlacklistRegExp));const w=d._charCount(d._charTypeHTML?p:h);if(s==="paste"&&typeof y.onPaste=="function"){const x=y.onPaste(a,p,w,d);if(x===!1)return!1;if(typeof x=="string"){if(!x)return!1;p=x}}if(s==="drop"&&typeof y.onDrop=="function"){const x=y.onDrop(a,p,w,d);if(x===!1)return!1;if(typeof x=="string"){if(!x)return!1;p=x}}const E=m.files;if(E.length>0&&!v)return/^image/.test(E[0].type)&&d.plugins.image&&y.insertImage(E),!1;if(!w)return!1;if(p)return y.insertHTML(p,!0,!1),!1},onMouseMove_wysiwyg:function(s){if(d.isDisabled||d.isReadOnly)return!1;const a=o.getParentElement(s.target,o.isComponent),h=d._lineBreaker.style;if(a&&!d.currentControllerName){const p=e.element;let m=0,v=p.wysiwyg;do m+=v.scrollTop,v=v.parentElement;while(v&&!/^(BODY|HTML)$/i.test(v.nodeName));const b=p.wysiwyg.scrollTop,w=g._getEditorOffsets(null),E=o.getOffset(a,p.wysiwygFrame).top+b,x=s.pageY+m+(l.iframe&&!l.toolbarContainer?p.toolbar.offsetHeight:0),k=E+(l.iframe?m:w.top),B=o.isListCell(a.parentNode);let N="",L="";if((B?!a.previousSibling:!o.isFormatElement(a.previousElementSibling))&&x<k+20)L=E,N="t";else if((B?!a.nextSibling:!o.isFormatElement(a.nextElementSibling))&&x>k+a.offsetHeight-20)L=E+a.offsetHeight,N="b";else{h.display="none";return}d._variable._lineBreakComp=a,d._variable._lineBreakDir=N,h.top=L-b+"px",d._lineBreakerButton.style.left=o.getOffset(a).left+a.offsetWidth/2-15+"px",h.display="block"}else h.display!=="none"&&(h.display="none")},_enterPrevent(s){s.preventDefault(),o.isMobile&&d.__focusTemp.focus()},_onMouseDown_lineBreak:function(s){s.preventDefault()},_onLineBreak:function(s){s.preventDefault();const a=d._variable._lineBreakComp,h=this?this:d._variable._lineBreakDir,p=o.isListCell(a.parentNode),m=o.createElement(p?"BR":o.isCell(a.parentNode)?"DIV":l.defaultTag);if(p||(m.innerHTML="<br>"),d._charTypeHTML&&!d.checkCharCount(m.outerHTML,"byte-html"))return;a.parentNode.insertBefore(m,h==="t"?a:a.nextSibling),d._lineBreaker.style.display="none",d._variable._lineBreakComp=null;const v=p?m:m.firstChild;d.setRange(v,1,v,1),d.history.push(!1)},_resizeObserver:null,_toolbarObserver:null,_addEvent:function(){const s=l.iframe?d._ww:e.element.wysiwyg;o.isResizeObserverSupported&&(this._resizeObserver=new c.ResizeObserver(function(a){d.__callResizeFunction(-1,a[0])})),e.element.toolbar.addEventListener("mousedown",g._buttonsEventHandler,!1),e.element._menuTray.addEventListener("mousedown",g._buttonsEventHandler,!1),e.element.toolbar.addEventListener("click",g.onClick_toolbar,!1),s.addEventListener("mousedown",g.onMouseDown_wysiwyg,!1),s.addEventListener("click",g.onClick_wysiwyg,!1),s.addEventListener(o.isIE?"textinput":"input",g.onInput_wysiwyg,!1),s.addEventListener("keydown",g.onKeyDown_wysiwyg,!1),s.addEventListener("keyup",g.onKeyUp_wysiwyg,!1),s.addEventListener("paste",g.onPaste_wysiwyg,!1),s.addEventListener("copy",g.onCopy_wysiwyg,!1),s.addEventListener("cut",g.onCut_wysiwyg,!1),s.addEventListener("drop",g.onDrop_wysiwyg,!1),s.addEventListener("scroll",g.onScroll_wysiwyg,!1),s.addEventListener("focus",g.onFocus_wysiwyg,!1),s.addEventListener("blur",g.onBlur_wysiwyg,!1),g._lineBreakerBind={a:g._onLineBreak.bind(""),t:g._onLineBreak.bind("t"),b:g._onLineBreak.bind("b")},s.addEventListener("mousemove",g.onMouseMove_wysiwyg,!1),d._lineBreakerButton.addEventListener("mousedown",g._onMouseDown_lineBreak,!1),d._lineBreakerButton.addEventListener("click",g._lineBreakerBind.a,!1),e.element.lineBreaker_t.addEventListener("mousedown",g._lineBreakerBind.t,!1),e.element.lineBreaker_b.addEventListener("mousedown",g._lineBreakerBind.b,!1),s.addEventListener("touchstart",g.onMouseDown_wysiwyg,{passive:!0,useCapture:!1}),s.addEventListener("touchend",g.onClick_wysiwyg,{passive:!0,useCapture:!1}),l.height==="auto"&&!l.codeMirrorEditor&&(e.element.code.addEventListener("keydown",g._codeViewAutoHeight,!1),e.element.code.addEventListener("keyup",g._codeViewAutoHeight,!1),e.element.code.addEventListener("paste",g._codeViewAutoHeight,!1)),e.element.resizingBar&&(/\d+/.test(l.height)&&l.resizeEnable?e.element.resizingBar.addEventListener("mousedown",g.onMouseDown_resizingBar,!1):o.addClass(e.element.resizingBar,"se-resizing-none")),g._setResponsiveToolbar(),o.isResizeObserverSupported&&(this._toolbarObserver=new c.ResizeObserver(d.resetResponsiveToolbar)),c.addEventListener("resize",g.onResize_window,!1),l.stickyToolbar>-1&&c.addEventListener("scroll",g.onScroll_window,!1)},_removeEvent:function(){const s=l.iframe?d._ww:e.element.wysiwyg;e.element.toolbar.removeEventListener("mousedown",g._buttonsEventHandler),e.element._menuTray.removeEventListener("mousedown",g._buttonsEventHandler),e.element.toolbar.removeEventListener("click",g.onClick_toolbar),s.removeEventListener("mousedown",g.onMouseDown_wysiwyg),s.removeEventListener("click",g.onClick_wysiwyg),s.removeEventListener(o.isIE?"textinput":"input",g.onInput_wysiwyg),s.removeEventListener("keydown",g.onKeyDown_wysiwyg),s.removeEventListener("keyup",g.onKeyUp_wysiwyg),s.removeEventListener("paste",g.onPaste_wysiwyg),s.removeEventListener("copy",g.onCopy_wysiwyg),s.removeEventListener("cut",g.onCut_wysiwyg),s.removeEventListener("drop",g.onDrop_wysiwyg),s.removeEventListener("scroll",g.onScroll_wysiwyg),s.removeEventListener("mousemove",g.onMouseMove_wysiwyg),d._lineBreakerButton.removeEventListener("mousedown",g._onMouseDown_lineBreak),d._lineBreakerButton.removeEventListener("click",g._lineBreakerBind.a),e.element.lineBreaker_t.removeEventListener("mousedown",g._lineBreakerBind.t),e.element.lineBreaker_b.removeEventListener("mousedown",g._lineBreakerBind.b),g._lineBreakerBind=null,s.removeEventListener("touchstart",g.onMouseDown_wysiwyg,{passive:!0,useCapture:!1}),s.removeEventListener("touchend",g.onClick_wysiwyg,{passive:!0,useCapture:!1}),s.removeEventListener("focus",g.onFocus_wysiwyg),s.removeEventListener("blur",g.onBlur_wysiwyg),e.element.code.removeEventListener("keydown",g._codeViewAutoHeight),e.element.code.removeEventListener("keyup",g._codeViewAutoHeight),e.element.code.removeEventListener("paste",g._codeViewAutoHeight),e.element.resizingBar&&e.element.resizingBar.removeEventListener("mousedown",g.onMouseDown_resizingBar),g._resizeObserver&&(g._resizeObserver.unobserve(e.element.wysiwygFrame),g._resizeObserver=null),g._toolbarObserver&&(g._toolbarObserver.unobserve(e.element._toolbarShadow),g._toolbarObserver=null),c.removeEventListener("resize",g.onResize_window),c.removeEventListener("scroll",g.onScroll_window)},_setResponsiveToolbar:function(){if(r.length===0){r=null;return}g._responsiveCurrentSize="default";const s=g._responsiveButtonSize=[],a=g._responsiveButtons={default:r[0]};for(let h=1,p=r.length,m,v;h<p;h++)v=r[h],m=v[0]*1,s.push(m),a[m]=v[1];s.sort(function(h,p){return h-p}).unshift("default")}},y={core:d,util:o,onload:null,onScroll:null,onMouseDown:null,onClick:null,onInput:null,onKeyDown:null,onKeyUp:null,onCopy:null,onCut:null,onFocus:null,onBlur:null,onChange:null,onSave:null,onDrop:null,onPaste:null,showInline:null,showController:null,toggleCodeView:null,toggleFullScreen:null,imageUploadHandler:null,videoUploadHandler:null,audioUploadHandler:null,onImageUploadBefore:null,onVideoUploadBefore:null,onAudioUploadBefore:null,onImageUpload:null,onVideoUpload:null,onAudioUpload:null,onImageUploadError:null,onVideoUploadError:null,onAudioUploadError:null,onResizeEditor:null,onSetToolbarButtons:null,setToolbarButtons:function(s){d.submenuOff(),d.containerOff(),d.moreLayerOff();const a=Ai._createToolBar(u,s,d.plugins,l);r=a.responsiveButtons,g._setResponsiveToolbar(),e.element.toolbar.replaceChild(a._buttonTray,e.element._buttonTray);const h=zi(e.element.originElement,d._getConstructed(e.element),l);e.element=h.element,e.tool=h.tool,l.iframe&&(e.element.wysiwyg=d._wd.body),d._recoverButtonStates(),d._cachingButtons(),d.history._resetCachingButton(),d.effectNode=null,d.hasFocus&&g._applyTagEffects(),d.isReadOnly&&o.setDisabledButtons(!0,d.resizingDisabledButtons),typeof y.onSetToolbarButtons=="function"&&y.onSetToolbarButtons(a._buttonTray.querySelectorAll("button"),d)},setOptions:function(s){g._removeEvent(),d._resetComponents(),o.removeClass(d._styleCommandMap.showBlocks,"active"),o.removeClass(d._styleCommandMap.codeView,"active"),d._variable.isCodeView=!1,d._iframeAuto=null,d.plugins=s.plugins||d.plugins;const a=[l,s].reduce(function(v,b){for(let w in b)if(o.hasOwn(b,w))if(w==="plugins"&&b[w]&&v[w]){let E=v[w],x=b[w];E=E.length?E:c.Object.keys(E).map(function(k){return E[k]}),x=x.length?x:c.Object.keys(x).map(function(k){return x[k]}),v[w]=x.filter(function(k){return E.indexOf(k)===-1}).concat(E)}else v[w]=b[w];return v},{}),h=e.element,p=h.wysiwyg.innerHTML,m=Ai._setOptions(a,e,l);m.callButtons&&(t=m.callButtons,d.initPlugins={}),m.plugins&&(d.plugins=i=m.plugins),h._menuTray.children.length===0&&(this._menuTray={}),r=m.toolbar.responsiveButtons,d.options=l=a,d.lang=n=l.lang,l.iframe&&h.wysiwygFrame.addEventListener("load",function(){o._setIframeDocument(this,l),d._setOptionsInit(h,p)}),h.editorArea.appendChild(h.wysiwygFrame),l.iframe||d._setOptionsInit(h,p)},setDefaultStyle:function(s){const a=l._editorStyles=o._setDefaultOptionStyle(l,s),h=e.element;h.topArea.style.cssText=a.top,h.code.style.cssText=l._editorStyles.frame,h.code.style.display="none",l.height==="auto"?h.code.style.overflow="hidden":h.code.style.overflow="",l.iframe?(h.wysiwygFrame.style.cssText=a.frame,h.wysiwyg.style.cssText=a.editor):h.wysiwygFrame.style.cssText=a.frame+a.editor},noticeOpen:function(s){d.notice.open.call(d,s)},noticeClose:function(){d.notice.close.call(d)},save:function(){const s=d.getContents(!1);e.element.originElement.value=s,g.onSave_wysiwyg(s,d)},getContext:function(){return e},getContents:function(s){return d.getContents(s)},getText:function(){return e.element.wysiwyg.textContent},getCharCount:function(s){return s=typeof s=="string"?s:l.charCounterType,d.getCharLength(d._charTypeHTML?e.element.wysiwyg.innerHTML:e.element.wysiwyg.textContent,s)},getImagesInfo:function(){return e.image?e.image._infoList:[]},getFilesInfo:function(s){return e[s]?e[s]._infoList:[]},insertImage:function(s){!d.plugins.image||!s||(d.initPlugins.image?d.plugins.image.submitAction.call(d,s):d.callPlugin("image",d.plugins.image.submitAction.bind(d,s),null),d.focus())},insertHTML:function(s,a,h,p){if(e.element.wysiwygFrame.contains(d.getSelection().focusNode)||d.focus(),typeof s=="string"){a||(s=d.cleanHTML(s,null,null));try{if(o.isListCell(o.getFormatElement(d.getSelectionNode(),null))){const L=u.createRange().createContextualFragment(s).childNodes;d._isFormatData(L)&&(s=d._convertListCell(L))}const v=u.createRange().createContextualFragment(s).childNodes;if(h){const N=d._charTypeHTML?"outerHTML":"textContent";let L="";for(let I=0,O=v.length;I<O;I++)L+=v[I][N];if(!d.checkCharCount(L,null))return}let b,w,E,x,k;for(;b=v[0];){if(x&&x.nodeType===3&&w&&w.nodeType===1&&o.isBreak(b)){x=b,o.removeItem(b);continue}E=d.insertNode(b,w,!1),w=E.container||E,k||(k=E),x=b}x.nodeType===3&&w.nodeType===1&&(w=x);const B=w.nodeType===3?E.endOffset||w.textContent.length:w.childNodes.length;p?d.setRange(k.container||k,k.startOffset||0,w,B):d.setRange(w,B,w,B)}catch(m){if(d.isDisabled||d.isReadOnly)return;console.warn("[SUNEDITOR.insertHTML.fail] "+m),d.execCommand("insertHTML",!1,s)}}else if(o.isComponent(s))d.insertComponent(s,!1,h,!1);else{let m=null;(o.isFormatElement(s)||o.isMedia(s))&&(m=o.getFormatElement(d.getSelectionNode(),null)),d.insertNode(s,m,h)}d.effectNode=null,d.focus(),d.history.push(!1)},setContents:function(s){d.setContents(s)},appendContents:function(s){const a=d.convertContentsForEditor(s);if(d._variable.isCodeView)d._setCodeView(d._getCodeView()+`
`+d.convertHTMLForCodeView(a,!1));else{const h=o.createElement("DIV");h.innerHTML=a;const p=e.element.wysiwyg,m=h.children;for(let v=0,b=m.length;v<b;v++)m[v]&&p.appendChild(m[v])}d.history.push(!1)},readOnly:function(s){d.isReadOnly=s,o.setDisabledButtons(!!s,d.resizingDisabledButtons),s?(d.controllersOff(),d.submenuActiveButton&&d.submenuActiveButton.disabled&&d.submenuOff(),d._moreLayerActiveButton&&d._moreLayerActiveButton.disabled&&d.moreLayerOff(),d.containerActiveButton&&d.containerActiveButton.disabled&&d.containerOff(),d.modalForm&&d.plugins.dialog.close.call(d),e.element.code.setAttribute("readOnly","true"),o.addClass(e.element.wysiwygFrame,"se-read-only")):(e.element.code.removeAttribute("readOnly"),o.removeClass(e.element.wysiwygFrame,"se-read-only")),l.codeMirrorEditor&&l.codeMirrorEditor.setOption("readOnly",!!s)},disable:function(){this.toolbar.disable(),this.wysiwyg.disable()},disabled:function(){this.disable()},enable:function(){this.toolbar.enable(),this.wysiwyg.enable()},enabled:function(){this.enable()},show:function(){const s=e.element.topArea.style;s.display==="none"&&(s.display=l.display)},hide:function(){e.element.topArea.style.display="none"},destroy:function(){d.submenuOff(),d.containerOff(),d.controllersOff(),d.notice&&d.notice.close.call(d),d.modalForm&&d.plugins.dialog.close.call(d),d.history._destroy(),g._removeEvent(),o.removeItem(e.element.toolbar),o.removeItem(e.element.topArea);for(let s in d.functions)o.hasOwn(d,s)&&delete d.functions[s];for(let s in d)o.hasOwn(d,s)&&delete d[s];for(let s in g)o.hasOwn(g,s)&&delete g[s];for(let s in e)o.hasOwn(e,s)&&delete e[s];for(let s in t)o.hasOwn(t,s)&&delete t[s];for(let s in this)o.hasOwn(this,s)&&delete this[s]},toolbar:{disable:function(){d.submenuOff(),d.moreLayerOff(),d.containerOff(),e.tool.cover.style.display="block"},disabled:function(){this.disable()},enable:function(){e.tool.cover.style.display="none"},enabled:function(){this.enable()},show:function(){d._isInline?g._showToolbarInline():(e.element.toolbar.style.display="",e.element._stickyDummy.style.display=""),g.onResize_window()},hide:function(){d._isInline?g._hideToolbar():(e.element.toolbar.style.display="none",e.element._stickyDummy.style.display="none"),g.onResize_window()}},wysiwyg:{disable:function(){d.controllersOff(),d.modalForm&&d.plugins.dialog.close.call(d),e.element.wysiwyg.setAttribute("contenteditable",!1),d.isDisabled=!0,l.codeMirrorEditor?l.codeMirrorEditor.setOption("readOnly",!0):e.element.code.setAttribute("disabled","disabled")},enable:function(){e.element.wysiwyg.setAttribute("contenteditable",!0),d.isDisabled=!1,l.codeMirrorEditor?l.codeMirrorEditor.setOption("readOnly",!1):e.element.code.removeAttribute("disabled")}}};d.functions=y,d.options=l;let _=e.element,S=_.originElement,T=_.topArea;return S.style.display="none",T.style.display="block",l.iframe&&_.wysiwygFrame.addEventListener("load",function(){o._setIframeDocument(this,l),d._editorInit(!1,l.value),l.value=null}),typeof S.nextElementSibling=="object"?S.parentNode.insertBefore(T,S.nextElementSibling):S.parentNode.appendChild(T),_.editorArea.appendChild(_.wysiwygFrame),_=S=T=null,l.iframe||(d._editorInit(!1,l.value),l.value=null),y}const _g={init:function(e){return{create:(function(t,i){return this.create(t,i,e)}).bind(this)}},create:function(e,t,i){Le._propertiesInit(),typeof t!="object"&&(t={}),i&&(t=[i,t].reduce(function(r,u){for(let c in u)if(Le.hasOwn(u,c))if(c==="plugins"&&u[c]&&r[c]){let o=r[c],f=u[c];o=o.length?o:Object.keys(o).map(function(d){return o[d]}),f=f.length?f:Object.keys(f).map(function(d){return f[d]}),r[c]=f.filter(function(d){return o.indexOf(d)===-1}).concat(o)}else r[c]=u[c];return r},{}));const n=typeof e=="string"?document.getElementById(e):e;if(!n)throw Error(typeof e=="string"?'[SUNEDITOR.create.fail] The element for that id was not found (ID:"'+e+'")':"[SUNEDITOR.create.fail] suneditor requires textarea's element or id value");const l=Ai.init(n,t);if(l.constructed._top.id&&document.getElementById(l.constructed._top.id))throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:"'+l.constructed._top.id+'")');return Cg(zi(n,l.constructed,l.options),l.pluginCallButtons,l.plugins,l.options.lang,t,l._responsiveButtons)}},xg=Object.freeze(Object.defineProperty({__proto__:null,default:_g},Symbol.toStringTag,{value:"Module"})),wg=Mo(xg);function Sg(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var cl={};Object.defineProperty(cl,"__esModule",{value:!0});var Eg=function(e){switch(typeof e){case"object":return e;case"string":return Sg("suneditor/src/lang/".concat(e,".js"));default:return}};cl.default=Eg;var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.uploadBeforeEvents=Qt.events=void 0;Qt.events=["onMouseDown","onScroll","onInput","onClick","onKeyUp","onKeyDown","onFocus","onImageUpload","onAudioUpload","onVideoUpload","onImageUploadError","onVideoUploadError","onAudioUploadError","onSave","onSetToolbarButtons","imageUploadHandler","toggleCodeView","toggleFullScreen","showInline","showController","onCopy","onCut","onDrop","onPaste"];Qt.uploadBeforeEvents=["onImageUploadBefore","onVideoUploadBefore","onAudioUploadBefore"];var fn=Ue&&Ue.__assign||function(){return fn=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},fn.apply(this,arguments)},kg=Ue&&Ue.__createBinding||(Object.create?function(e,t,i,n){n===void 0&&(n=i);var l=Object.getOwnPropertyDescriptor(t,i);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,l)}:function(e,t,i,n){n===void 0&&(n=i),e[n]=t[i]}),Tg=Ue&&Ue.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ng=Ue&&Ue.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)&&kg(t,e,i);return Tg(t,e),t},dl=Ue&&Ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sl,"__esModule",{value:!0});var bt=Ng(C),Lg=dl(pg),Ig=dl(wg),xo=dl(cl),wo=Qt,Rg=function(e){var t=e.name,i=e.lang,n=e.setOptions,l=n===void 0?{}:n,r=e.placeholder,u=e.width,c=u===void 0?"100%":u,o=e.height,f=e.defaultValue,d=e.setContents,g=e.setDefaultStyle,y=e.getSunEditorInstance,_=e.appendContents,S=e.setAllPlugins,T=S===void 0?!0:S,s=e.disable,a=s===void 0?!1:s,h=e.readOnly,p=h===void 0?!1:h,m=e.hide,v=m===void 0?!1:m,b=e.hideToolbar,w=b===void 0?!1:b,E=e.disableToolbar,x=E===void 0?!1:E,k=e.onChange,B=e.autoFocus,N=e.onBlur,L=e.onLoad,I=(0,bt.useRef)(null),O=(0,bt.useRef)(null),P=(0,bt.useRef)(!0);return(0,bt.useEffect)(function(){var M,R=fn(fn({},l),{lang:i?(0,xo.default)(i):l.lang,width:c??l.width,placeholder:r??l.placeholder,plugins:(M=l.plugins)!==null&&M!==void 0?M:T?Lg.default:void 0,height:o??l.height,value:f??l.value,defaultStyle:g??l.defaultStyle});return t&&R.value&&(I.current.value=R.value),O.current=Ig.default.create(I.current,R),y&&y(O.current),O.current.onload=function($,A){return A||(d&&(O.current.setContents(d),O.current.core.focusEdge(null)),_&&O.current.appendContents(_),O.current.util.isIE&&O.current.core._createDefaultRange(),a&&O.current.disable(),p&&O.current.readOnly(!0),v&&O.current.hide(),w&&O.current.toolbar.hide(),x&&O.current.toolbar.disable(),B===!1?O.current.core.context.element.wysiwyg.blur():B&&O.current.core.context.element.wysiwyg.focus()),L==null?void 0:L(A)},O.current.onChange=function($){t&&I.current&&(I.current.value=$),k&&k($)},N&&(O.current.onBlur=function($){return N($,O.current.getContents(!0))}),wo.uploadBeforeEvents.forEach(function($){var A=e[$];O.current&&A&&(O.current[$]=function(F,z,H,D){return A(F,z,D)})}),wo.events.forEach(function($){var A=e[$];A&&O.current&&(O.current[$]=A)}),function(){O.current&&O.current.destroy(),O.current=null}},[]),(0,bt.useEffect)(function(){var M;P.current||(M=O.current)===null||M===void 0||M.setOptions({lang:(0,xo.default)(i)})},[i]),(0,bt.useEffect)(function(){var M;P.current||(M=O.current)===null||M===void 0||M.setOptions({placeholder:r,height:o,width:c})},[r,o,c]),(0,bt.useEffect)(function(){var M;g&&!P.current&&((M=O.current)===null||M===void 0||M.setDefaultStyle(g))},[g]),(0,bt.useEffect)(function(){var M,R;!P.current&&d!==void 0&&!(!((M=O.current)===null||M===void 0)&&M.core.hasFocus)&&((R=O.current)===null||R===void 0||R.setContents(d))},[d]),(0,bt.useEffect)(function(){var M,R,$;!P.current&&_!==void 0&&!(!((M=O.current)===null||M===void 0)&&M.core.hasFocus)&&((R=O.current)===null||R===void 0||R.appendContents(_),($=O.current)===null||$===void 0||$.core.focusEdge(null))},[_]),(0,bt.useEffect)(function(){var M,R,$,A,F,z,H,D,V;P.current||((M=O.current)===null||M===void 0||M.readOnly(p),w?(R=O.current)===null||R===void 0||R.toolbar.hide():($=O.current)===null||$===void 0||$.toolbar.show(),x?(A=O.current)===null||A===void 0||A.toolbar.disable():(F=O.current)===null||F===void 0||F.toolbar.enable(),a?(z=O.current)===null||z===void 0||z.disable():(H=O.current)===null||H===void 0||H.enable(),v?(D=O.current)===null||D===void 0||D.hide():(V=O.current)===null||V===void 0||V.show())},[a,w,x,v,p]),(0,bt.useEffect)(function(){P.current=!1},[]),bt.default.createElement("textarea",fn({style:{visibility:"hidden"},ref:I},{name:t}))};sl.default=Rg;var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.formatting=Dt.complex=Dt.basic=void 0;Dt.basic=[["font","fontSize"],["fontColor"],["horizontalRule"],["link","image"]];Dt.complex=[["undo","redo"],["font","fontSize","formatBlock"],["bold","underline","italic","strike","subscript","superscript"],["removeFormat"],"/",["fontColor","hiliteColor"],["outdent","indent"],["align","horizontalRule","list","table"],["link","image","video"],["fullScreen","showBlocks","codeView"],["preview","print"],["save","template"]];Dt.formatting=[["undo","redo"],["bold","underline","italic","strike","subscript","superscript"],["removeFormat"],["outdent","indent"],["fullScreen","showBlocks","codeView"],["preview","print"]];var Bg=Ue&&Ue.__createBinding||(Object.create?function(e,t,i,n){n===void 0&&(n=i);var l=Object.getOwnPropertyDescriptor(t,i);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,l)}:function(e,t,i,n){n===void 0&&(n=i),e[n]=t[i]}),Og=Ue&&Ue.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Mg=Ue&&Ue.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)&&Bg(t,e,i);return Og(t,e),t},Dg=Ue&&Ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ei,"__esModule",{value:!0});ei.buttonList=void 0;var Ag=Dg(sl);ei.buttonList=Mg(Dt);var zg=ei.default=Ag.default;const $g={mode:"classic",rtl:!1,katex:"window.katex",imageRotation:!0,imageUploadUrl:"",imageUploadSizeLimit:15e6,popupDisplay:"full",imageResizing:!1,videoFileInput:!1,tabDisable:!1,buttonList:[["fullScreen"],["undo","redo","removeFormat"],["font","fontSize","bold","underline","italic","strike","subscript","superscript"],["fontColor","hiliteColor"],["formatBlock","paragraphStyle","blockquote","outdent","indent","align","lineHeight"],["table","link","image","video","audio","math","template"],["showBlocks","codeView","preview","print"],["save"]]},Pg=({value:e,setValue:t})=>{const i=C.useRef(null),n=function(r){return i.current=r[0],!0};function l(r){i.current!==null&&ol(i==null?void 0:i.current,"article").then(u=>{r.src=u,r.style.objectFit="contain"})}return j.jsx("div",{children:j.jsx(zg,{onImageUploadBefore:n,onImageUpload:l,setOptions:$g,autoFocus:!0,setContents:e,onChange:t})})},Hg=e=>new Promise((t,i)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(n.result),n.onerror=l=>i(l)}),Fg=e=>{console.log("Failed:",e)},So=({action:e,id:t,onComplete:i})=>{const{trans:n}=C.useContext(Ft),[,l]=je.useMessage(),r=Do(),[u,c]=C.useState(null),[o,f]=C.useState(""),[d,g]=C.useState(""),[y,_]=C.useState(!1),[S,T]=C.useState(""),s=async v=>{!v.url&&!v.preview&&(v.preview=await Hg(v.originFileObj)),T(v.url||v.preview),_(!0)},a=async v=>{let b;return e==="edit"&&u?b=await og(v,u._id,"article"):b=await ol(v,"article"),g(b),b},h=()=>{g("")},p=v=>{const{status:b}=v.file;b==="uploading"&&je.loading(`${v.file.name} file uploading...`),b==="done"?je.success(`${v.file.name} file uploaded successfully.`):b==="error"&&je.error(`${v.file.name} file upload failed.`)},m=async v=>{const{title:b,description:w}=v;try{const E=await(e==="edit"&&u?Zr({title:b,description:w,content:o,image:d},u._id):Xr({title:b,description:w,content:o,image:d})),x=(u==null?void 0:u._id)||E._id;E&&(je.success(e==="edit"?"Update article successfully":"Create article successfully"),i&&i(),r(`/blog/${x}`))}catch{je.error(e==="edit"?"Update article failed":"Create article failed")}};return C.useEffect(()=>{e==="edit"&&t&&(async()=>{const b=await Gr(t);c(b),f(b.content),g(b.image)})()},[e,t]),j.jsxs(j.Fragment,{children:[l,j.jsxs(ut,{name:"article",labelCol:{span:8},wrapperCol:{span:16},initialValues:{title:(u==null?void 0:u.title)||"",description:(u==null?void 0:u.description)||""},onFinish:m,onFinishFailed:Fg,autoComplete:"on",children:[j.jsx(ut.Item,{label:n({en:"Title",vi:"Tiu "}),name:"title",rules:[{required:!0,message:n({en:"Please input Title",vi:"Hy nhp Tiu "})}],children:j.jsx(Bn,{})}),j.jsx(ut.Item,{label:n({en:"Description",vi:"M t"}),name:"description",rules:[{required:!0,message:n({en:"Please input Description",vi:"Hy nhp M t"})}],children:j.jsx(Bn.TextArea,{})}),j.jsx(ut.Item,{label:n({en:"Article preview image",vi:"Hnh nh i din bi vit"}),children:j.jsxs("div",{className:"flex flex-col gap-4 ",children:[(u==null?void 0:u.image)===d&&j.jsx("img",{src:u.image,alt:"article preview",style:{aspectRatio:"16/9"},className:"w-[300px]  object-cover"}),j.jsx(As,{action:a,onChange:p,listType:"picture-card",showUploadList:!0,hasControlInside:!0,onPreview:s,onRemove:h,className:"my-2",maxCount:1,children:j.jsxs("button",{style:{border:0,background:"none"},type:"button",children:[j.jsx(qo,{}),j.jsx("div",{style:{marginTop:8},children:"Upload"})]})})]})}),j.jsxs(ut.Item,{label:n({en:"Article content",vi:"Ni dung bi vit"}),children:[j.jsx(Pg,{value:o,setValue:f}),j.jsx("p",{className:"italic text-red-500",children:"M full mn hnh  ci nt 2 mi tn ch thanh cng c nha"})]}),j.jsx(ut.Item,{wrapperCol:{offset:4,span:24},children:j.jsx(Je,{block:!0,size:"large",type:"primary",className:"mt-2 bg-primary",htmlType:"submit",children:n(e==="create"?{en:"Create new article",vi:"To bi vit"}:{en:"Update article",vi:"Cp nht bi vit"})})})]},(u==null?void 0:u._id)||"create"),S&&j.jsx(_i,{wrapperStyle:{display:"none"},preview:{visible:y,onVisibleChange:v=>_(v),afterOpenChange:v=>!v&&T("")},src:S})]})},Vg=10,Kg=[{title:"Thumbnail Image",dataIndex:"images",key:"images",render:e=>j.jsx("img",{src:e[0],alt:"thumbnail",style:{width:"100px"}})},{title:"Name",dataIndex:"name",key:"name"},{title:"Price",dataIndex:"price",key:"price",render:e=>Nt.toVND(e)},{title:"Discount",dataIndex:"discount",key:"discount",render:e=>e.type==="percent"?`${e.value}%`:Nt.toVND(e.value)},{title:"Inventory",dataIndex:"inventory",key:"inventory"}],Ug=({changeFunction:e,setId:t})=>{const{trans:i}=C.useContext(Ft),[n,l]=C.useState(1),[,r]=je.useMessage(),[u,c]=C.useState(!1),{data:o}=pn({queryKey:["productSize"],queryFn:Na}),f=async _=>{await La(_)&&(je.success("Delete product successfully"),g())},d=()=>{console.log("Clicked cancel button")},g=()=>{c(_=>!_)},y=[...Kg,{title:"Action",key:"action",fixed:"right",width:100,render:(_,S)=>j.jsxs(qn,{size:"middle",children:[j.jsx(Je,{icon:j.jsx(Po,{}),onClick:()=>{t(S._id),e("EDIT_PRODUCT")}}),j.jsx(Xt,{title:"Delete Product?",description:i({en:"Are you sure to delete this Product? (It can recover later)",vi:"Bn c chc chn mun xa Sn phm ny khng? (C th khi phc sau ny)"}),onConfirm:()=>f(S._id),onCancel:d,okText:"Delete",cancelText:"Cancel",children:j.jsx(Je,{icon:j.jsx(Jt,{})})})]})}];return j.jsxs(j.Fragment,{children:[r,j.jsx("div",{children:j.jsx(Qn,{currentPage:n,pageSize:Vg,setPage:l,total:o||0,queryFn:Ta,queryKey:"products",columns:y,footer:j.jsx("div",{className:"grid place-items-end",children:j.jsx(Je,{icon:j.jsx(Jt,{}),type:"dashed",onClick:()=>e("PRODUCT_RECYCLE_BIN"),children:i({en:"Recover deleted products",vi:"Khi phc sn phm  xa"})})})})},JSON.stringify(u))]})},jg=10,Wg=[{title:"Thumbnail Image",dataIndex:"images",key:"images",render:e=>j.jsx("img",{src:e[0],alt:"thumbnail",style:{width:"100px"}})},{title:"Name",dataIndex:"name",key:"name"},{title:"Price",dataIndex:"price",key:"price",render:e=>Nt.toVND(e)},{title:"Discount",dataIndex:"discount",key:"discount",render:e=>e.type==="percent"?`${e.value}%`:Nt.toVND(e.value)},{title:"Inventory",dataIndex:"inventory",key:"inventory"}],qg=()=>{const{trans:e}=C.useContext(Ft),[t,i]=C.useState(1),[,n]=je.useMessage(),[l,r]=C.useState(!1),{data:u}=pn({queryKey:["deletedProductSize"],queryFn:Ra}),c=async y=>{await Ba(y)&&(je.success("Delete article successfully"),d())},o=async y=>{await Oa(y)&&(je.success("Restore article successfully"),d())},f=()=>{console.log("Clicked cancel button")},d=()=>{r(y=>!y)},g=[...Wg,{title:"Action",key:"action",fixed:"right",width:100,render:(y,_)=>j.jsxs(qn,{size:"middle",children:[j.jsx(Xt,{title:"Restore article?",okType:"primary",description:e({en:"Are you sure you want to restore this article?",vi:"Bn c chc chn mun khi phc bi vit ny khng?"}),onConfirm:()=>o(_._id),onCancel:f,okText:"Restore",cancelText:"Cancel",children:j.jsx(Je,{icon:j.jsx(jo,{})})}),j.jsx(Xt,{title:"Delete article?",okType:"danger",description:e({en:"Are you sure you want to delete this article? (It can't be restored later)",vi:"Bn c chc chn mun xa bi vit ny khng? (Khng th khi phc sau ny)"}),onConfirm:()=>c(_._id),onCancel:f,okText:"Delete",cancelText:"Cancel",children:j.jsx(Je,{icon:j.jsx(Jt,{})})})]})}];return j.jsxs(j.Fragment,{children:[n,j.jsx("div",{children:j.jsx(Qn,{currentPage:t,pageSize:jg,setPage:i,total:u||0,queryFn:Ia,queryKey:"deletedProducts",columns:g})},JSON.stringify(l))]})},Zg=e=>{console.log("Failed:",e)},Xg=e=>new Promise((t,i)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(n.result),n.onerror=l=>i(l)}),Eo=({action:e,id:t,onComplete:i})=>{const[,n]=je.useMessage(),{trans:l}=C.useContext(Ft),[r,u]=C.useState(null),[c,o]=C.useState(0),f=Do(),[d,g]=C.useState({type:"percent",value:0}),[y,_]=C.useState(!1),[S,T]=C.useState(""),[s,a]=C.useState([]),h=async w=>{!w.url&&!w.preview&&(w.preview=await Xg(w.originFileObj)),T(w.url||w.preview),_(!0)},p=async w=>{const E=await ol(w,"product");return a(x=>[...x,{filepath:E,uid_temp:w.uid}]),E},m=w=>{if(typeof w=="string"){console.log("remove image",w),a(E=>E.filter(x=>x.filepath!==w)),console.log(s);return}a(E=>E.filter(x=>x.uid_temp!==w.uid))},v=w=>{const{status:E}=w.file;E!=="uploading"&&(console.log(w.file,w.fileList),je.loading(`${w.file.name} file uploading...`)),E==="done"?je.success(`${w.file.name} file uploaded successfully.`):E==="error"&&je.error(`${w.file.name} file upload failed.`)},b=async w=>{const{name:E,description:x,inventory:k}=w,B=s.map(N=>N.filepath);try{const N=await(e==="edit"&&r?Ma({name:E,description:x,price:c,discount:d,images:B,inventory:k},r._id):Da({name:E,description:x,price:c,discount:d,images:B,inventory:k})),L=(r==null?void 0:r._id)||N._id;N&&(je.success(e==="edit"?"Update product successfully":"Create product successfully"),i&&i(),f(`/order/product/${L}`))}catch(N){console.error(N),je.error("Failed to create product")}};return C.useEffect(()=>{e==="edit"&&t&&(async()=>{const E=await Aa(t);u(E),o(E.price),a(E.images.map(x=>({filepath:x,uid_temp:""}))||[])})()},[e,t]),j.jsxs(j.Fragment,{children:[n,j.jsxs(ut,{name:"product",labelCol:{span:8},wrapperCol:{span:16},initialValues:{name:(r==null?void 0:r.name)||"",description:(r==null?void 0:r.description)||"",price:(r==null?void 0:r.price)||0,discountValue:(r==null?void 0:r.discount.value)||0,discountType:(r==null?void 0:r.discount.type)||"percent",inventory:(r==null?void 0:r.inventory)||0},onFinish:b,onFinishFailed:Zg,autoComplete:"on",children:[j.jsx(ut.Item,{label:l({en:"Product name",vi:"Tn sn phm"}),name:"name",rules:[{required:!0,message:l({en:"Please input Product Name",vi:"Hy nhp Tn Sn Phm"})}],children:j.jsx(Bn,{})}),j.jsx(ut.Item,{label:l({en:"Product description",vi:"M t sn phm"}),name:"description",rules:[{required:!0,message:l({en:"Please input Product Description",vi:"Hy nhp M T Sn Phm"})}],children:j.jsx(xa,{rows:3})}),j.jsxs(ut.Item,{label:l({en:"Product Price",vi:"Gi thnh sn phm"}),name:"price",rules:[{required:!0,min:0,type:"number",message:l({en:"Please input Product Price",vi:"Hy nhp Gi Sn Phm"})}],children:[j.jsx(si,{className:"w-full",size:"large",value:c,formatter:w=>`${w}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:w=>w==null?void 0:w.replace(/\$\s?|(,*)/g,""),onChange:w=>o(w)}),j.jsx("span",{className:"italic font-medium text-gray-500",children:Nt.numberToPronunciation(c)})]}),j.jsxs(ut.Item,{label:l({en:"Discount",vi:"Discount"}),name:"discountValue",children:[j.jsxs("div",{className:"grid grid-cols-8 gap-4",children:[j.jsx(si,{disabled:c===0,className:"w-full col-span-5",type:"text",min:0,max:d.type==="percent"?100:c,value:d.value,formatter:w=>`${w}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:w=>w==null?void 0:w.replace(/\$\s?|(,*)/g,""),onChange:w=>{g(E=>({...E,value:w}))}}),j.jsxs(ta,{className:"col-span-3",value:d.type,onChange:w=>g(E=>({...E,type:w})),children:[j.jsx(Mn,{value:"percent",children:l({en:"Percent (%)",vi:"Phn trm (%)"})}),j.jsx(Mn,{value:"fixed",children:l({en:"Fixed value ()",vi:"Gi tr c nh ()"})})]})]}),j.jsxs("p",{children:[l({en:"Discount amount ",vi:"S tin gim gi "}),Nt.toVND(Number(d.type==="percent"?c*Number(d.value)/100:Number(d.value)))]})]}),j.jsx(ut.Item,{label:l({en:"Product Inventory",vi:"Sn phm tn kho"}),name:"inventory",initialValue:0,rules:[{required:!1,min:0,type:"number"}],children:j.jsx(si,{defaultValue:0,className:"w-full",size:"large",formatter:w=>`${w}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:w=>w==null?void 0:w.replace(/\$\s?|(,*)/g,""),onChange:w=>o(w)})}),j.jsxs(ut.Item,{label:l({en:"Product images",vi:"Hnh nh sn phm"}),children:[j.jsx("div",{className:"flex flex-wrap gap-2",children:r&&s.map((w,E)=>j.jsxs("div",{className:"flex flex-col items-center gap-2 p-2 border rounded-md",children:[j.jsx(_i,{src:w.filepath,alt:"product image",width:50,height:50,className:"object-contain"},E),j.jsx(Je,{danger:!0,block:!0,icon:j.jsx(Rr,{}),onClick:()=>m(w.filepath)})]}))}),j.jsx(As,{action:p,onChange:v,listType:"picture-card",showUploadList:!0,hasControlInside:!0,onPreview:h,onRemove:m,className:"my-2",children:j.jsxs("button",{style:{border:0,background:"none"},type:"button",children:[j.jsx(qo,{}),j.jsx("div",{style:{marginTop:8},children:"Upload"})]})})]}),j.jsx(ut.Item,{wrapperCol:{offset:4,span:24},children:j.jsx("div",{className:"flex items-end justify-end gap-2 mr-16 md:mr-0",children:j.jsx(Je,{block:!0,size:"large",type:"primary",className:"mt-2 bg-primary",htmlType:"submit",children:l(e==="create"?{en:"Create product",vi:"To sn phm"}:{en:"Update product",vi:"Cp nht sn phm"})})})})]},(r==null?void 0:r._id)||"create"),S&&j.jsx(_i,{wrapperStyle:{display:"none"},preview:{visible:y,onVisibleChange:w=>_(w),afterOpenChange:w=>!w&&T("")},src:S})]})},Gg=["product","blog",null],Yg=Ao.getItem("ADMIN_INDEX_PAGE"),$n={HOME_PAGE:{name:{en:"Welcome to admin page",vi:"Cho mng n vi trang qun tr vin"},group:null,icon:null,hidden:!0},CREATE_BLOG:{name:{en:"Create new Blog",vi:"To Bi vit mi"},group:"blog",icon:zr},BLOG_MANAGER:{name:{en:"Blog Manager",vi:"Qun l bi vit"},group:"blog",icon:Jh},ARTICLE_RECYCLE_BIN:{name:{en:"Deleted Articles",vi:"Bi vit  xa"},group:"blog",icon:Ol},EDIT_BLOG:{name:{en:"Edit Blog",vi:"Chnh sa bi vit"},group:"blog",hidden:!0,icon:null},CREATE_PRODUCT:{name:{en:"Create new Product",vi:"To Sn phm mi"},group:"product",icon:Mr},EDIT_PRODUCT:{name:{en:"Edit Product",vi:"Chnh sa sn phm"},group:"product",hidden:!0,icon:null},PRODUCT_MANAGER:{name:{en:"Product Manager",vi:"Qun l sn phm"},group:"product",icon:$r},PRODUCT_RECYCLE_BIN:{name:{en:"Deleted Products",vi:"Sn phm  xa"},group:"product",icon:Ol}},Jg=Object.keys($n).map(e=>({...$n[e],key:e})),Ip=()=>{var d,g;const e=Ar(),{user:t}=C.useContext(Br),{trans:i}=C.useContext(Ft),[n,l]=C.useState(""),[r,u]=C.useState(Yg||"HOME_PAGE"),c=()=>{u("HOME_PAGE")},o=y=>{u(y)},f=C.useMemo(()=>{switch(r){case"CREATE_PRODUCT":return j.jsx(Eo,{action:"create"});case"CREATE_BLOG":return j.jsx(So,{action:"create"});case"BLOG_MANAGER":return j.jsx(tg,{changeFunction:o,setId:l});case"ARTICLE_RECYCLE_BIN":return j.jsx(lg,{});case"EDIT_BLOG":return j.jsx(So,{action:"edit",id:n});case"PRODUCT_MANAGER":return j.jsx(Ug,{setId:l,changeFunction:o},"productManager");case"PRODUCT_RECYCLE_BIN":return j.jsx(qg,{});case"EDIT_PRODUCT":return j.jsx(Eo,{action:"edit",id:n});default:return j.jsx(j.Fragment,{children:j.jsx("p",{className:"text-red-500",children:"This function not exists"})})}},[r,n]);return C.useEffect(()=>{const y=function(_){return _.preventDefault(),_.returnValue="Are you sure you want to leave the page?"};return r!=="HOME_PAGE"&&window.addEventListener("beforeunload",y,{capture:!0}),()=>{window.removeEventListener("beforeunload",y,{capture:!0})}},[r]),C.useEffect(()=>{Ao.setItem("ADMIN_INDEX_PAGE",r)},[r]),!t||t.role!=="admin"?j.jsxs("div",{className:"flex flex-col justify-center max-w-screen-lg px-8 mx-auto mt-16",children:[j.jsx("h1",{className:"my-8 text-3xl text-center text-red-500",children:"What are you doing here? "}),j.jsx("p",{className:"my-2 mb-8 italic text-center text-gray-500",children:"This funciton is not for you role, try to ask thanhcanhit"}),j.jsx(Or,{to:"/",children:j.jsx(Je,{type:"primary",block:!0,size:"large",children:"BACK TO HOME"})})]}):e?j.jsxs("div",{className:"px-2 my-4 mt-8 text-center",children:[j.jsx("h1",{className:"text-2xl font-semibold text-red-500",children:i({en:"Not support on this Device",vi:"Khng h tr trn thit b ny"})}),j.jsx("p",{className:"italic text-center text-red-400",children:i({en:"To better UX, pls use this function on PC or Tablet",vi:" c tri nghim tt nht, hy dng tnh nng ny  my tnh hoc my tnh bng"})})]}):r==="HOME_PAGE"?j.jsxs("div",{className:"relative max-w-screen-lg px-2 mx-auto my-4 mt-8",children:[j.jsxs("h1",{className:"mt-2 text-2xl font-semibold text-center",children:[i({en:"Welcome to admin page,",vi:"Cho mng n vi trang qun tr vin,"}),j.jsx("span",{className:"block text-primary",children:"The sharks team"})]}),j.jsx("div",{className:"flex flex-col gap-8 mt-8",children:Gg.slice(0,2).map(y=>j.jsxs("div",{className:"p-4 border rounded-lg min-h-[230px]",children:[j.jsx("h3",{className:"mb-2 text-xl font-semibold capitalize text-primary",children:y||"Other"}),j.jsx("div",{className:"grid grid-cols-3 gap-8 lg:gap-16 lg:grid-cols-5",children:Jg.map((_,S)=>_.group===y&&!_.hidden?j.jsxs("div",{onClick:()=>u(_.key),className:"grid gap-4 p-4 border rounded-md cursor-pointer hover:shadow-md place-items-center w-[200px] h-[150px] group select-none",children:[j.jsx("div",{className:"text-3xl text-gray-500 transition-colors group-hover:text-primary",children:_.icon?j.jsx(_.icon,{}):j.jsx(j.Fragment,{})}),j.jsx("p",{className:"font-semibold text-center",children:i(_.name)})]},S):null)})]},y))})]}):j.jsxs("div",{className:"max-w-screen-lg px-2 mx-auto my-4 mt-8",children:[j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx(Je,{shape:"round",type:"primary",className:"w-fit",icon:j.jsx(Pr,{}),onClick:c,children:i({en:"Back",vi:"Quay li"})}),((d=$n[r])==null?void 0:d.name)&&j.jsx("h2",{className:"flex-auto text-xl font-bold text-center text-primary",children:i((g=$n[r])==null?void 0:g.name)})]}),j.jsx("div",{className:"flex flex-col mt-4",children:f})]})};export{Ip as default};
